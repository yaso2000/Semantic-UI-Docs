{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":120},"end":{"line":8,"column":35,"index":142}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":163},"end":{"line":10,"column":45,"index":190}}],"key":"GAbjt/Hy0pRSJKSf8CzR7q2/snc=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":45,"index":238},"end":{"line":12,"column":72,"index":265}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":37,"index":306},"end":{"line":14,"column":63,"index":332}}],"key":"3G5PPPGQWEQwDLs9noq5D25VWfo=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":13,"index":349},"end":{"line":16,"column":32,"index":368}}],"key":"RFGtgFE/Tu4zdfnbMKbFHDM/T4I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),n=r(d[1]),o=h(r(d[2])),s=h(r(d[3])),u=r(d[4]);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}const l=n.Directions.RIGHT,f=(0,u.coneToDeviation)(30),P=(0,u.coneToDeviation)(60);class p extends o.default{constructor(...t){super(...t),c(this,\"numberOfPointersRequired\",1),c(this,\"direction\",l),c(this,\"maxDurationMs\",800),c(this,\"minVelocity\",700),c(this,\"delayTimeout\",void 0),c(this,\"maxNumberOfPointersSimultaneously\",0),c(this,\"keyPointer\",NaN)}updateGestureConfig({enabled:t=!0,...n}){super.updateGestureConfig({enabled:t,...n}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=s.default.fromVelocity(this.tracker,this.keyPointer),o=(n,o)=>(n&this.direction)===n&&t.isSimilar(s.default.fromDirection(n),o),u=Object.values(n.Directions),h=Object.values(n.DiagonalDirections),c=u.map(t=>o(t,f)),l=h.map(t=>o(t,P)),p=c.some(Boolean)||l.some(Boolean),b=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!p||!b)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===t.State.UNDETERMINED&&this.startFling(),this.state===t.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(n){this.tracker.track(n),this.state===t.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(n){this.state===t.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(n.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=l}}e.default=p});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_State"],[1,113,8,13,"require"],[1,115,8,20,"d"],[1,117,8,20],[1,121,10,4,"_Directions"],[1,123,10,18,"require"],[1,125,10,25,"d"],[1,127,10,25],[1,131,12,4,"_GestureHandler"],[1,133,12,22,"_interopRequireDefault"],[1,135,12,45,"require"],[1,137,12,52,"d"],[1,139,12,52],[1,144,14,4,"_Vector"],[1,146,14,14,"_interopRequireDefault"],[1,148,14,37,"require"],[1,150,14,44,"d"],[1,152,14,44],[1,157,16,4,"_utils"],[1,159,16,13,"require"],[1,161,16,20,"d"],[1,163,16,20],[1,167,18,0],[1,176,18,9,"_interopRequireDefault"],[1,178,18,32,"obj"],[1,181,18,39],[1,188,18,46,"obj"],[1,191,18,53,"obj"],[1,193,18,57,"__esModule"],[1,204,18,70,"obj"],[1,206,18,76],[1,207,18,78,"default"],[1,215,18,87,"obj"],[1,217,18,94],[1,218,20,0],[1,227,20,9,"_defineProperty"],[1,229,20,25,"obj"],[1,231,20,30,"key"],[1,233,20,35,"value"],[1,236,20,196],[1,243,20,48,"key"],[1,248,20,55,"obj"],[1,250,20,62,"Object"],[1,257,20,69,"defineProperty"],[1,272,20,84,"obj"],[1,274,20,89,"key"],[1,276,20,94],[1,277,20,96,"value"],[1,283,20,103,"value"],[1,285,20,110,"enumerable"],[1,297,20,122],[1,299,20,128,"configurable"],[1,313,20,142],[1,315,20,148,"writable"],[1,325,20,158],[1,329,20,176,"obj"],[1,331,20,180,"key"],[1,334,20,187,"value"],[1,336,20,203,"obj"],[1,337,20,208],[1,338,22,0],[1,344,25,6,"DEFAULT_DIRECTION"],[1,346,25,26,"_Directions"],[1,348,25,38,"Directions"],[1,359,25,49,"RIGHT"],[1,365,27,6,"AXIAL_DEVIATION_COSINE"],[1,368,27,31],[1,370,27,35,"_utils"],[1,372,27,42,"coneToDeviation"],[1,389,24,31],[1,393,28,6,"DIAGONAL_DEVIATION_COSINE"],[1,396,28,34],[1,398,28,38,"_utils"],[1,400,28,45,"coneToDeviation"],[1,417,28,60],[1,421,30,0],[1,427,30,6,"FlingGestureHandler"],[1,437,30,34,"_GestureHandler"],[1,439,30,50,"default"],[1,447,31,2,"constructor"],[1,462,31,17,"args"],[1,465,32,4,"super"],[1,474,32,13,"args"],[1,477,34,4,"_defineProperty"],[1,479,34,20,"this"],[1,484,34,26],[1,511,26,43],[1,514,36,4,"_defineProperty"],[1,516,36,20,"this"],[1,521,36,26],[1,533,36,39,"DEFAULT_DIRECTION"],[1,536,38,4,"_defineProperty"],[1,538,38,20,"this"],[1,543,38,26],[1,559,22,32],[1,564,40,4,"_defineProperty"],[1,566,40,20,"this"],[1,571,40,26],[1,585,23,29],[1,590,42,4,"_defineProperty"],[1,592,42,20,"this"],[1,597,42,26],[1,617,42,40,"undefined"],[1,620,44,4,"_defineProperty"],[1,622,44,20,"this"],[1,627,44,26],[1,663,44,63],[1,666,46,4,"_defineProperty"],[1,668,46,20,"this"],[1,673,46,26],[1,686,46,40,"NaN"],[1,690,47,2],[1,691,49,2,"updateGestureConfig"],[1,712,49,22,"enabled"],[1,720,50,4,"enabled"],[1,723,50,14],[1,728,51,7,"props"],[1,732,53,4,"super"],[1,738,53,10,"updateGestureConfig"],[1,758,53,30],[1,759,54,6,"enabled"],[1,767,54,15,"enabled"],[1,772,55,9,"props"],[1,776,58,8,"this"],[1,781,58,13,"config"],[1,788,58,20,"direction"],[1,800,59,6,"this"],[1,805,59,11,"direction"],[1,815,59,23,"this"],[1,820,59,28,"config"],[1,827,59,35,"direction"],[1,838,62,8,"this"],[1,843,62,13,"config"],[1,850,62,20,"numberOfPointers"],[1,869,63,6,"this"],[1,874,63,11,"numberOfPointersRequired"],[1,899,63,38,"this"],[1,904,63,43,"config"],[1,911,63,50,"numberOfPointers"],[1,928,65,2],[1,929,67,2,"startFling"],[1,942,68,4,"this"],[1,947,68,9,"begin"],[1,955,69,4,"this"],[1,960,69,9,"maxNumberOfPointersSimultaneously"],[1,994,69,45],[1,996,70,4,"this"],[1,1001,70,9,"delayTimeout"],[1,1014,70,24,"setTimeout"],[1,1025,70,35],[1,1029,70,41,"this"],[1,1034,70,46,"fail"],[1,1041,70,54,"this"],[1,1046,70,59,"maxDurationMs"],[1,1060,71,2],[1,1061,73,2,"tryEndFling"],[1,1075,74,4],[1,1081,74,10,"velocityVector"],[1,1083,74,27,"_Vector"],[1,1085,74,35,"default"],[1,1093,74,43,"fromVelocity"],[1,1106,74,56,"this"],[1,1111,74,61,"tracker"],[1,1119,74,70,"this"],[1,1124,74,75,"keyPointer"],[1,1136,76,10,"getAlignment"],[1,1138,76,25,"getAlignment"],[1,1139,76,26,"direction"],[1,1141,76,37,"minimalAlignmentCosine"],[1,1146,77,14,"direction"],[1,1148,77,26,"this"],[1,1153,77,31,"direction"],[1,1166,77,46,"direction"],[1,1169,77,59,"velocityVector"],[1,1171,77,74,"isSimilar"],[1,1181,77,84,"_Vector"],[1,1183,77,92,"default"],[1,1191,77,100,"fromDirection"],[1,1205,77,114,"direction"],[1,1208,77,126,"minimalAlignmentCosine"],[1,1211,80,10,"axialDirectionsList"],[1,1213,80,32,"Object"],[1,1220,80,39,"values"],[1,1227,80,46,"_Directions"],[1,1229,80,58,"Directions"],[1,1241,81,10,"diagonalDirectionsList"],[1,1243,81,35,"Object"],[1,1250,81,42,"values"],[1,1257,81,49,"_Directions"],[1,1259,81,61,"DiagonalDirections"],[1,1279,83,10,"axialAlignmentList"],[1,1281,83,31,"axialDirectionsList"],[1,1283,83,51,"map"],[1,1287,83,55,"direction"],[1,1290,83,68,"getAlignment"],[1,1292,83,81,"direction"],[1,1294,83,92,"AXIAL_DEVIATION_COSINE"],[1,1298,84,10,"diagonalAlignmentList"],[1,1300,84,34,"diagonalDirectionsList"],[1,1302,84,57,"map"],[1,1306,84,61,"direction"],[1,1309,84,74,"getAlignment"],[1,1311,84,87,"direction"],[1,1313,84,98,"DIAGONAL_DEVIATION_COSINE"],[1,1317,85,10,"isAligned"],[1,1319,85,22,"axialAlignmentList"],[1,1321,85,41,"some"],[1,1326,85,46,"Boolean"],[1,1336,85,58,"diagonalAlignmentList"],[1,1338,85,80,"some"],[1,1343,85,85,"Boolean"],[1,1352,86,10,"isFast"],[1,1354,86,19,"velocityVector"],[1,1356,86,34,"magnitude"],[1,1366,86,46,"this"],[1,1371,86,51,"minVelocity"],[1,1383,88,4],[1,1391,88,8,"this"],[1,1396,88,13,"maxNumberOfPointersSimultaneously"],[1,1432,88,51,"this"],[1,1437,88,56,"numberOfPointersRequired"],[1,1464,88,84,"isAligned"],[1,1468,88,97,"isFast"],[1,1473,89,6,"clearTimeout"],[1,1486,89,19,"this"],[1,1491,89,24,"delayTimeout"],[1,1505,90,6,"this"],[1,1510,90,11,"activate"],[1,1522,91,13],[1,1524,95,2],[1,1525,97,2,"endFling"],[1,1536,98,9,"this"],[1,1541,98,14,"tryEndFling"],[1,1556,99,6,"this"],[1,1561,99,11,"fail"],[1,1567,101,2],[1,1568,103,2,"onPointerDown"],[1,1582,103,16,"event"],[1,1585,104,9,"this"],[1,1590,104,14,"isButtonInConfig"],[1,1607,104,31,"event"],[1,1609,104,37,"button"],[1,1619,108,4,"this"],[1,1624,108,9,"tracker"],[1,1632,108,17,"addToTracker"],[1,1645,108,30,"event"],[1,1648,109,4,"this"],[1,1653,109,9,"keyPointer"],[1,1664,109,22,"event"],[1,1666,109,28,"pointerId"],[1,1676,110,4,"super"],[1,1682,110,10,"onPointerDown"],[1,1696,110,24,"event"],[1,1699,111,4,"this"],[1,1704,111,9,"newPointerAction"],[1,1723,112,4,"this"],[1,1728,112,9,"tryToSendTouchEvent"],[1,1748,112,29,"event"],[1,1751,113,2],[1,1752,115,2,"onPointerAdd"],[1,1765,115,15,"event"],[1,1768,116,4,"this"],[1,1773,116,9,"tracker"],[1,1781,116,17,"addToTracker"],[1,1794,116,30,"event"],[1,1797,117,4,"super"],[1,1803,117,10,"onPointerAdd"],[1,1816,117,23,"event"],[1,1819,118,4,"this"],[1,1824,118,9,"newPointerAction"],[1,1842,119,2],[1,1843,121,2,"newPointerAction"],[1,1862,122,8,"this"],[1,1867,122,13,"state"],[1,1875,122,23,"_State"],[1,1877,122,30,"State"],[1,1883,122,36,"UNDETERMINED"],[1,1897,123,6,"this"],[1,1902,123,11,"startFling"],[1,1915,126,8,"this"],[1,1920,126,13,"state"],[1,1928,126,23,"_State"],[1,1930,126,30,"State"],[1,1936,126,36,"BEGAN"],[1,1944,130,4,"this"],[1,1949,130,9,"tryEndFling"],[1,1963,132,8,"this"],[1,1968,132,13,"tracker"],[1,1976,132,21,"trackedPointersCount"],[1,1997,132,44,"this"],[1,2002,132,49,"maxNumberOfPointersSimultaneously"],[1,2038,133,6,"this"],[1,2043,133,11,"maxNumberOfPointersSimultaneously"],[1,2077,133,47,"this"],[1,2082,133,52,"tracker"],[1,2090,133,60,"trackedPointersCount"],[1,2112,135,2],[1,2113,137,2,"pointerMoveAction"],[1,2131,137,20,"event"],[1,2134,138,4,"this"],[1,2139,138,9,"tracker"],[1,2147,138,17,"track"],[1,2153,138,23,"event"],[1,2156,140,8,"this"],[1,2161,140,13,"state"],[1,2169,140,23,"_State"],[1,2171,140,30,"State"],[1,2177,140,36,"BEGAN"],[1,2184,144,4,"this"],[1,2189,144,9,"tryEndFling"],[1,2202,145,2],[1,2203,147,2,"onPointerMove"],[1,2217,147,16,"event"],[1,2220,148,4,"this"],[1,2225,148,9,"pointerMoveAction"],[1,2243,148,27,"event"],[1,2246,149,4,"super"],[1,2252,149,10,"onPointerMove"],[1,2266,149,24,"event"],[1,2268,150,2],[1,2269,152,2,"onPointerOutOfBounds"],[1,2290,152,23,"event"],[1,2293,153,4,"this"],[1,2298,153,9,"pointerMoveAction"],[1,2316,153,27,"event"],[1,2319,154,4,"super"],[1,2325,154,10,"onPointerOutOfBounds"],[1,2346,154,31,"event"],[1,2348,155,2],[1,2349,157,2,"onPointerUp"],[1,2361,157,14,"event"],[1,2364,158,4,"super"],[1,2370,158,10,"onPointerUp"],[1,2382,158,22,"event"],[1,2385,159,4,"this"],[1,2390,159,9,"onUp"],[1,2395,159,14,"event"],[1,2398,160,4,"this"],[1,2403,160,9,"keyPointer"],[1,2414,160,22,"NaN"],[1,2417,161,2],[1,2418,163,2,"onPointerRemove"],[1,2434,163,18,"event"],[1,2437,164,4,"super"],[1,2443,164,10,"onPointerRemove"],[1,2459,164,26,"event"],[1,2462,165,4,"this"],[1,2467,165,9,"onUp"],[1,2472,165,14,"event"],[1,2474,166,2],[1,2475,168,2,"onUp"],[1,2480,168,7,"event"],[1,2483,169,8,"this"],[1,2488,169,13,"state"],[1,2496,169,23,"_State"],[1,2498,169,30,"State"],[1,2504,169,36,"BEGAN"],[1,2511,170,6,"this"],[1,2516,170,11,"endFling"],[1,2527,173,4,"this"],[1,2532,173,9,"tracker"],[1,2540,173,17,"removeFromTracker"],[1,2558,173,35,"event"],[1,2560,173,41,"pointerId"],[1,2570,174,2],[1,2571,176,2,"activate"],[1,2580,176,11,"force"],[1,2583,177,4,"super"],[1,2589,177,10,"activate"],[1,2598,177,19,"force"],[1,2601,178,4,"this"],[1,2606,178,9,"end"],[1,2611,179,2],[1,2612,181,2,"resetConfig"],[1,2626,182,4,"super"],[1,2632,182,10,"resetConfig"],[1,2646,183,4,"this"],[1,2651,183,9,"numberOfPointersRequired"],[1,2676,26,43],[1,2678,184,4,"this"],[1,2683,184,9,"direction"],[1,2693,184,21,"DEFAULT_DIRECTION"],[1,2694,185,2],[1,2696,189,0,"exports"],[1,2698,189,8,"default"],[1,2706,189,18,"FlingGestureHandler"],[1,2707,189,38],[1,2710]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","FlingGestureHandler","constructor","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA;ACiB,+FD;AEE,iNF;AGU;ECC;GDgB;EEE;GFgB;EGE;mCCG,iBD;GHC;EKE;yBCG;KDE;uDEK,4DF;6DGC,+DH;GLW;ESE;GTI;EUE;GVU;EWE;GXI;EYE;GZc;EaE;GbQ;EcE;GdG;EeE;GfG;EgBE;GhBI;EiBE;GjBG;EkBE;GlBM;EmBE;GnBG;EoBE;GpBI;CHE"},"hasCjsExports":true},"type":"js/module"}]}