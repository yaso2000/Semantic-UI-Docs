{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":125},"end":{"line":8,"column":42,"index":149}}],"key":"596k1m46J08d+Af0Max0usWU1VI=","exportNames":["*"],"imports":1}},{"name":"./EventManager","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":43,"index":195},"end":{"line":10,"column":68,"index":220}}],"key":"MV7P0qSLfUx3BNx3HVTE8QBpThU=","exportNames":["*"],"imports":1}},{"name":"../../PointerType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":19,"index":243},"end":{"line":12,"column":47,"index":271}}],"key":"GAwFf6ECEOo66Cd6tbX5TiUkJ2k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t,s=r(d[0]),n=(t=r(d[1]))&&t.__esModule?t:{default:t},o=r(d[2]);function l(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}class h extends n.default{constructor(...t){super(...t),l(this,\"activationKeys\",['Enter',' ']),l(this,\"cancelationKeys\",['Tab']),l(this,\"isPressed\",!1),l(this,\"keyDownCallback\",t=>{-1!==this.cancelationKeys.indexOf(t.key)&&this.isPressed?this.dispatchEvent(t,s.EventTypes.CANCEL):-1!==this.activationKeys.indexOf(t.key)&&this.dispatchEvent(t,s.EventTypes.DOWN)}),l(this,\"keyUpCallback\",t=>{-1!==this.activationKeys.indexOf(t.key)&&this.isPressed&&this.dispatchEvent(t,s.EventTypes.UP)})}dispatchEvent(t,n){if(!(t.target instanceof HTMLElement))return;const o=this.mapEvent(t,n);switch(n){case s.EventTypes.UP:this.isPressed=!1,this.onPointerUp(o);break;case s.EventTypes.DOWN:this.isPressed=!0,this.onPointerDown(o);break;case s.EventTypes.CANCEL:this.isPressed=!1,this.onPointerCancel(o)}}registerListeners(){this.view.addEventListener('keydown',this.keyDownCallback),this.view.addEventListener('keyup',this.keyUpCallback)}unregisterListeners(){this.view.removeEventListener('keydown',this.keyDownCallback),this.view.removeEventListener('keyup',this.keyUpCallback)}mapEvent(t,s){const n=t.target.getBoundingClientRect(),l={x:(null==n?void 0:n.x)+(null==n?void 0:n.width)/2,y:(null==n?void 0:n.y)+(null==n?void 0:n.height)/2},h={x:(null==n?void 0:n.width)/2,y:(null==n?void 0:n.height)/2};return{x:l.x,y:l.y,offsetX:h.x,offsetY:h.y,pointerId:0,eventType:s,pointerType:o.PointerType.KEY,time:t.timeStamp}}}e.default=h});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,14,32,"obj"],[1,113,8,4,"_interfaces"],[1,115,8,18,"require"],[1,117,8,25,"d"],[1,119,8,25],[1,123,10,4,"_EventManager"],[1,126,14,32,"obj"],[1,128,10,43,"require"],[1,130,10,50,"d"],[1,132,10,50],[1,138,14,53,"obj"],[1,140,14,57,"__esModule"],[1,151,14,70,"obj"],[1,153,14,76],[1,154,14,78,"default"],[1,162,14,87,"obj"],[1,165,12,4,"_PointerType"],[1,167,12,19,"require"],[1,169,12,26,"d"],[1,171,12,26],[1,175,16,0],[1,184,16,9,"_defineProperty"],[1,186,16,25,"obj"],[1,188,16,30,"key"],[1,190,16,35,"value"],[1,193,16,196],[1,200,16,48,"key"],[1,205,16,55,"obj"],[1,207,16,62,"Object"],[1,214,16,69,"defineProperty"],[1,229,16,84,"obj"],[1,231,16,89,"key"],[1,233,16,94],[1,234,16,96,"value"],[1,240,16,103,"value"],[1,242,16,110,"enumerable"],[1,254,16,122],[1,256,16,128,"configurable"],[1,270,16,142],[1,272,16,148,"writable"],[1,282,16,158],[1,286,16,176,"obj"],[1,288,16,180,"key"],[1,291,16,187,"value"],[1,293,16,203,"obj"],[1,294,16,208],[1,295,18,0],[1,301,18,6,"KeyboardEventManager"],[1,311,18,35,"_EventManager"],[1,313,18,49,"default"],[1,321,19,2,"constructor"],[1,336,19,17,"args"],[1,339,20,4,"super"],[1,348,20,13,"args"],[1,351,22,4,"_defineProperty"],[1,353,22,20,"this"],[1,358,22,26],[1,375,22,44],[1,376,22,45],[1,384,22,54],[1,390,24,4,"_defineProperty"],[1,392,24,20,"this"],[1,397,24,26],[1,415,24,45],[1,416,24,46],[1,424,26,4,"_defineProperty"],[1,426,26,20,"this"],[1,431,26,26],[1,444,26,39],[1,447,28,4,"_defineProperty"],[1,449,28,20,"this"],[1,454,28,26],[1,472,28,45,"event"],[1,477,29,49],[1,481,29,10,"this"],[1,486,29,15,"cancelationKeys"],[1,502,29,31,"indexOf"],[1,510,29,39,"event"],[1,512,29,45,"key"],[1,518,29,60,"this"],[1,523,29,65,"isPressed"],[1,533,30,8,"this"],[1,538,30,13,"dispatchEvent"],[1,552,30,27,"event"],[1,554,30,34,"_interfaces"],[1,556,30,46,"EventTypes"],[1,567,30,57,"CANCEL"],[1,576,34,48],[1,580,34,10,"this"],[1,585,34,15,"activationKeys"],[1,600,34,30,"indexOf"],[1,608,34,38,"event"],[1,610,34,44,"key"],[1,616,38,6,"this"],[1,621,38,11,"dispatchEvent"],[1,635,38,25,"event"],[1,637,38,32,"_interfaces"],[1,639,38,44,"EventTypes"],[1,650,38,55,"DOWN"],[1,658,41,4,"_defineProperty"],[1,660,41,20,"this"],[1,665,41,26],[1,681,41,43,"event"],[1,686,42,48],[1,690,42,10,"this"],[1,695,42,15,"activationKeys"],[1,710,42,30,"indexOf"],[1,718,42,38,"event"],[1,720,42,44,"key"],[1,726,42,60,"this"],[1,731,42,65,"isPressed"],[1,742,46,6,"this"],[1,747,46,11,"dispatchEvent"],[1,761,46,25,"event"],[1,763,46,32,"_interfaces"],[1,765,46,44,"EventTypes"],[1,776,46,55,"UP"],[1,781,48,2],[1,782,50,2,"dispatchEvent"],[1,796,50,16,"event"],[1,798,50,23,"eventType"],[1,801,51,4],[1,806,51,10,"event"],[1,808,51,16,"target"],[1,826,51,34,"HTMLElement"],[1,839,52,6],[1,846,55,4],[1,852,55,10,"adaptedEvent"],[1,854,55,25,"this"],[1,859,55,30,"mapEvent"],[1,868,55,39,"event"],[1,870,55,46,"eventType"],[1,873,57,4],[1,880,57,12,"eventType"],[1,883,58,6],[1,888,58,11,"_interfaces"],[1,890,58,23,"EventTypes"],[1,901,58,34,"UP"],[1,904,59,8,"this"],[1,909,59,13,"isPressed"],[1,920,59,25],[1,922,60,8,"this"],[1,927,60,13,"onPointerUp"],[1,939,60,25,"adaptedEvent"],[1,942,61,8],[1,948,63,6],[1,953,63,11,"_interfaces"],[1,955,63,23,"EventTypes"],[1,966,63,34,"DOWN"],[1,971,64,8,"this"],[1,976,64,13,"isPressed"],[1,987,64,25],[1,989,65,8,"this"],[1,994,65,13,"onPointerDown"],[1,1008,65,27,"adaptedEvent"],[1,1011,66,8],[1,1017,68,6],[1,1022,68,11,"_interfaces"],[1,1024,68,23,"EventTypes"],[1,1035,68,34,"CANCEL"],[1,1042,69,8,"this"],[1,1047,69,13,"isPressed"],[1,1058,69,25],[1,1060,70,8,"this"],[1,1065,70,13,"onPointerCancel"],[1,1081,70,29,"adaptedEvent"],[1,1084,73,2],[1,1085,75,2,"registerListeners"],[1,1105,76,4,"this"],[1,1110,76,9,"view"],[1,1115,76,14,"addEventListener"],[1,1132,76,31],[1,1142,76,42,"this"],[1,1147,76,47,"keyDownCallback"],[1,1164,77,4,"this"],[1,1169,77,9,"view"],[1,1174,77,14,"addEventListener"],[1,1191,77,31],[1,1199,77,40,"this"],[1,1204,77,45,"keyUpCallback"],[1,1218,78,2],[1,1219,80,2,"unregisterListeners"],[1,1241,81,4,"this"],[1,1246,81,9,"view"],[1,1251,81,14,"removeEventListener"],[1,1271,81,34],[1,1281,81,45,"this"],[1,1286,81,50,"keyDownCallback"],[1,1303,82,4,"this"],[1,1308,82,9,"view"],[1,1313,82,14,"removeEventListener"],[1,1333,82,34],[1,1341,82,43,"this"],[1,1346,82,48,"keyUpCallback"],[1,1360,83,2],[1,1361,85,2,"mapEvent"],[1,1370,85,11,"event"],[1,1372,85,18,"eventType"],[1,1375,86,4],[1,1381,86,10,"viewRect"],[1,1383,86,21,"event"],[1,1385,86,27,"target"],[1,1392,86,34,"getBoundingClientRect"],[1,1416,87,10,"viewportPosition"],[1,1418,87,29],[1,1419,88,6,"x"],[1,1422,88,10,"viewRect"],[1,1435,88,50,"undefined"],[1,1437,88,62,"viewRect"],[1,1439,88,71,"x"],[1,1443,88,77,"viewRect"],[1,1456,88,117,"undefined"],[1,1458,88,129,"viewRect"],[1,1460,88,138,"width"],[1,1467,88,147],[1,1469,89,6,"y"],[1,1472,89,10,"viewRect"],[1,1485,89,50,"undefined"],[1,1487,89,62,"viewRect"],[1,1489,89,71,"y"],[1,1493,89,77,"viewRect"],[1,1506,89,117,"undefined"],[1,1508,89,129,"viewRect"],[1,1510,89,138,"height"],[1,1518,89,148],[1,1521,91,10,"relativePosition"],[1,1523,91,29],[1,1524,92,6,"x"],[1,1527,92,10,"viewRect"],[1,1540,92,50,"undefined"],[1,1542,92,62,"viewRect"],[1,1544,92,71,"width"],[1,1551,92,80],[1,1553,93,6,"y"],[1,1556,93,10,"viewRect"],[1,1569,93,50,"undefined"],[1,1571,93,62,"viewRect"],[1,1573,93,71,"height"],[1,1581,93,81],[1,1584,95,4],[1,1590,95,11],[1,1591,96,6,"x"],[1,1593,96,9,"viewportPosition"],[1,1595,96,26,"x"],[1,1597,97,6,"y"],[1,1599,97,9,"viewportPosition"],[1,1601,97,26,"y"],[1,1603,98,6,"offsetX"],[1,1611,98,15,"relativePosition"],[1,1613,98,32,"x"],[1,1615,99,6,"offsetY"],[1,1623,99,15,"relativePosition"],[1,1625,99,32,"y"],[1,1627,100,6,"pointerId"],[1,1637,100,17],[1,1639,101,6,"eventType"],[1,1649,101,17,"eventType"],[1,1651,102,6,"pointerType"],[1,1663,102,19,"_PointerType"],[1,1665,102,32,"PointerType"],[1,1677,102,44,"KEY"],[1,1681,103,6,"time"],[1,1686,103,12,"event"],[1,1688,103,18,"timeStamp"],[1,1698,105,2],[1,1700,109,0,"exports"],[1,1702,109,8,"default"],[1,1710,109,18,"KeyboardEventManager"],[1,1711,109,39],[1,1714]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","KeyboardEventManager","constructor","_defineProperty$argument_2","dispatchEvent","registerListeners","unregisterListeners","mapEvent"],"mappings":"AAA;ACa,+FD;AEE,iNF;AGE;ECC;6CCS;KDW;2CCE;KDM;GDC;EGE;GHuB;EIE;GJG;EKE;GLG;EME;GNoB;CHE"},"hasCjsExports":true},"type":"js/module"}]}