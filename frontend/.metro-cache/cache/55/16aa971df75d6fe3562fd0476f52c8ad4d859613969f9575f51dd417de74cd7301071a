{"dependencies":[{"name":"./CircularBuffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":45,"index":152},"end":{"line":8,"column":72,"index":179}}],"key":"kLmCiPfKlVuhgpSUa2CQDmaipq8=","exportNames":["*"],"imports":1}},{"name":"./LeastSquareSolver","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":48,"index":231},"end":{"line":10,"column":78,"index":261}}],"key":"/RKGCJZSWujAKDAHNEtloslp9BQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=l(r(d[0])),t=l(r(d[1]));function l(s){return s&&s.__esModule?s:{default:s}}function n(s,t,l){return t in s?Object.defineProperty(s,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[t]=l,s}e.default=class{constructor(){n(this,\"assumePointerMoveStoppedMilliseconds\",40),n(this,\"historySize\",20),n(this,\"horizonMilliseconds\",300),n(this,\"minSampleSize\",3),n(this,\"samples\",void 0),this.samples=new s.default(this.historySize)}add(s){this.samples.push(s)}getVelocityEstimate(){const s=[],l=[],n=[],o=[];let u=0,c=this.samples.size-1;const h=this.samples.get(c);if(!h)return null;let f=h;for(;u<this.samples.size;){const t=this.samples.get(c),p=h.time-t.time,v=Math.abs(t.time-f.time);if(f=t,p>this.horizonMilliseconds||v>this.assumePointerMoveStoppedMilliseconds)break;s.push(t.x),l.push(t.y),n.push(1),o.push(-p),u++,c--}if(u>=this.minSampleSize){const u=new t.default(o,s,n).solve(2);if(null!==u){const s=new t.default(o,l,n).solve(2);if(null!==s){return[1e3*u.coefficients[1],1e3*s.coefficients[1]]}}}return null}get velocity(){const s=this.getVelocityEstimate();return null!==s?s:[0,0]}reset(){this.samples.clear()}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_CircularBuffer"],[1,113,8,22,"_interopRequireDefault"],[1,115,8,45,"require"],[1,117,8,52,"d"],[1,119,8,52],[1,124,10,4,"_LeastSquareSolver"],[1,126,10,25,"_interopRequireDefault"],[1,128,10,48,"require"],[1,130,10,55,"d"],[1,132,10,55],[1,137,12,0],[1,146,12,9,"_interopRequireDefault"],[1,148,12,32,"obj"],[1,151,12,39],[1,158,12,46,"obj"],[1,161,12,53,"obj"],[1,163,12,57,"__esModule"],[1,174,12,70,"obj"],[1,176,12,76],[1,177,12,78,"default"],[1,185,12,87,"obj"],[1,187,12,94],[1,188,14,0],[1,197,14,9,"_defineProperty"],[1,199,14,25,"obj"],[1,201,14,30,"key"],[1,203,14,35,"value"],[1,206,14,196],[1,213,14,48,"key"],[1,218,14,55,"obj"],[1,220,14,62,"Object"],[1,227,14,69,"defineProperty"],[1,242,14,84,"obj"],[1,244,14,89,"key"],[1,246,14,94],[1,247,14,96,"value"],[1,253,14,103,"value"],[1,255,14,110,"enumerable"],[1,267,14,122],[1,269,14,128,"configurable"],[1,283,14,142],[1,285,14,148,"writable"],[1,295,14,158],[1,299,14,176,"obj"],[1,301,14,180,"key"],[1,304,14,187,"value"],[1,306,14,203,"obj"],[1,307,14,208],[1,308,110,0,"exports"],[1,310,110,8,"default"],[1,318,16,0],[1,324,17,2,"constructor"],[1,338,18,4,"_defineProperty"],[1,340,18,20,"this"],[1,345,18,26],[1,384,18,66],[1,388,20,4,"_defineProperty"],[1,390,20,20,"this"],[1,395,20,26],[1,409,20,41],[1,413,22,4,"_defineProperty"],[1,415,22,20,"this"],[1,420,22,26],[1,442,22,49],[1,447,24,4,"_defineProperty"],[1,449,24,20,"this"],[1,454,24,26],[1,470,24,43],[1,473,26,4,"_defineProperty"],[1,475,26,20,"this"],[1,480,26,26],[1,495,26,35,"undefined"],[1,498,28,4,"this"],[1,503,28,9,"samples"],[1,511,28,19],[1,515,28,23,"_CircularBuffer"],[1,517,28,39,"default"],[1,525,28,47,"this"],[1,530,28,52,"historySize"],[1,542,29,2],[1,543,31,2,"add"],[1,547,31,6,"event"],[1,550,32,4,"this"],[1,555,32,9,"samples"],[1,563,32,17,"push"],[1,568,32,22,"event"],[1,570,33,2],[1,571,41,2,"getVelocityEstimate"],[1,593,42,4],[1,599,42,10,"x"],[1,601,42,14],[1,604,43,10,"y"],[1,606,43,14],[1,609,44,10,"w"],[1,611,44,14],[1,614,45,10,"time"],[1,616,45,17],[1,619,46,4],[1,623,46,8,"sampleCount"],[1,625,46,22],[1,627,47,8,"index"],[1,629,47,16,"this"],[1,634,47,21,"samples"],[1,642,47,29,"size"],[1,647,47,36],[1,649,48,4],[1,655,48,10,"newestSample"],[1,657,48,25,"this"],[1,662,48,30,"samples"],[1,670,48,38,"get"],[1,674,48,42,"index"],[1,677,50,4],[1,681,50,9,"newestSample"],[1,683,51,6],[1,690,51,13],[1,695,54,4],[1,699,54,8,"previousSample"],[1,701,54,25,"newestSample"],[1,703,57,4],[1,708,57,11,"sampleCount"],[1,710,57,25,"this"],[1,715,57,30,"samples"],[1,723,57,38,"size"],[1,729,57,44],[1,730,58,6],[1,736,58,12,"sample"],[1,738,58,21,"this"],[1,743,58,26,"samples"],[1,751,58,34,"get"],[1,755,58,38,"index"],[1,758,59,12,"age"],[1,760,59,18,"newestSample"],[1,762,59,31,"time"],[1,767,59,38,"sample"],[1,769,59,45,"time"],[1,774,60,12,"delta"],[1,776,60,20,"Math"],[1,781,60,25,"abs"],[1,785,60,29,"sample"],[1,787,60,36,"time"],[1,792,60,43,"previousSample"],[1,794,60,58,"time"],[1,800,63,6],[1,803,61,6,"previousSample"],[1,805,61,23,"sample"],[1,807,63,10,"age"],[1,809,63,16,"this"],[1,814,63,21,"horizonMilliseconds"],[1,835,63,44,"delta"],[1,837,63,52,"this"],[1,842,63,57,"assumePointerMoveStoppedMilliseconds"],[1,879,64,8],[1,885,67,6,"x"],[1,887,67,8,"push"],[1,892,67,13,"sample"],[1,894,67,20,"x"],[1,897,68,6,"y"],[1,899,68,8,"push"],[1,904,68,13,"sample"],[1,906,68,20,"y"],[1,909,69,6,"w"],[1,911,69,8,"push"],[1,916,69,13],[1,919,70,6,"time"],[1,921,70,11,"push"],[1,927,70,17,"age"],[1,930,71,6,"sampleCount"],[1,934,72,6,"index"],[1,937,73,4],[1,938,75,4],[1,941,75,8,"sampleCount"],[1,944,75,23,"this"],[1,949,75,28,"minSampleSize"],[1,963,75,43],[1,964,76,6],[1,970,77,12,"xFit"],[1,972,76,22],[1,976,76,26,"_LeastSquareSolver"],[1,978,76,45,"default"],[1,986,76,53,"time"],[1,988,76,59,"x"],[1,990,76,62,"w"],[1,993,77,27,"solve"],[1,999,77,33],[1,1002,79,6],[1,1005,79,19],[1,1012,79,10,"xFit"],[1,1014,79,25],[1,1015,80,8],[1,1021,81,14,"yFit"],[1,1023,80,24],[1,1027,80,28,"_LeastSquareSolver"],[1,1029,80,47,"default"],[1,1037,80,55,"time"],[1,1039,80,61,"y"],[1,1041,80,64,"w"],[1,1044,81,29,"solve"],[1,1050,81,35],[1,1053,83,8],[1,1056,83,21],[1,1063,83,12,"yFit"],[1,1065,83,27],[1,1066,86,10],[1,1072,86,17],[1,1073,84,51],[1,1077,84,28,"xFit"],[1,1079,84,33,"coefficients"],[1,1092,84,46],[1,1095,85,51],[1,1099,85,28,"yFit"],[1,1101,85,33,"coefficients"],[1,1114,85,46],[1,1117,87,8],[1,1118,88,6],[1,1119,89,4],[1,1120,91,4],[1,1127,91,11],[1,1131,92,2],[1,1132,94,2],[1,1144,94,6,"velocity"],[1,1147,95,4],[1,1153,95,10,"estimate"],[1,1155,95,21,"this"],[1,1160,95,26,"getVelocityEstimate"],[1,1182,97,4],[1,1189,97,21],[1,1196,97,8,"estimate"],[1,1198,98,13,"estimate"],[1,1200,101,11],[1,1201,101,12],[1,1203,101,15],[1,1205,102,2],[1,1206,104,2,"reset"],[1,1214,105,4,"this"],[1,1219,105,9,"samples"],[1,1227,105,17,"clear"],[1,1234,106,2],[1,1236,110,34],[1,1239]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","VelocityTracker","constructor","add","getVelocityEstimate","get__velocity","reset"],"mappings":"AAA;ACW,+FD;AEE,iNF;AGE;ECC;GDY;EEE;GFE;EGQ;GHmD;EIE;GJQ;EKE;GLE;CHE"},"hasCjsExports":true},"type":"js/module"}]}