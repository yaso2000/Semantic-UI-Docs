{"dependencies":[{"name":"./CircularBuffer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":46,"index":257}}],"key":"uVgm5B14gvsefJ8WOcz2JJQif+Q=","exportNames":["*"],"imports":1}},{"name":"./LeastSquareSolver","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":258},"end":{"line":4,"column":52,"index":310}}],"key":"pL+OKV6zXpveMrqrg91kFAGJP/w=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),s=e(r(d[1]));function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(){l(this,\"assumePointerMoveStoppedMilliseconds\",40),l(this,\"historySize\",20),l(this,\"horizonMilliseconds\",300),l(this,\"minSampleSize\",3),l(this,\"samples\",void 0),this.samples=new t.default(this.historySize)}add(e){this.samples.push(e)}getVelocityEstimate(){const e=[],t=[],l=[],n=[];let o=0,u=this.samples.size-1;const c=this.samples.get(u);if(!c)return null;let h=c;for(;o<this.samples.size;){const s=this.samples.get(u),f=c.time-s.time,p=Math.abs(s.time-h.time);if(h=s,f>this.horizonMilliseconds||p>this.assumePointerMoveStoppedMilliseconds)break;e.push(s.x),t.push(s.y),l.push(1),n.push(-f),o++,u--}if(o>=this.minSampleSize){const o=new s.default(n,e,l).solve(2);if(null!==o){const e=new s.default(n,t,l).solve(2);if(null!==e){return[1e3*o.coefficients[1],1e3*e.coefficients[1]]}}}return null}get velocity(){const e=this.getVelocityEstimate();return null!==e?e:[0,0]}reset(){this.samples.clear()}}});","lineCount":1,"map":[[1,143,5,15,"Object"],[1,150,5,15,"defineProperty"],[1,165,5,15,"_e"],[1,168,5,15],[1,179,5,15,"enumerable"],[1,191,5,15],[1,193,5,15,"get"],[1,197,5,15],[1,215,5,15,"VelocityTracker"],[1,216,5,15],[1,220,3,0],[1,224,3,0,"CircularBuffer"],[1,226,3,0,"_interopDefault"],[1,228,3,0,"r"],[1,230,3,0,"d"],[1,232,3,0],[1,237,4,0,"LeastSquareSolver"],[1,239,4,0,"_interopDefault"],[1,241,4,0,"r"],[1,243,4,0,"d"],[1,245,4,0],[1,250,1,0],[1,259,1,9,"_defineProperty"],[1,261,1,25,"obj"],[1,263,1,30,"key"],[1,265,1,35,"value"],[1,268,1,196],[1,275,1,48,"key"],[1,280,1,55,"obj"],[1,282,1,62,"Object"],[1,289,1,69,"defineProperty"],[1,304,1,84,"obj"],[1,306,1,89,"key"],[1,308,1,94],[1,309,1,96,"value"],[1,315,1,103,"value"],[1,317,1,110,"enumerable"],[1,329,1,122],[1,331,1,128,"configurable"],[1,345,1,142],[1,347,1,148,"writable"],[1,357,1,158],[1,361,1,176,"obj"],[1,363,1,180,"key"],[1,366,1,187,"value"],[1,368,1,203,"obj"],[1,369,1,208],[1,370,5,15],[1,376,5,21,"VelocityTracker"],[1,378,6,2,"constructor"],[1,392,7,4,"_defineProperty"],[1,394,7,20,"this"],[1,399,7,26],[1,438,7,66],[1,442,9,4,"_defineProperty"],[1,444,9,20,"this"],[1,449,9,26],[1,463,9,41],[1,467,11,4,"_defineProperty"],[1,469,11,20,"this"],[1,474,11,26],[1,496,11,49],[1,501,13,4,"_defineProperty"],[1,503,13,20,"this"],[1,508,13,26],[1,524,13,43],[1,527,15,4,"_defineProperty"],[1,529,15,20,"this"],[1,534,15,26],[1,549,15,35,"undefined"],[1,552,17,4,"this"],[1,557,17,9,"samples"],[1,565,17,19],[1,569,17,23,"CircularBuffer"],[1,571,17,37,"default"],[1,579,17,38,"this"],[1,584,17,43,"historySize"],[1,596,18,2],[1,597,20,2,"add"],[1,601,20,6,"event"],[1,604,21,4,"this"],[1,609,21,9,"samples"],[1,617,21,17,"push"],[1,622,21,22,"event"],[1,624,22,2],[1,625,30,2,"getVelocityEstimate"],[1,647,31,4],[1,653,31,10,"x"],[1,655,31,14],[1,658,32,10,"y"],[1,660,32,14],[1,663,33,10,"w"],[1,665,33,14],[1,668,34,10,"time"],[1,670,34,17],[1,673,35,4],[1,677,35,8,"sampleCount"],[1,679,35,22],[1,681,36,8,"index"],[1,683,36,16,"this"],[1,688,36,21,"samples"],[1,696,36,29,"size"],[1,701,36,36],[1,703,37,4],[1,709,37,10,"newestSample"],[1,711,37,25,"this"],[1,716,37,30,"samples"],[1,724,37,38,"get"],[1,728,37,42,"index"],[1,731,39,4],[1,735,39,9,"newestSample"],[1,737,40,6],[1,744,40,13],[1,749,43,4],[1,753,43,8,"previousSample"],[1,755,43,25,"newestSample"],[1,757,46,4],[1,762,46,11,"sampleCount"],[1,764,46,25,"this"],[1,769,46,30,"samples"],[1,777,46,38,"size"],[1,783,46,44],[1,784,47,6],[1,790,47,12,"sample"],[1,792,47,21,"this"],[1,797,47,26,"samples"],[1,805,47,34,"get"],[1,809,47,38,"index"],[1,812,48,12,"age"],[1,814,48,18,"newestSample"],[1,816,48,31,"time"],[1,821,48,38,"sample"],[1,823,48,45,"time"],[1,828,49,12,"delta"],[1,830,49,20,"Math"],[1,835,49,25,"abs"],[1,839,49,29,"sample"],[1,841,49,36,"time"],[1,846,49,43,"previousSample"],[1,848,49,58,"time"],[1,854,52,6],[1,857,50,6,"previousSample"],[1,859,50,23,"sample"],[1,861,52,10,"age"],[1,863,52,16,"this"],[1,868,52,21,"horizonMilliseconds"],[1,889,52,44,"delta"],[1,891,52,52,"this"],[1,896,52,57,"assumePointerMoveStoppedMilliseconds"],[1,933,53,8],[1,939,56,6,"x"],[1,941,56,8,"push"],[1,946,56,13,"sample"],[1,948,56,20,"x"],[1,951,57,6,"y"],[1,953,57,8,"push"],[1,958,57,13,"sample"],[1,960,57,20,"y"],[1,963,58,6,"w"],[1,965,58,8,"push"],[1,970,58,13],[1,973,59,6,"time"],[1,975,59,11,"push"],[1,981,59,17,"age"],[1,984,60,6,"sampleCount"],[1,988,61,6,"index"],[1,991,62,4],[1,992,64,4],[1,995,64,8,"sampleCount"],[1,998,64,23,"this"],[1,1003,64,28,"minSampleSize"],[1,1017,64,43],[1,1018,65,6],[1,1024,66,12,"xFit"],[1,1026,65,22],[1,1030,65,26,"LeastSquareSolver"],[1,1032,65,43,"default"],[1,1040,65,44,"time"],[1,1042,65,50,"x"],[1,1044,65,53,"w"],[1,1047,66,27,"solve"],[1,1053,66,33],[1,1056,68,6],[1,1059,68,19],[1,1066,68,10,"xFit"],[1,1068,68,25],[1,1069,69,8],[1,1075,70,14,"yFit"],[1,1077,69,24],[1,1081,69,28,"LeastSquareSolver"],[1,1083,69,45,"default"],[1,1091,69,46,"time"],[1,1093,69,52,"y"],[1,1095,69,55,"w"],[1,1098,70,29,"solve"],[1,1104,70,35],[1,1107,72,8],[1,1110,72,21],[1,1117,72,12,"yFit"],[1,1119,72,27],[1,1120,75,10],[1,1126,75,17],[1,1127,73,51],[1,1131,73,28,"xFit"],[1,1133,73,33,"coefficients"],[1,1146,73,46],[1,1149,74,51],[1,1153,74,28,"yFit"],[1,1155,74,33,"coefficients"],[1,1168,74,46],[1,1171,76,8],[1,1172,77,6],[1,1173,78,4],[1,1174,80,4],[1,1181,80,11],[1,1185,81,2],[1,1186,83,2],[1,1198,83,6,"velocity"],[1,1201,84,4],[1,1207,84,10,"estimate"],[1,1209,84,21,"this"],[1,1214,84,26,"getVelocityEstimate"],[1,1236,86,4],[1,1243,86,21],[1,1250,86,8,"estimate"],[1,1252,87,13,"estimate"],[1,1254,90,11],[1,1255,90,12],[1,1257,90,15],[1,1259,91,2],[1,1260,93,2,"reset"],[1,1268,94,4,"this"],[1,1273,94,9,"samples"],[1,1281,94,17,"clear"],[1,1288,95,2],[1,1290,97,1],[1,1293]],"functionMap":{"names":["_defineProperty","<global>","VelocityTracker","constructor","add","getVelocityEstimate","get__velocity","reset"],"mappings":"AAA,iNC;eCI;ECC;GDY;EEE;GFE;EGQ;GHmD;EIE;GJQ;EKE;GLE;CDE"},"hasCjsExports":false},"type":"js/module"}]}