{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":120},"end":{"line":8,"column":35,"index":142}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":45,"index":190},"end":{"line":10,"column":72,"index":217}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../detectors/RotationGestureDetector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":54,"index":275},"end":{"line":12,"column":101,"index":322}}],"key":"ZNTq50C1+dQfYgBkFo03GBsUbks=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),o=s(r(d[1])),n=s(r(d[2]));function s(t){return t&&t.__esModule?t:{default:t}}function h(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}const c=Math.PI/36;class u extends o.default{constructor(...o){super(...o),h(this,\"rotation\",0),h(this,\"velocity\",0),h(this,\"cachedAnchorX\",0),h(this,\"cachedAnchorY\",0),h(this,\"rotationGestureListener\",{onRotationBegin:t=>!0,onRotation:o=>{const n=this.rotation;this.rotation+=o.rotation;const s=o.timeDelta;return s>0&&(this.velocity=(this.rotation-n)/s),Math.abs(this.rotation)>=c&&this.state===t.State.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}}),h(this,\"rotationGestureDetector\",new n.default(this.rotationGestureListener))}init(t,o){super.init(t,o),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(o){super.onPointerUp(o),this.tracker.removeFromTracker(o.pointerId),this.rotationGestureDetector.onTouchEvent(o,this.tracker),this.state===t.State.ACTIVE&&(this.state===t.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===t.State.UNDETERMINED&&this.begin()}onReset(){this.state!==t.State.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}e.default=u});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_State"],[1,113,8,13,"require"],[1,115,8,20,"d"],[1,117,8,20],[1,121,10,4,"_GestureHandler"],[1,123,10,22,"_interopRequireDefault"],[1,125,10,45,"require"],[1,127,10,52,"d"],[1,129,10,52],[1,134,12,4,"_RotationGestureDetector"],[1,136,12,31,"_interopRequireDefault"],[1,138,12,54,"require"],[1,140,12,61,"d"],[1,142,12,61],[1,147,14,0],[1,156,14,9,"_interopRequireDefault"],[1,158,14,32,"obj"],[1,161,14,39],[1,168,14,46,"obj"],[1,171,14,53,"obj"],[1,173,14,57,"__esModule"],[1,184,14,70,"obj"],[1,186,14,76],[1,187,14,78,"default"],[1,195,14,87,"obj"],[1,197,14,94],[1,198,16,0],[1,207,16,9,"_defineProperty"],[1,209,16,25,"obj"],[1,211,16,30,"key"],[1,213,16,35,"value"],[1,216,16,196],[1,223,16,48,"key"],[1,228,16,55,"obj"],[1,230,16,62,"Object"],[1,237,16,69,"defineProperty"],[1,252,16,84,"obj"],[1,254,16,89,"key"],[1,256,16,94],[1,257,16,96,"value"],[1,263,16,103,"value"],[1,265,16,110,"enumerable"],[1,277,16,122],[1,279,16,128,"configurable"],[1,293,16,142],[1,295,16,148,"writable"],[1,305,16,158],[1,309,16,176,"obj"],[1,311,16,180,"key"],[1,314,16,187,"value"],[1,316,16,203,"obj"],[1,317,16,208],[1,318,18,0],[1,324,18,6,"ROTATION_RECOGNITION_THRESHOLD"],[1,326,18,39,"Math"],[1,331,18,44,"PI"],[1,334,18,49],[1,337,20,0],[1,343,20,6,"RotationGestureHandler"],[1,353,20,37,"_GestureHandler"],[1,355,20,53,"default"],[1,363,21,2,"constructor"],[1,378,21,17,"args"],[1,381,22,4,"super"],[1,390,22,13,"args"],[1,393,24,4,"_defineProperty"],[1,395,24,20,"this"],[1,400,24,26],[1,411,24,38],[1,414,26,4,"_defineProperty"],[1,416,26,20,"this"],[1,421,26,26],[1,432,26,38],[1,435,28,4,"_defineProperty"],[1,437,28,20,"this"],[1,442,28,26],[1,458,28,43],[1,461,30,4,"_defineProperty"],[1,463,30,20,"this"],[1,468,30,26],[1,484,30,43],[1,487,32,4,"_defineProperty"],[1,489,32,20,"this"],[1,494,32,26],[1,520,32,53],[1,521,33,6,"onRotationBegin"],[1,537,33,23,"_detector"],[1,541,33,36],[1,543,34,6,"onRotation"],[1,554,34,18,"detector"],[1,558,35,8],[1,564,35,14,"previousRotation"],[1,566,35,33,"this"],[1,571,35,38,"rotation"],[1,580,36,8,"this"],[1,585,36,13,"rotation"],[1,595,36,25,"detector"],[1,597,36,34,"rotation"],[1,606,37,8],[1,612,37,14,"delta"],[1,614,37,22,"detector"],[1,616,37,31,"timeDelta"],[1,626,47,8],[1,633,39,12,"delta"],[1,635,39,20],[1,639,40,10,"this"],[1,644,40,15,"velocity"],[1,654,40,27,"this"],[1,659,40,32,"rotation"],[1,668,40,43,"previousRotation"],[1,671,40,63,"delta"],[1,674,43,12,"Math"],[1,679,43,17,"abs"],[1,683,43,21,"this"],[1,688,43,26,"rotation"],[1,699,43,39,"ROTATION_RECOGNITION_THRESHOLD"],[1,702,43,73,"this"],[1,707,43,78,"state"],[1,715,43,88,"_State"],[1,717,43,95,"State"],[1,723,43,101,"BEGAN"],[1,730,44,10,"this"],[1,735,44,15,"activate"],[1,747,47,15],[1,750,49,6,"onRotationEnd"],[1,764,49,21,"_detector"],[1,768,50,8,"this"],[1,773,50,13,"end"],[1,782,54,4,"_defineProperty"],[1,784,54,20,"this"],[1,789,54,26],[1,815,54,53],[1,819,54,57,"_RotationGestureDetector"],[1,821,54,82,"default"],[1,829,54,90,"this"],[1,834,54,95,"rotationGestureListener"],[1,859,55,2],[1,860,57,2,"init"],[1,865,57,7,"ref"],[1,867,57,12,"propsRef"],[1,870,58,4,"super"],[1,876,58,10,"init"],[1,881,58,15,"ref"],[1,883,58,20,"propsRef"],[1,886,59,4,"this"],[1,891,59,9,"shouldCancelWhenOutside"],[1,916,59,35],[1,917,60,2],[1,918,62,2,"transformNativeEvent"],[1,941,63,4],[1,947,63,11],[1,948,64,6,"rotation"],[1,957,64,16,"this"],[1,962,64,21,"rotation"],[1,971,64,32,"this"],[1,976,64,37,"rotation"],[1,985,64,48],[1,987,65,6,"anchorX"],[1,995,65,15,"this"],[1,1000,65,20,"getAnchorX"],[1,1013,66,6,"anchorY"],[1,1021,66,15,"this"],[1,1026,66,20,"getAnchorY"],[1,1039,67,6,"velocity"],[1,1048,67,16,"this"],[1,1053,67,21,"velocity"],[1,1062,67,32,"this"],[1,1067,67,37,"velocity"],[1,1076,67,48],[1,1078,69,2],[1,1079,71,2,"getAnchorX"],[1,1092,72,4],[1,1098,72,10,"anchorX"],[1,1100,72,20,"this"],[1,1105,72,25,"rotationGestureDetector"],[1,1129,72,49,"anchorX"],[1,1137,73,4],[1,1144,73,11,"anchorX"],[1,1147,73,31,"this"],[1,1152,73,36,"cachedAnchorX"],[1,1165,74,2],[1,1166,76,2,"getAnchorY"],[1,1179,77,4],[1,1185,77,10,"anchorY"],[1,1187,77,20,"this"],[1,1192,77,25,"rotationGestureDetector"],[1,1216,77,49,"anchorY"],[1,1224,78,4],[1,1231,78,11,"anchorY"],[1,1234,78,31,"this"],[1,1239,78,36,"cachedAnchorY"],[1,1252,79,2],[1,1253,81,2,"onPointerDown"],[1,1267,81,16,"event"],[1,1270,82,4,"this"],[1,1275,82,9,"tracker"],[1,1283,82,17,"addToTracker"],[1,1296,82,30,"event"],[1,1299,83,4,"super"],[1,1305,83,10,"onPointerDown"],[1,1319,83,24,"event"],[1,1322,84,4,"this"],[1,1327,84,9,"tryToSendTouchEvent"],[1,1347,84,29,"event"],[1,1349,85,2],[1,1350,87,2,"onPointerAdd"],[1,1363,87,15,"event"],[1,1366,88,4,"this"],[1,1371,88,9,"tracker"],[1,1379,88,17,"addToTracker"],[1,1392,88,30,"event"],[1,1395,89,4,"super"],[1,1401,89,10,"onPointerAdd"],[1,1414,89,23,"event"],[1,1417,90,4,"this"],[1,1422,90,9,"tryBegin"],[1,1433,91,4,"this"],[1,1438,91,9,"rotationGestureDetector"],[1,1462,91,33,"onTouchEvent"],[1,1475,91,46,"event"],[1,1477,91,53,"this"],[1,1482,91,58,"tracker"],[1,1490,92,2],[1,1491,94,2,"onPointerMove"],[1,1505,94,16,"event"],[1,1508,95,8,"this"],[1,1513,95,13,"tracker"],[1,1521,95,21,"trackedPointersCount"],[1,1542,95,44],[1,1546,99,8,"this"],[1,1551,99,13,"getAnchorX"],[1,1566,100,6,"this"],[1,1571,100,11,"cachedAnchorX"],[1,1585,100,27,"this"],[1,1590,100,32,"getAnchorX"],[1,1604,103,8,"this"],[1,1609,103,13,"getAnchorY"],[1,1624,104,6,"this"],[1,1629,104,11,"cachedAnchorY"],[1,1643,104,27,"this"],[1,1648,104,32,"getAnchorY"],[1,1662,107,4,"this"],[1,1667,107,9,"tracker"],[1,1675,107,17,"track"],[1,1681,107,23,"event"],[1,1684,108,4,"this"],[1,1689,108,9,"rotationGestureDetector"],[1,1713,108,33,"onTouchEvent"],[1,1726,108,46,"event"],[1,1728,108,53,"this"],[1,1733,108,58,"tracker"],[1,1742,109,4,"super"],[1,1748,109,10,"onPointerMove"],[1,1762,109,24,"event"],[1,1765,110,2],[1,1766,112,2,"onPointerOutOfBounds"],[1,1787,112,23,"event"],[1,1790,113,8,"this"],[1,1795,113,13,"tracker"],[1,1803,113,21,"trackedPointersCount"],[1,1824,113,44],[1,1828,117,8,"this"],[1,1833,117,13,"getAnchorX"],[1,1848,118,6,"this"],[1,1853,118,11,"cachedAnchorX"],[1,1867,118,27,"this"],[1,1872,118,32,"getAnchorX"],[1,1886,121,8,"this"],[1,1891,121,13,"getAnchorY"],[1,1906,122,6,"this"],[1,1911,122,11,"cachedAnchorY"],[1,1925,122,27,"this"],[1,1930,122,32,"getAnchorY"],[1,1944,125,4,"this"],[1,1949,125,9,"tracker"],[1,1957,125,17,"track"],[1,1963,125,23,"event"],[1,1966,126,4,"this"],[1,1971,126,9,"rotationGestureDetector"],[1,1995,126,33,"onTouchEvent"],[1,2008,126,46,"event"],[1,2010,126,53,"this"],[1,2015,126,58,"tracker"],[1,2024,127,4,"super"],[1,2030,127,10,"onPointerOutOfBounds"],[1,2051,127,31,"event"],[1,2054,128,2],[1,2055,130,2,"onPointerUp"],[1,2067,130,14,"event"],[1,2070,131,4,"super"],[1,2076,131,10,"onPointerUp"],[1,2088,131,22,"event"],[1,2091,132,4,"this"],[1,2096,132,9,"tracker"],[1,2104,132,17,"removeFromTracker"],[1,2122,132,35,"event"],[1,2124,132,41,"pointerId"],[1,2135,133,4,"this"],[1,2140,133,9,"rotationGestureDetector"],[1,2164,133,33,"onTouchEvent"],[1,2177,133,46,"event"],[1,2179,133,53,"this"],[1,2184,133,58,"tracker"],[1,2193,135,8,"this"],[1,2198,135,13,"state"],[1,2206,135,23,"_State"],[1,2208,135,30,"State"],[1,2214,135,36,"ACTIVE"],[1,2223,139,8,"this"],[1,2228,139,13,"state"],[1,2236,139,23,"_State"],[1,2238,139,30,"State"],[1,2244,139,36,"ACTIVE"],[1,2251,140,6,"this"],[1,2256,140,11,"end"],[1,2262,142,6,"this"],[1,2267,142,11,"fail"],[1,2274,144,2],[1,2275,146,2,"onPointerRemove"],[1,2291,146,18,"event"],[1,2294,147,4,"super"],[1,2300,147,10,"onPointerRemove"],[1,2316,147,26,"event"],[1,2319,148,4,"this"],[1,2324,148,9,"rotationGestureDetector"],[1,2348,148,33,"onTouchEvent"],[1,2361,148,46,"event"],[1,2363,148,53,"this"],[1,2368,148,58,"tracker"],[1,2377,149,4,"this"],[1,2382,149,9,"tracker"],[1,2390,149,17,"removeFromTracker"],[1,2408,149,35,"event"],[1,2410,149,41,"pointerId"],[1,2420,150,2],[1,2421,152,2,"tryBegin"],[1,2432,153,8,"this"],[1,2437,153,13,"state"],[1,2445,153,23,"_State"],[1,2447,153,30,"State"],[1,2453,153,36,"UNDETERMINED"],[1,2467,157,4,"this"],[1,2472,157,9,"begin"],[1,2479,158,2],[1,2480,160,2,"onReset"],[1,2490,161,8,"this"],[1,2495,161,13,"state"],[1,2503,161,23,"_State"],[1,2505,161,30,"State"],[1,2511,161,36,"ACTIVE"],[1,2520,165,4,"this"],[1,2525,165,9,"rotation"],[1,2534,165,20],[1,2536,166,4,"this"],[1,2541,166,9,"velocity"],[1,2550,166,20],[1,2552,167,4,"this"],[1,2557,167,9,"rotationGestureDetector"],[1,2581,167,33,"reset"],[1,2589,168,2],[1,2591,172,0,"exports"],[1,2593,172,8,"default"],[1,2601,172,18,"RotationGestureHandler"],[1,2602,172,41],[1,2605]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","RotationGestureHandler","constructor","_defineProperty$argument_2.onRotationBegin","_defineProperty$argument_2.onRotation","_defineProperty$argument_2.onRotationEnd","init","transformNativeEvent","getAnchorX","getAnchorY","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","onReset"],"mappings":"AAA;ACa,+FD;AEE,iNF;AGI;ECC;uBCY,iBD;kBEC;OFc;qBGC;OHE;GDI;EKE;GLG;EME;GNO;EOE;GPG;EQE;GRG;ESE;GTI;EUE;GVK;EWE;GXgB;EYE;GZgB;EaE;Gbc;EcE;GdI;EeE;GfM;EgBE;GhBQ;CHE"},"hasCjsExports":true},"type":"js/module"}]}