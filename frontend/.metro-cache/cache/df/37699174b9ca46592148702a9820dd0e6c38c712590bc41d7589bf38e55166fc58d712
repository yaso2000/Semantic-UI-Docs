{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":66,"index":314}}],"key":"05BxNcpXaYAeyUvpG1n5gignxMc=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":315},"end":{"line":5,"column":46,"index":361}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":362},"end":{"line":6,"column":37,"index":399}}],"key":"4h752T1Mc+t0TArQHF8ZPfbqdCc=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":400},"end":{"line":7,"column":43,"index":443}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return P}});var e=r(d[0]),n=r(d[1]),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const h=n.Directions.RIGHT,l=(0,u.coneToDeviation)(30),f=(0,u.coneToDeviation)(60);class P extends o.default{constructor(...t){super(...t),c(this,\"numberOfPointersRequired\",1),c(this,\"direction\",h),c(this,\"maxDurationMs\",800),c(this,\"minVelocity\",700),c(this,\"delayTimeout\",void 0),c(this,\"maxNumberOfPointersSimultaneously\",0),c(this,\"keyPointer\",NaN)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=s.default.fromVelocity(this.tracker,this.keyPointer),e=(e,n)=>(e&this.direction)===e&&t.isSimilar(s.default.fromDirection(e),n),o=Object.values(n.Directions),u=Object.values(n.DiagonalDirections),c=o.map(t=>e(t,l)),h=u.map(t=>e(t,f)),P=c.some(Boolean)||h.some(Boolean),p=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!P||!p)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===e.State.UNDETERMINED&&this.startFling(),this.state===e.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(t){this.tracker.track(t),this.state===e.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.state===e.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=h}}});","lineCount":1,"map":[[1,143,15,15,"Object"],[1,150,15,15,"defineProperty"],[1,165,15,15,"_e"],[1,168,15,15],[1,179,15,15,"enumerable"],[1,191,15,15],[1,193,15,15,"get"],[1,197,15,15],[1,215,15,15,"FlingGestureHandler"],[1,216,15,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"_Directions"],[1,236,4,0,"r"],[1,238,4,0,"d"],[1,240,4,0],[1,244,5,0,"GestureHandler"],[1,246,5,0,"_interopDefault"],[1,248,5,0,"r"],[1,250,5,0,"d"],[1,252,5,0],[1,257,6,0,"Vector"],[1,259,6,0,"_interopDefault"],[1,261,6,0,"r"],[1,263,6,0,"d"],[1,265,6,0],[1,270,7,0,"_utils"],[1,272,7,0,"r"],[1,274,7,0,"d"],[1,276,7,0],[1,280,1,0],[1,289,1,9,"_defineProperty"],[1,291,1,25,"obj"],[1,293,1,30,"key"],[1,295,1,35,"value"],[1,298,1,196],[1,305,1,48,"key"],[1,310,1,55,"obj"],[1,312,1,62,"Object"],[1,319,1,69,"defineProperty"],[1,334,1,84,"obj"],[1,336,1,89,"key"],[1,338,1,94],[1,339,1,96,"value"],[1,345,1,103,"value"],[1,347,1,110,"enumerable"],[1,359,1,122],[1,361,1,128,"configurable"],[1,375,1,142],[1,377,1,148,"writable"],[1,387,1,158],[1,391,1,176,"obj"],[1,393,1,180,"key"],[1,396,1,187,"value"],[1,398,1,203,"obj"],[1,399,1,208],[1,400,8,0],[1,406,11,6,"DEFAULT_DIRECTION"],[1,408,11,26,"Directions"],[1,410,11,36,"Directions"],[1,421,11,37,"RIGHT"],[1,427,13,6,"AXIAL_DEVIATION_COSINE"],[1,430,13,31],[1,432,13,31,"coneToDeviation"],[1,434,13,46,"coneToDeviation"],[1,451,10,31],[1,455,14,6,"DIAGONAL_DEVIATION_COSINE"],[1,458,14,34],[1,460,14,34,"coneToDeviation"],[1,462,14,49,"coneToDeviation"],[1,479,14,49],[1,483,15,15],[1,489,15,21,"FlingGestureHandler"],[1,499,15,49,"GestureHandler"],[1,501,15,63,"default"],[1,509,16,2,"constructor"],[1,524,16,17,"args"],[1,527,17,4,"super"],[1,536,17,13,"args"],[1,539,19,4,"_defineProperty"],[1,541,19,20,"this"],[1,546,19,26],[1,573,12,43],[1,576,21,4,"_defineProperty"],[1,578,21,20,"this"],[1,583,21,26],[1,595,21,39,"DEFAULT_DIRECTION"],[1,598,23,4,"_defineProperty"],[1,600,23,20,"this"],[1,605,23,26],[1,621,8,32],[1,626,25,4,"_defineProperty"],[1,628,25,20,"this"],[1,633,25,26],[1,647,9,29],[1,652,27,4,"_defineProperty"],[1,654,27,20,"this"],[1,659,27,26],[1,679,27,40,"undefined"],[1,682,29,4,"_defineProperty"],[1,684,29,20,"this"],[1,689,29,26],[1,725,29,63],[1,728,31,4,"_defineProperty"],[1,730,31,20,"this"],[1,735,31,26],[1,748,31,40,"NaN"],[1,752,32,2],[1,753,34,2,"updateGestureConfig"],[1,774,34,22,"enabled"],[1,782,35,4,"enabled"],[1,785,35,14],[1,790,36,7,"props"],[1,794,38,4,"super"],[1,800,38,10,"updateGestureConfig"],[1,820,38,30],[1,821,39,6,"enabled"],[1,829,39,15,"enabled"],[1,834,40,9,"props"],[1,838,43,8,"this"],[1,843,43,13,"config"],[1,850,43,20,"direction"],[1,862,44,6,"this"],[1,867,44,11,"direction"],[1,877,44,23,"this"],[1,882,44,28,"config"],[1,889,44,35,"direction"],[1,900,47,8,"this"],[1,905,47,13,"config"],[1,912,47,20,"numberOfPointers"],[1,931,48,6,"this"],[1,936,48,11,"numberOfPointersRequired"],[1,961,48,38,"this"],[1,966,48,43,"config"],[1,973,48,50,"numberOfPointers"],[1,990,50,2],[1,991,52,2,"startFling"],[1,1004,53,4,"this"],[1,1009,53,9,"begin"],[1,1017,54,4,"this"],[1,1022,54,9,"maxNumberOfPointersSimultaneously"],[1,1056,54,45],[1,1058,55,4,"this"],[1,1063,55,9,"delayTimeout"],[1,1076,55,24,"setTimeout"],[1,1087,55,35],[1,1091,55,41,"this"],[1,1096,55,46,"fail"],[1,1103,55,54,"this"],[1,1108,55,59,"maxDurationMs"],[1,1122,56,2],[1,1123,58,2,"tryEndFling"],[1,1137,59,4],[1,1143,59,10,"velocityVector"],[1,1145,59,27,"Vector"],[1,1147,59,33,"default"],[1,1155,59,34,"fromVelocity"],[1,1168,59,47,"this"],[1,1173,59,52,"tracker"],[1,1181,59,61,"this"],[1,1186,59,66,"keyPointer"],[1,1198,61,10,"getAlignment"],[1,1200,61,25,"getAlignment"],[1,1201,61,26,"direction"],[1,1203,61,37,"minimalAlignmentCosine"],[1,1208,62,14,"direction"],[1,1210,62,26,"this"],[1,1215,62,31,"direction"],[1,1228,62,46,"direction"],[1,1231,62,59,"velocityVector"],[1,1233,62,74,"isSimilar"],[1,1243,62,84,"Vector"],[1,1245,62,90,"default"],[1,1253,62,91,"fromDirection"],[1,1267,62,105,"direction"],[1,1270,62,117,"minimalAlignmentCosine"],[1,1273,65,10,"axialDirectionsList"],[1,1275,65,32,"Object"],[1,1282,65,39,"values"],[1,1289,65,46,"Directions"],[1,1291,65,56,"Directions"],[1,1303,66,10,"diagonalDirectionsList"],[1,1305,66,35,"Object"],[1,1312,66,42,"values"],[1,1319,66,49,"DiagonalDirections"],[1,1321,66,67,"DiagonalDirections"],[1,1341,68,10,"axialAlignmentList"],[1,1343,68,31,"axialDirectionsList"],[1,1345,68,51,"map"],[1,1349,68,55,"direction"],[1,1352,68,68,"getAlignment"],[1,1354,68,81,"direction"],[1,1356,68,92,"AXIAL_DEVIATION_COSINE"],[1,1360,69,10,"diagonalAlignmentList"],[1,1362,69,34,"diagonalDirectionsList"],[1,1364,69,57,"map"],[1,1368,69,61,"direction"],[1,1371,69,74,"getAlignment"],[1,1373,69,87,"direction"],[1,1375,69,98,"DIAGONAL_DEVIATION_COSINE"],[1,1379,70,10,"isAligned"],[1,1381,70,22,"axialAlignmentList"],[1,1383,70,41,"some"],[1,1388,70,46,"Boolean"],[1,1398,70,58,"diagonalAlignmentList"],[1,1400,70,80,"some"],[1,1405,70,85,"Boolean"],[1,1414,71,10,"isFast"],[1,1416,71,19,"velocityVector"],[1,1418,71,34,"magnitude"],[1,1428,71,46,"this"],[1,1433,71,51,"minVelocity"],[1,1445,73,4],[1,1453,73,8,"this"],[1,1458,73,13,"maxNumberOfPointersSimultaneously"],[1,1494,73,51,"this"],[1,1499,73,56,"numberOfPointersRequired"],[1,1526,73,84,"isAligned"],[1,1530,73,97,"isFast"],[1,1535,74,6,"clearTimeout"],[1,1548,74,19,"this"],[1,1553,74,24,"delayTimeout"],[1,1567,75,6,"this"],[1,1572,75,11,"activate"],[1,1584,76,13],[1,1586,80,2],[1,1587,82,2,"endFling"],[1,1598,83,9,"this"],[1,1603,83,14,"tryEndFling"],[1,1618,84,6,"this"],[1,1623,84,11,"fail"],[1,1629,86,2],[1,1630,88,2,"onPointerDown"],[1,1644,88,16,"event"],[1,1647,89,9,"this"],[1,1652,89,14,"isButtonInConfig"],[1,1669,89,31,"event"],[1,1671,89,37,"button"],[1,1681,93,4,"this"],[1,1686,93,9,"tracker"],[1,1694,93,17,"addToTracker"],[1,1707,93,30,"event"],[1,1710,94,4,"this"],[1,1715,94,9,"keyPointer"],[1,1726,94,22,"event"],[1,1728,94,28,"pointerId"],[1,1738,95,4,"super"],[1,1744,95,10,"onPointerDown"],[1,1758,95,24,"event"],[1,1761,96,4,"this"],[1,1766,96,9,"newPointerAction"],[1,1785,97,4,"this"],[1,1790,97,9,"tryToSendTouchEvent"],[1,1810,97,29,"event"],[1,1813,98,2],[1,1814,100,2,"onPointerAdd"],[1,1827,100,15,"event"],[1,1830,101,4,"this"],[1,1835,101,9,"tracker"],[1,1843,101,17,"addToTracker"],[1,1856,101,30,"event"],[1,1859,102,4,"super"],[1,1865,102,10,"onPointerAdd"],[1,1878,102,23,"event"],[1,1881,103,4,"this"],[1,1886,103,9,"newPointerAction"],[1,1904,104,2],[1,1905,106,2,"newPointerAction"],[1,1924,107,8,"this"],[1,1929,107,13,"state"],[1,1937,107,23,"State"],[1,1939,107,28,"State"],[1,1945,107,29,"UNDETERMINED"],[1,1959,108,6,"this"],[1,1964,108,11,"startFling"],[1,1977,111,8,"this"],[1,1982,111,13,"state"],[1,1990,111,23,"State"],[1,1992,111,28,"State"],[1,1998,111,29,"BEGAN"],[1,2006,115,4,"this"],[1,2011,115,9,"tryEndFling"],[1,2025,117,8,"this"],[1,2030,117,13,"tracker"],[1,2038,117,21,"trackedPointersCount"],[1,2059,117,44,"this"],[1,2064,117,49,"maxNumberOfPointersSimultaneously"],[1,2100,118,6,"this"],[1,2105,118,11,"maxNumberOfPointersSimultaneously"],[1,2139,118,47,"this"],[1,2144,118,52,"tracker"],[1,2152,118,60,"trackedPointersCount"],[1,2174,120,2],[1,2175,122,2,"pointerMoveAction"],[1,2193,122,20,"event"],[1,2196,123,4,"this"],[1,2201,123,9,"tracker"],[1,2209,123,17,"track"],[1,2215,123,23,"event"],[1,2218,125,8,"this"],[1,2223,125,13,"state"],[1,2231,125,23,"State"],[1,2233,125,28,"State"],[1,2239,125,29,"BEGAN"],[1,2246,129,4,"this"],[1,2251,129,9,"tryEndFling"],[1,2264,130,2],[1,2265,132,2,"onPointerMove"],[1,2279,132,16,"event"],[1,2282,133,4,"this"],[1,2287,133,9,"pointerMoveAction"],[1,2305,133,27,"event"],[1,2308,134,4,"super"],[1,2314,134,10,"onPointerMove"],[1,2328,134,24,"event"],[1,2330,135,2],[1,2331,137,2,"onPointerOutOfBounds"],[1,2352,137,23,"event"],[1,2355,138,4,"this"],[1,2360,138,9,"pointerMoveAction"],[1,2378,138,27,"event"],[1,2381,139,4,"super"],[1,2387,139,10,"onPointerOutOfBounds"],[1,2408,139,31,"event"],[1,2410,140,2],[1,2411,142,2,"onPointerUp"],[1,2423,142,14,"event"],[1,2426,143,4,"super"],[1,2432,143,10,"onPointerUp"],[1,2444,143,22,"event"],[1,2447,144,4,"this"],[1,2452,144,9,"onUp"],[1,2457,144,14,"event"],[1,2460,145,4,"this"],[1,2465,145,9,"keyPointer"],[1,2476,145,22,"NaN"],[1,2479,146,2],[1,2480,148,2,"onPointerRemove"],[1,2496,148,18,"event"],[1,2499,149,4,"super"],[1,2505,149,10,"onPointerRemove"],[1,2521,149,26,"event"],[1,2524,150,4,"this"],[1,2529,150,9,"onUp"],[1,2534,150,14,"event"],[1,2536,151,2],[1,2537,153,2,"onUp"],[1,2542,153,7,"event"],[1,2545,154,8,"this"],[1,2550,154,13,"state"],[1,2558,154,23,"State"],[1,2560,154,28,"State"],[1,2566,154,29,"BEGAN"],[1,2573,155,6,"this"],[1,2578,155,11,"endFling"],[1,2589,158,4,"this"],[1,2594,158,9,"tracker"],[1,2602,158,17,"removeFromTracker"],[1,2620,158,35,"event"],[1,2622,158,41,"pointerId"],[1,2632,159,2],[1,2633,161,2,"activate"],[1,2642,161,11,"force"],[1,2645,162,4,"super"],[1,2651,162,10,"activate"],[1,2660,162,19,"force"],[1,2663,163,4,"this"],[1,2668,163,9,"end"],[1,2673,164,2],[1,2674,166,2,"resetConfig"],[1,2688,167,4,"super"],[1,2694,167,10,"resetConfig"],[1,2708,168,4,"this"],[1,2713,168,9,"numberOfPointersRequired"],[1,2738,12,43],[1,2740,169,4,"this"],[1,2745,169,9,"direction"],[1,2755,169,21,"DEFAULT_DIRECTION"],[1,2756,170,2],[1,2758,172,1],[1,2761]],"functionMap":{"names":["_defineProperty","<global>","FlingGestureHandler","constructor","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA,iNC;eCc;ECC;GDgB;EEE;GFgB;EGE;mCCG,iBD;GHC;EKE;yBCG;KDE;uDEK,4DF;6DGC,+DH;GLW;ESE;GTI;EUE;GVU;EWE;GXI;EYE;GZc;EaE;GbQ;EcE;GdG;EeE;GfG;EgBE;GhBI;EiBE;GjBG;EkBE;GlBM;EmBE;GnBG;EoBE;GpBI;CDE"},"hasCjsExports":false},"type":"js/module"}]}