{"dependencies":[{"name":"../constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":124},"end":{"line":8,"column":40,"index":147}}],"key":"zmjjtqoQxi2W71eIMIIaEi1mOpU=","exportNames":["*"],"imports":1}},{"name":"../interfaces","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":168},"end":{"line":10,"column":42,"index":192}}],"key":"596k1m46J08d+Af0Max0usWU1VI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),s=r(d[1]);function n(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}e.default=class{constructor(s){n(this,\"onScaleBegin\",void 0),n(this,\"onScale\",void 0),n(this,\"onScaleEnd\",void 0),n(this,\"_focusX\",void 0),n(this,\"_focusY\",void 0),n(this,\"_currentSpan\",void 0),n(this,\"prevSpan\",void 0),n(this,\"initialSpan\",void 0),n(this,\"currentTime\",void 0),n(this,\"prevTime\",void 0),n(this,\"inProgress\",!1),n(this,\"spanSlop\",void 0),n(this,\"minSpan\",void 0),this.onScaleBegin=s.onScaleBegin,this.onScale=s.onScale,this.onScaleEnd=s.onScaleEnd,this.spanSlop=2*t.DEFAULT_TOUCH_SLOP,this.minSpan=0}onTouchEvent(t,n){this.currentTime=t.time;const o=t.eventType,h=n.trackedPointersCount,c=o===s.EventTypes.UP||o===s.EventTypes.ADDITIONAL_POINTER_UP||o===s.EventTypes.CANCEL;if((o===s.EventTypes.DOWN||c)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),c))return!0;const p=o===s.EventTypes.DOWN||o===s.EventTypes.ADDITIONAL_POINTER_UP||o===s.EventTypes.ADDITIONAL_POINTER_DOWN,u=o===s.EventTypes.ADDITIONAL_POINTER_UP,S=u?t.pointerId:void 0,l=u?h-1:h,v=n.getAbsoluteCoordsSum(),T=v.x/l,_=v.y/l;let E=0,P=0;n.trackedPointers.forEach((t,s)=>{s!==S&&(E+=Math.abs(t.abosoluteCoords.x-T),P+=Math.abs(t.abosoluteCoords.y-_))});const f=2*(E/l),O=2*(P/l),y=Math.hypot(f,O),D=this.inProgress;return this._focusX=T,this._focusY=_,this.inProgress&&(y<this.minSpan||p)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=y),p&&(this.initialSpan=this.prevSpan=this._currentSpan=y),!this.inProgress&&y>=this.minSpan&&(D||Math.abs(y-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this._currentSpan=y,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),o!==s.EventTypes.MOVE||(this._currentSpan=y,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}calculateScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}get currentSpan(){return this._currentSpan}get focusX(){return this._focusX}get focusY(){return this._focusY}get timeDelta(){return this.currentTime-this.prevTime}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_constants"],[1,113,8,17,"require"],[1,115,8,24,"d"],[1,117,8,24],[1,121,10,4,"_interfaces"],[1,123,10,18,"require"],[1,125,10,25,"d"],[1,127,10,25],[1,131,12,0],[1,140,12,9,"_defineProperty"],[1,142,12,25,"obj"],[1,144,12,30,"key"],[1,146,12,35,"value"],[1,149,12,196],[1,156,12,48,"key"],[1,161,12,55,"obj"],[1,163,12,62,"Object"],[1,170,12,69,"defineProperty"],[1,185,12,84,"obj"],[1,187,12,89,"key"],[1,189,12,94],[1,190,12,96,"value"],[1,196,12,103,"value"],[1,198,12,110,"enumerable"],[1,210,12,122],[1,212,12,128,"configurable"],[1,226,12,142],[1,228,12,148,"writable"],[1,238,12,158],[1,242,12,176,"obj"],[1,244,12,180,"key"],[1,247,12,187,"value"],[1,249,12,203,"obj"],[1,250,12,208],[1,251,154,0,"exports"],[1,253,154,8,"default"],[1,261,14,0],[1,267,15,2,"constructor"],[1,279,15,14,"callbacks"],[1,282,16,4,"_defineProperty"],[1,284,16,20,"this"],[1,289,16,26],[1,309,16,40,"undefined"],[1,312,18,4,"_defineProperty"],[1,314,18,20,"this"],[1,319,18,26],[1,334,18,35,"undefined"],[1,337,20,4,"_defineProperty"],[1,339,20,20,"this"],[1,344,20,26],[1,362,20,38,"undefined"],[1,365,22,4,"_defineProperty"],[1,367,22,20,"this"],[1,372,22,26],[1,387,22,35,"undefined"],[1,390,24,4,"_defineProperty"],[1,392,24,20,"this"],[1,397,24,26],[1,412,24,35,"undefined"],[1,415,26,4,"_defineProperty"],[1,417,26,20,"this"],[1,422,26,26],[1,442,26,40,"undefined"],[1,445,28,4,"_defineProperty"],[1,447,28,20,"this"],[1,452,28,26],[1,468,28,36,"undefined"],[1,471,30,4,"_defineProperty"],[1,473,30,20,"this"],[1,478,30,26],[1,497,30,39,"undefined"],[1,500,32,4,"_defineProperty"],[1,502,32,20,"this"],[1,507,32,26],[1,526,32,39,"undefined"],[1,529,34,4,"_defineProperty"],[1,531,34,20,"this"],[1,536,34,26],[1,552,34,36,"undefined"],[1,555,36,4,"_defineProperty"],[1,557,36,20,"this"],[1,562,36,26],[1,576,36,40],[1,579,38,4,"_defineProperty"],[1,581,38,20,"this"],[1,586,38,26],[1,602,38,36,"undefined"],[1,605,40,4,"_defineProperty"],[1,607,40,20,"this"],[1,612,40,26],[1,627,40,35,"undefined"],[1,630,42,4,"this"],[1,635,42,9,"onScaleBegin"],[1,648,42,24,"callbacks"],[1,650,42,34,"onScaleBegin"],[1,663,43,4,"this"],[1,668,43,9,"onScale"],[1,676,43,19,"callbacks"],[1,678,43,29,"onScale"],[1,686,44,4,"this"],[1,691,44,9,"onScaleEnd"],[1,702,44,22,"callbacks"],[1,704,44,32,"onScaleEnd"],[1,715,45,4,"this"],[1,720,45,9,"spanSlop"],[1,729,45,52],[1,731,45,20,"_constants"],[1,733,45,31,"DEFAULT_TOUCH_SLOP"],[1,752,46,4,"this"],[1,757,46,9,"minSpan"],[1,765,46,19],[1,766,47,2],[1,767,49,2,"onTouchEvent"],[1,780,49,15,"event"],[1,782,49,22,"tracker"],[1,785,50,4,"this"],[1,790,50,9,"currentTime"],[1,802,50,23,"event"],[1,804,50,29,"time"],[1,809,51,4],[1,815,51,10,"action"],[1,817,51,19,"event"],[1,819,51,25,"eventType"],[1,829,52,10,"numOfPointers"],[1,831,52,26,"tracker"],[1,833,52,34,"trackedPointersCount"],[1,854,53,10,"streamComplete"],[1,856,53,27,"action"],[1,860,53,38,"_interfaces"],[1,862,53,50,"EventTypes"],[1,873,53,61,"UP"],[1,877,53,67,"action"],[1,881,53,78,"_interfaces"],[1,883,53,90,"EventTypes"],[1,894,53,101,"ADDITIONAL_POINTER_UP"],[1,917,53,126,"action"],[1,921,53,137,"_interfaces"],[1,923,53,149,"EventTypes"],[1,934,53,160,"CANCEL"],[1,941,55,4],[1,945,55,8,"action"],[1,949,55,19,"_interfaces"],[1,951,55,31,"EventTypes"],[1,962,55,42,"DOWN"],[1,968,55,50,"streamComplete"],[1,973,56,10,"this"],[1,978,56,15,"inProgress"],[1,991,57,8,"this"],[1,996,57,13,"onScaleEnd"],[1,1007,57,24,"this"],[1,1013,58,8,"this"],[1,1018,58,13,"inProgress"],[1,1030,58,26],[1,1032,59,8,"this"],[1,1037,59,13,"initialSpan"],[1,1049,59,27],[1,1052,62,10,"streamComplete"],[1,1055,63,8],[1,1062,63,15],[1,1064,67,4],[1,1070,67,10,"configChanged"],[1,1072,67,26,"action"],[1,1076,67,37,"_interfaces"],[1,1078,67,49,"EventTypes"],[1,1089,67,60,"DOWN"],[1,1095,67,68,"action"],[1,1099,67,79,"_interfaces"],[1,1101,67,91,"EventTypes"],[1,1112,67,102,"ADDITIONAL_POINTER_UP"],[1,1135,67,127,"action"],[1,1139,67,138,"_interfaces"],[1,1141,67,150,"EventTypes"],[1,1152,67,161,"ADDITIONAL_POINTER_DOWN"],[1,1176,68,10,"pointerUp"],[1,1178,68,22,"action"],[1,1182,68,33,"_interfaces"],[1,1184,68,45,"EventTypes"],[1,1195,68,56,"ADDITIONAL_POINTER_UP"],[1,1217,69,10,"ignoredPointer"],[1,1219,69,27,"pointerUp"],[1,1221,69,39,"event"],[1,1223,69,45,"pointerId"],[1,1238,69,57,"undefined"],[1,1240,71,10,"div"],[1,1242,71,16,"pointerUp"],[1,1244,71,28,"numOfPointers"],[1,1246,71,44],[1,1248,71,48,"numOfPointers"],[1,1250,72,10,"coordsSum"],[1,1252,72,22,"tracker"],[1,1254,72,30,"getAbsoluteCoordsSum"],[1,1277,73,10,"focusX"],[1,1279,73,19,"coordsSum"],[1,1281,73,29,"x"],[1,1283,73,33,"div"],[1,1285,74,10,"focusY"],[1,1287,74,19,"coordsSum"],[1,1289,74,29,"y"],[1,1291,74,33,"div"],[1,1293,76,4],[1,1297,76,8,"devSumX"],[1,1299,76,18],[1,1301,77,8,"devSumY"],[1,1303,77,18],[1,1305,78,4,"tracker"],[1,1307,78,12,"trackedPointers"],[1,1323,78,28,"forEach"],[1,1331,78,36],[1,1332,78,37,"value"],[1,1334,78,44,"key"],[1,1339,79,10,"key"],[1,1343,79,18,"ignoredPointer"],[1,1347,83,6,"devSumX"],[1,1350,83,17,"Math"],[1,1355,83,22,"abs"],[1,1359,83,26,"value"],[1,1361,83,32,"abosoluteCoords"],[1,1377,83,48,"x"],[1,1379,83,52,"focusX"],[1,1382,84,6,"devSumY"],[1,1385,84,17,"Math"],[1,1390,84,22,"abs"],[1,1394,84,26,"value"],[1,1396,84,32,"abosoluteCoords"],[1,1412,84,48,"y"],[1,1414,84,52,"focusY"],[1,1420,86,4],[1,1426,88,10,"spanX"],[1,1428,88,25],[1,1431,86,17,"devSumX"],[1,1433,86,27,"div"],[1,1436,89,10,"spanY"],[1,1438,89,25],[1,1441,87,17,"devSumY"],[1,1443,87,27,"div"],[1,1446,90,10,"span"],[1,1448,90,17,"Math"],[1,1453,90,22,"hypot"],[1,1459,90,28,"spanX"],[1,1461,90,35,"spanY"],[1,1464,92,10,"wasInProgress"],[1,1466,92,26,"this"],[1,1471,92,31,"inProgress"],[1,1482,113,4],[1,1489,93,4,"this"],[1,1494,93,9,"_focusX"],[1,1502,93,19,"focusX"],[1,1504,94,4,"this"],[1,1509,94,9,"_focusY"],[1,1517,94,19,"focusY"],[1,1519,96,8,"this"],[1,1524,96,13,"inProgress"],[1,1537,96,28,"span"],[1,1539,96,35,"this"],[1,1544,96,40,"minSpan"],[1,1553,96,51,"configChanged"],[1,1558,97,6,"this"],[1,1563,97,11,"onScaleEnd"],[1,1574,97,22,"this"],[1,1580,98,6,"this"],[1,1585,98,11,"inProgress"],[1,1597,98,24],[1,1599,99,6,"this"],[1,1604,99,11,"initialSpan"],[1,1616,99,25,"span"],[1,1619,102,8,"configChanged"],[1,1623,103,6,"this"],[1,1628,103,11,"initialSpan"],[1,1640,103,25,"this"],[1,1645,103,30,"prevSpan"],[1,1654,103,41,"this"],[1,1659,103,46,"_currentSpan"],[1,1672,103,61,"span"],[1,1676,106,9,"this"],[1,1681,106,14,"inProgress"],[1,1693,106,28,"span"],[1,1696,106,36,"this"],[1,1701,106,41,"minSpan"],[1,1711,106,53,"wasInProgress"],[1,1714,106,70,"Math"],[1,1719,106,75,"abs"],[1,1723,106,79,"span"],[1,1725,106,86,"this"],[1,1730,106,91,"initialSpan"],[1,1743,106,106,"this"],[1,1748,106,111,"spanSlop"],[1,1760,107,6,"this"],[1,1765,107,11,"prevSpan"],[1,1774,107,22,"this"],[1,1779,107,27,"_currentSpan"],[1,1792,107,42,"span"],[1,1794,108,6,"this"],[1,1799,108,11,"prevTime"],[1,1808,108,22,"this"],[1,1813,108,27,"currentTime"],[1,1825,109,6,"this"],[1,1830,109,11,"inProgress"],[1,1841,109,24,"this"],[1,1846,109,29,"onScaleBegin"],[1,1859,109,42,"this"],[1,1866,113,8,"action"],[1,1870,113,19,"_interfaces"],[1,1872,113,31,"EventTypes"],[1,1883,113,42,"MOVE"],[1,1890,117,4,"this"],[1,1895,117,9,"_currentSpan"],[1,1908,117,24,"span"],[1,1910,119,8,"this"],[1,1915,119,13,"inProgress"],[1,1928,119,28,"this"],[1,1933,119,33,"onScale"],[1,1941,119,41,"this"],[1,1949,123,4,"this"],[1,1954,123,9,"prevSpan"],[1,1963,123,20,"this"],[1,1968,123,25,"currentSpan"],[1,1980,124,4,"this"],[1,1985,124,9,"prevTime"],[1,1994,124,20,"this"],[1,1999,124,25,"currentTime"],[1,2013,120,13],[1,2015,126,2],[1,2016,128,2,"calculateScaleFactor"],[1,2037,128,23,"numOfPointers"],[1,2040,129,4],[1,2047,129,8,"numOfPointers"],[1,2049,129,24],[1,2051,130,13],[1,2053,133,11,"this"],[1,2058,133,16,"prevSpan"],[1,2067,133,27],[1,2069,133,31,"this"],[1,2074,133,36,"currentSpan"],[1,2086,133,50,"this"],[1,2091,133,55,"prevSpan"],[1,2100,133,66],[1,2101,134,2],[1,2102,136,2],[1,2117,136,6,"currentSpan"],[1,2120,137,4],[1,2127,137,11,"this"],[1,2132,137,16,"_currentSpan"],[1,2144,138,2],[1,2145,140,2],[1,2155,140,6,"focusX"],[1,2158,141,4],[1,2165,141,11,"this"],[1,2170,141,16,"_focusX"],[1,2177,142,2],[1,2178,144,2],[1,2188,144,6,"focusY"],[1,2191,145,4],[1,2198,145,11,"this"],[1,2203,145,16,"_focusY"],[1,2210,146,2],[1,2211,148,2],[1,2224,148,6,"timeDelta"],[1,2227,149,4],[1,2234,149,11,"this"],[1,2239,149,16,"currentTime"],[1,2251,149,30,"this"],[1,2256,149,35,"prevTime"],[1,2264,150,2],[1,2266,154,39],[1,2269]],"functionMap":{"names":["<global>","_defineProperty","ScaleGestureDetector","constructor","onTouchEvent","tracker.trackedPointers.forEach$argument_0","calculateScaleFactor","get__currentSpan","get__focusX","get__focusY","get__timeDelta"],"mappings":"AAA;ACW,iND;AEE;ECC;GDgC;EEE;oCC6B;KDO;GFyC;EIE;GJM;EKE;GLE;EME;GNE;EOE;GPE;EQE;GRE;CFE"},"hasCjsExports":true},"type":"js/module"}]}