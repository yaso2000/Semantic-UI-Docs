{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":43,"index":254}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"],"imports":1}},{"name":"./EventManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":255},"end":{"line":4,"column":42,"index":297}}],"key":"+tTRfUGWY5rcrw6ZVLEgvlFTMQc=","exportNames":["*"],"imports":1}},{"name":"../../PointerType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":298},"end":{"line":5,"column":48,"index":346}}],"key":"PNpP2j+zRZwLQ3w6ZmXPMJNakiU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return h}});var e,t=r(d[0]),s=r(d[1]),n=(e=s)&&e.__esModule?e:{default:e},o=r(d[2]);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class h extends n.default{constructor(...e){super(...e),l(this,\"activationKeys\",['Enter',' ']),l(this,\"cancelationKeys\",['Tab']),l(this,\"isPressed\",!1),l(this,\"keyDownCallback\",e=>{-1!==this.cancelationKeys.indexOf(e.key)&&this.isPressed?this.dispatchEvent(e,t.EventTypes.CANCEL):-1!==this.activationKeys.indexOf(e.key)&&this.dispatchEvent(e,t.EventTypes.DOWN)}),l(this,\"keyUpCallback\",e=>{-1!==this.activationKeys.indexOf(e.key)&&this.isPressed&&this.dispatchEvent(e,t.EventTypes.UP)})}dispatchEvent(e,s){if(!(e.target instanceof HTMLElement))return;const n=this.mapEvent(e,s);switch(s){case t.EventTypes.UP:this.isPressed=!1,this.onPointerUp(n);break;case t.EventTypes.DOWN:this.isPressed=!0,this.onPointerDown(n);break;case t.EventTypes.CANCEL:this.isPressed=!1,this.onPointerCancel(n)}}registerListeners(){this.view.addEventListener('keydown',this.keyDownCallback),this.view.addEventListener('keyup',this.keyUpCallback)}unregisterListeners(){this.view.removeEventListener('keydown',this.keyDownCallback),this.view.removeEventListener('keyup',this.keyUpCallback)}mapEvent(e,t){const s=e.target.getBoundingClientRect(),n={x:(null==s?void 0:s.x)+(null==s?void 0:s.width)/2,y:(null==s?void 0:s.y)+(null==s?void 0:s.height)/2},l={x:(null==s?void 0:s.width)/2,y:(null==s?void 0:s.height)/2};return{x:n.x,y:n.y,offsetX:l.x,offsetY:l.y,pointerId:0,eventType:t,pointerType:o.PointerType.KEY,time:e.timeStamp}}}});","lineCount":1,"map":[[1,92,6,15,"Object"],[1,99,6,15,"defineProperty"],[1,114,6,15,"_e"],[1,117,6,15],[1,128,6,15,"enumerable"],[1,140,6,15],[1,142,6,15,"get"],[1,146,6,15],[1,164,6,15,"KeyboardEventManager"],[1,165,6,15],[1,169,3,0],[1,173],[1,175,3,0,"_interfaces"],[1,177,3,0,"r"],[1,179,3,0,"d"],[1,181,3,0],[1,185,4,0,"_EventManager"],[1,187,4,0,"r"],[1,189,4,0,"d"],[1,191,4,0],[1,195,4,0,"EventManager"],[1,198],[1,200,4,0,"_EventManager"],[1,204],[1,231,5,0,"_PointerType"],[1,233,5,0,"r"],[1,235,5,0,"d"],[1,237,5,0],[1,241,1,0],[1,250,1,9,"_defineProperty"],[1,252,1,25,"obj"],[1,254,1,30,"key"],[1,256,1,35,"value"],[1,259,1,196],[1,266,1,48,"key"],[1,271,1,55,"obj"],[1,273,1,62,"Object"],[1,280,1,69,"defineProperty"],[1,295,1,84,"obj"],[1,297,1,89,"key"],[1,299,1,94],[1,300,1,96,"value"],[1,306,1,103,"value"],[1,308,1,110,"enumerable"],[1,320,1,122],[1,322,1,128,"configurable"],[1,336,1,142],[1,338,1,148,"writable"],[1,348,1,158],[1,352,1,176,"obj"],[1,354,1,180,"key"],[1,357,1,187,"value"],[1,359,1,203,"obj"],[1,360,1,208],[1,361,6,15],[1,367,6,21,"KeyboardEventManager"],[1,377,6,50,"EventManager"],[1,379,6,62,"default"],[1,387,7,2,"constructor"],[1,402,7,17,"args"],[1,405,8,4,"super"],[1,414,8,13,"args"],[1,417,10,4,"_defineProperty"],[1,419,10,20,"this"],[1,424,10,26],[1,441,10,44],[1,442,10,45],[1,450,10,54],[1,456,12,4,"_defineProperty"],[1,458,12,20,"this"],[1,463,12,26],[1,481,12,45],[1,482,12,46],[1,490,14,4,"_defineProperty"],[1,492,14,20,"this"],[1,497,14,26],[1,510,14,39],[1,513,16,4,"_defineProperty"],[1,515,16,20,"this"],[1,520,16,26],[1,538,16,45,"event"],[1,543,17,49],[1,547,17,10,"this"],[1,552,17,15,"cancelationKeys"],[1,568,17,31,"indexOf"],[1,576,17,39,"event"],[1,578,17,45,"key"],[1,584,17,60,"this"],[1,589,17,65,"isPressed"],[1,599,18,8,"this"],[1,604,18,13,"dispatchEvent"],[1,618,18,27,"event"],[1,620,18,34,"EventTypes"],[1,622,18,44,"EventTypes"],[1,633,18,45,"CANCEL"],[1,642,22,48],[1,646,22,10,"this"],[1,651,22,15,"activationKeys"],[1,666,22,30,"indexOf"],[1,674,22,38,"event"],[1,676,22,44,"key"],[1,682,26,6,"this"],[1,687,26,11,"dispatchEvent"],[1,701,26,25,"event"],[1,703,26,32,"EventTypes"],[1,705,26,42,"EventTypes"],[1,716,26,43,"DOWN"],[1,724,29,4,"_defineProperty"],[1,726,29,20,"this"],[1,731,29,26],[1,747,29,43,"event"],[1,752,30,48],[1,756,30,10,"this"],[1,761,30,15,"activationKeys"],[1,776,30,30,"indexOf"],[1,784,30,38,"event"],[1,786,30,44,"key"],[1,792,30,60,"this"],[1,797,30,65,"isPressed"],[1,808,34,6,"this"],[1,813,34,11,"dispatchEvent"],[1,827,34,25,"event"],[1,829,34,32,"EventTypes"],[1,831,34,42,"EventTypes"],[1,842,34,43,"UP"],[1,847,36,2],[1,848,38,2,"dispatchEvent"],[1,862,38,16,"event"],[1,864,38,23,"eventType"],[1,867,39,4],[1,872,39,10,"event"],[1,874,39,16,"target"],[1,892,39,34,"HTMLElement"],[1,905,40,6],[1,912,43,4],[1,918,43,10,"adaptedEvent"],[1,920,43,25,"this"],[1,925,43,30,"mapEvent"],[1,934,43,39,"event"],[1,936,43,46,"eventType"],[1,939,45,4],[1,946,45,12,"eventType"],[1,949,46,6],[1,954,46,11,"EventTypes"],[1,956,46,21,"EventTypes"],[1,967,46,22,"UP"],[1,970,47,8,"this"],[1,975,47,13,"isPressed"],[1,986,47,25],[1,988,48,8,"this"],[1,993,48,13,"onPointerUp"],[1,1005,48,25,"adaptedEvent"],[1,1008,49,8],[1,1014,51,6],[1,1019,51,11,"EventTypes"],[1,1021,51,21,"EventTypes"],[1,1032,51,22,"DOWN"],[1,1037,52,8,"this"],[1,1042,52,13,"isPressed"],[1,1053,52,25],[1,1055,53,8,"this"],[1,1060,53,13,"onPointerDown"],[1,1074,53,27,"adaptedEvent"],[1,1077,54,8],[1,1083,56,6],[1,1088,56,11,"EventTypes"],[1,1090,56,21,"EventTypes"],[1,1101,56,22,"CANCEL"],[1,1108,57,8,"this"],[1,1113,57,13,"isPressed"],[1,1124,57,25],[1,1126,58,8,"this"],[1,1131,58,13,"onPointerCancel"],[1,1147,58,29,"adaptedEvent"],[1,1150,61,2],[1,1151,63,2,"registerListeners"],[1,1171,64,4,"this"],[1,1176,64,9,"view"],[1,1181,64,14,"addEventListener"],[1,1198,64,31],[1,1208,64,42,"this"],[1,1213,64,47,"keyDownCallback"],[1,1230,65,4,"this"],[1,1235,65,9,"view"],[1,1240,65,14,"addEventListener"],[1,1257,65,31],[1,1265,65,40,"this"],[1,1270,65,45,"keyUpCallback"],[1,1284,66,2],[1,1285,68,2,"unregisterListeners"],[1,1307,69,4,"this"],[1,1312,69,9,"view"],[1,1317,69,14,"removeEventListener"],[1,1337,69,34],[1,1347,69,45,"this"],[1,1352,69,50,"keyDownCallback"],[1,1369,70,4,"this"],[1,1374,70,9,"view"],[1,1379,70,14,"removeEventListener"],[1,1399,70,34],[1,1407,70,43,"this"],[1,1412,70,48,"keyUpCallback"],[1,1426,71,2],[1,1427,73,2,"mapEvent"],[1,1436,73,11,"event"],[1,1438,73,18,"eventType"],[1,1441,74,4],[1,1447,74,10,"viewRect"],[1,1449,74,21,"event"],[1,1451,74,27,"target"],[1,1458,74,34,"getBoundingClientRect"],[1,1482,75,10,"viewportPosition"],[1,1484,75,29],[1,1485,76,6,"x"],[1,1488,76,10,"viewRect"],[1,1501,76,50,"undefined"],[1,1503,76,62,"viewRect"],[1,1505,76,71,"x"],[1,1509,76,77,"viewRect"],[1,1522,76,117,"undefined"],[1,1524,76,129,"viewRect"],[1,1526,76,138,"width"],[1,1533,76,147],[1,1535,77,6,"y"],[1,1538,77,10,"viewRect"],[1,1551,77,50,"undefined"],[1,1553,77,62,"viewRect"],[1,1555,77,71,"y"],[1,1559,77,77,"viewRect"],[1,1572,77,117,"undefined"],[1,1574,77,129,"viewRect"],[1,1576,77,138,"height"],[1,1584,77,148],[1,1587,79,10,"relativePosition"],[1,1589,79,29],[1,1590,80,6,"x"],[1,1593,80,10,"viewRect"],[1,1606,80,50,"undefined"],[1,1608,80,62,"viewRect"],[1,1610,80,71,"width"],[1,1617,80,80],[1,1619,81,6,"y"],[1,1622,81,10,"viewRect"],[1,1635,81,50,"undefined"],[1,1637,81,62,"viewRect"],[1,1639,81,71,"height"],[1,1647,81,81],[1,1650,83,4],[1,1656,83,11],[1,1657,84,6,"x"],[1,1659,84,9,"viewportPosition"],[1,1661,84,26,"x"],[1,1663,85,6,"y"],[1,1665,85,9,"viewportPosition"],[1,1667,85,26,"y"],[1,1669,86,6,"offsetX"],[1,1677,86,15,"relativePosition"],[1,1679,86,32,"x"],[1,1681,87,6,"offsetY"],[1,1689,87,15,"relativePosition"],[1,1691,87,32,"y"],[1,1693,88,6,"pointerId"],[1,1703,88,17],[1,1705,89,6,"eventType"],[1,1715,89,17,"eventType"],[1,1717,90,6,"pointerType"],[1,1729,90,19,"PointerType"],[1,1731,90,30,"PointerType"],[1,1743,90,31,"KEY"],[1,1747,91,6,"time"],[1,1752,91,12,"event"],[1,1754,91,18,"timeStamp"],[1,1764,93,2],[1,1766,95,1],[1,1769]],"functionMap":{"names":["_defineProperty","<global>","KeyboardEventManager","constructor","_defineProperty$argument_2","dispatchEvent","registerListeners","unregisterListeners","mapEvent"],"mappings":"AAA,iNC;eCK;ECC;6CCS;KDW;2CCE;KDM;GDC;EGE;GHuB;EIE;GJG;EKE;GLG;EME;GNoB;CDE"},"hasCjsExports":false},"type":"js/module"}]}