{"dependencies":[{"name":"../threads.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":51,"index":66}}],"key":"K4CZCGtE2IjiBjBQzdc2uYfV4CM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"prepareUIRegistry\",{enumerable:!0,get:function(){return s}});var t=r(d[0]);const l={code:\"function reactNativeReanimated_FrameCallbackRegistryUIJs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"},s=(0,t.runOnUIImmediately)((function(){const t=function(){const t={frameCallbackRegistry:new Map,activeFrameCallbacks:new Set,previousFrameTimestamp:null,nextCallId:0,runCallbacks(t){const l=s=>{if(t!==this.nextCallId)return;null===this.previousFrameTimestamp&&(this.previousFrameTimestamp=s);const c=s-this.previousFrameTimestamp;this.activeFrameCallbacks.forEach(t=>{const l=this.frameCallbackRegistry.get(t),{startTime:n}=l;null===n?(l.startTime=s,l.callback({timestamp:s,timeSincePreviousFrame:null,timeSinceFirstFrame:0})):l.callback({timestamp:s,timeSincePreviousFrame:c,timeSinceFirstFrame:s-n})}),this.activeFrameCallbacks.size>0?(this.previousFrameTimestamp=s,requestAnimationFrame(l)):this.previousFrameTimestamp=null};1===this.activeFrameCallbacks.size&&t===this.nextCallId&&requestAnimationFrame(l)},registerFrameCallback(t,l){this.frameCallbackRegistry.set(l,{callback:t,startTime:null})},unregisterFrameCallback(t){this.manageStateFrameCallback(t,!1),this.frameCallbackRegistry.delete(t)},manageStateFrameCallback(t,l){if(-1!==t)if(l)this.activeFrameCallbacks.add(t),this.runCallbacks(this.nextCallId);else{this.frameCallbackRegistry.get(t).startTime=null,this.activeFrameCallbacks.delete(t),0===this.activeFrameCallbacks.size&&(this.nextCallId+=1)}}};g._frameCallbackRegistry=t};return t.__closure={},t.__workletHash=0xa09b9e52d16,t.__initData=l,t})())});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,4,0,"Object"],[1,97,4,0,"defineProperty"],[1,112,4,0,"e"],[1,114,4,0],[1,135,4,0,"enumerable"],[1,147,4,0],[1,149,4,0,"get"],[1,153,4,0],[1,171,4,0,"prepareUIRegistry"],[1,172,4,0],[1,176,3,0],[1,180,3,0,"_threadsJs"],[1,182,3,0,"r"],[1,184,3,0,"d"],[1,186,3,0],[1,190,3,51],[1,196,3,51,"_worklet_11036889787670_init_data"],[1,198,3,51],[1,199,3,51,"code"],[1,204,3,51],[1,2026,4,13,"prepareUIRegistry"],[1,2029,4,33],[1,2031,4,33,"runOnUIImmediately"],[1,2033,4,51,"runOnUIImmediately"],[1,2054,4,52],[1,2071,4,52,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,2073,4,52],[1,2084,7,2],[1,2090,7,8,"frameCallbackRegistry"],[1,2092,7,32],[1,2093,8,4,"frameCallbackRegistry"],[1,2115,8,27],[1,2119,8,31,"Map"],[1,2123,9,4,"activeFrameCallbacks"],[1,2144,9,26],[1,2148,9,30,"Set"],[1,2152,10,4,"previousFrameTimestamp"],[1,2175,10,28],[1,2180,11,4,"nextCallId"],[1,2191,11,16],[1,2193,12,4,"runCallbacks"],[1,2206,12,17,"callId"],[1,2209,13,6],[1,2215,13,12,"loop"],[1,2217,13,19,"timestamp"],[1,2221,14,8],[1,2224,14,12,"callId"],[1,2228,14,23,"this"],[1,2233,14,28,"nextCallId"],[1,2244,15,10],[1,2251,17,44],[1,2258,17,12,"this"],[1,2263,17,17,"previousFrameTimestamp"],[1,2288,18,10,"this"],[1,2293,18,15,"previousFrameTimestamp"],[1,2316,18,40,"timestamp"],[1,2319,20,8],[1,2325,20,14,"delta"],[1,2327,20,22,"timestamp"],[1,2329,20,34,"this"],[1,2334,20,39,"previousFrameTimestamp"],[1,2357,21,8,"this"],[1,2362,21,13,"activeFrameCallbacks"],[1,2383,21,34,"forEach"],[1,2391,21,42,"callbackId"],[1,2395,22,10],[1,2401,22,16,"callbackDetails"],[1,2403,22,34,"this"],[1,2408,22,39,"frameCallbackRegistry"],[1,2430,22,61,"get"],[1,2434,22,65,"callbackId"],[1,2438,23,16,"startTime"],[1,2448,24,12,"startTime"],[1,2451,25,14,"callbackDetails"],[1,2453,26,28],[1,2460,26,14,"startTime"],[1,2463,28,12,"callbackDetails"],[1,2465,28,28,"startTime"],[1,2475,28,40,"timestamp"],[1,2477,29,12,"callbackDetails"],[1,2479,29,28,"callback"],[1,2488,29,37],[1,2489,30,14,"timestamp"],[1,2501,31,14,"timeSincePreviousFrame"],[1,2524,31,38],[1,2529,32,14,"timeSinceFirstFrame"],[1,2549,32,35],[1,2554,36,12,"callbackDetails"],[1,2556,36,28,"callback"],[1,2565,36,37],[1,2566,37,14,"timestamp"],[1,2578,38,14,"timeSincePreviousFrame"],[1,2601,38,38,"delta"],[1,2603,39,14,"timeSinceFirstFrame"],[1,2623,39,35,"timestamp"],[1,2625,39,47,"startTime"],[1,2631,43,12,"this"],[1,2636,43,17,"activeFrameCallbacks"],[1,2657,43,38,"size"],[1,2662,43,45],[1,2665,44,10,"this"],[1,2670,44,15,"previousFrameTimestamp"],[1,2693,44,40,"timestamp"],[1,2695,45,10,"requestAnimationFrame"],[1,2717,45,32,"loop"],[1,2721,47,10,"this"],[1,2726,47,15,"previousFrameTimestamp"],[1,2749,47,40],[1,2755,54,45],[1,2759,54,10,"this"],[1,2764,54,15,"activeFrameCallbacks"],[1,2785,54,36,"size"],[1,2791,54,50,"callId"],[1,2795,54,61,"this"],[1,2800,54,66,"nextCallId"],[1,2812,55,8,"requestAnimationFrame"],[1,2834,55,30,"loop"],[1,2836,57,4],[1,2838,58,4,"registerFrameCallback"],[1,2860,58,26,"callback"],[1,2862,58,36,"callbackId"],[1,2865,59,6,"this"],[1,2870,59,11,"frameCallbackRegistry"],[1,2892,59,33,"set"],[1,2896,59,37,"callbackId"],[1,2898,59,49],[1,2899,60,8,"callback"],[1,2910,61,8,"startTime"],[1,2920,61,19],[1,2926,63,4],[1,2928,64,4,"unregisterFrameCallback"],[1,2952,64,28,"callbackId"],[1,2955,65,6,"this"],[1,2960,65,11,"manageStateFrameCallback"],[1,2985,65,36,"callbackId"],[1,2988,65,48],[1,2991,66,6,"this"],[1,2996,66,11,"frameCallbackRegistry"],[1,3018,66,33,"delete"],[1,3025,66,40,"callbackId"],[1,3027,67,4],[1,3029,68,4,"manageStateFrameCallback"],[1,3054,68,29,"callbackId"],[1,3056,68,41,"state"],[1,3059,69,6],[1,3063,69,20],[1,3067,69,10,"callbackId"],[1,3069,72,6],[1,3072,72,10,"state"],[1,3074,73,8,"this"],[1,3079,73,13,"activeFrameCallbacks"],[1,3100,73,34,"add"],[1,3104,73,38,"callbackId"],[1,3107,74,8,"this"],[1,3112,74,13,"runCallbacks"],[1,3125,74,26,"this"],[1,3130,74,31,"nextCallId"],[1,3146,75,13],[1,3147,76,25,"this"],[1,3152,76,30,"frameCallbackRegistry"],[1,3174,76,52,"get"],[1,3178,76,56,"callbackId"],[1,3181,77,17,"startTime"],[1,3191,77,29],[1,3196,78,8,"this"],[1,3201,78,13,"activeFrameCallbacks"],[1,3222,78,34,"delete"],[1,3229,78,41,"callbackId"],[1,3232,79,47],[1,3236,79,12,"this"],[1,3241,79,17,"activeFrameCallbacks"],[1,3262,79,38,"size"],[1,3269,80,10,"this"],[1,3274,80,15,"nextCallId"],[1,3286,80,29],[1,3288,82,6],[1,3289,83,4],[1,3292,85,2,"global"],[1,3294,85,9,"_frameCallbackRegistry"],[1,3317,85,34,"frameCallbackRegistry"],[1,3318,86,0],[1,3320,86,1],[1,3327,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3329,86,1,"__closure"],[1,3339,86,1],[1,3342,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3344,86,1,"__workletHash"],[1,3358,86,1],[1,3372,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3374,86,1,"__initData"],[1,3385,86,1,"_worklet_11036889787670_init_data"],[1,3387,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3388,86,1],[1,3390,4,52],[1,3393,86,3],[1,3396]],"functionMap":{"names":["<global>","runOnUIImmediately$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;oDCG;ICQ;mBCC;0CCQ;SDqB;ODO;KDQ;IIC;KJK;IKC;KLG;IMC;KNe;CDG"},"hasCjsExports":false},"type":"js/module"}]}