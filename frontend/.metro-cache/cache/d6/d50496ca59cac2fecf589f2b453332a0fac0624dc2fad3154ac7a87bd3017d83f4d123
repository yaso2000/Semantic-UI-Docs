{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../specs/NativeStripeSdkModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":43},"end":{"line":3,"column":61,"index":104}}],"key":"9BFz0glP3g/K0ieHWwPDCzJHeg8=","exportNames":["*"],"imports":1}},{"name":"../specs/NativeOnrampSdkModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":105},"end":{"line":4,"column":61,"index":166}}],"key":"bxUQslXg9kwVVpG+DjSAuiuY4Yw=","exportNames":["*"],"imports":1}},{"name":"../helpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":167},"end":{"line":5,"column":60,"index":227}}],"key":"sVcBW6uknPZeHJnN5Ce/W2g6wWI=","exportNames":["*"],"imports":1}},{"name":"../../package.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":305},"end":{"line":7,"column":39,"index":344}}],"key":"I9/HT2uBQPFxU4SsyBBUzQpv9VQ=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":345},"end":{"line":8,"column":53,"index":398}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"initStripe\", {\n    enumerable: true,\n    get: function () {\n      return initStripe;\n    }\n  });\n  exports.StripeProvider = StripeProvider;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _specsNativeStripeSdkModule = require(_dependencyMap[2], \"../specs/NativeStripeSdkModule\");\n  var NativeStripeSdk = _interopDefault(_specsNativeStripeSdkModule);\n  var _specsNativeOnrampSdkModule = require(_dependencyMap[3], \"../specs/NativeOnrampSdkModule\");\n  var NativeOnrampSdk = _interopDefault(_specsNativeOnrampSdkModule);\n  var _helpers = require(_dependencyMap[4], \"../helpers\");\n  var _packageJson = require(_dependencyMap[5], \"../../package.json\");\n  var pjson = _interopDefault(_packageJson);\n  var _reactNative = require(_dependencyMap[6], \"react-native\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  var EXPO_PARTNER_ID = 'pp_partner_JBN7LkABco2yUu';\n\n  /**\n   *  Stripe Provider Component Props\n   */\n\n  var repository = pjson.default.repository;\n  var appInfo = {\n    name: (0, _helpers.shouldAttributeExpo)() ? `${pjson.default.name}/expo` : pjson.default.name,\n    // package.json output installed via npm is a bit different than from yarn\n    // the repository field can be an object or string\n    // for more context: https://github.com/stripe/stripe-react-native/issues/200\n    url: repository.url || repository,\n    version: pjson.default.version,\n    partnerId: (0, _helpers.shouldAttributeExpo)() ? EXPO_PARTNER_ID : undefined\n  };\n  var didRegisterHeadlessTask = false;\n  var initStripe = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (params) {\n      // On Android when the activity is paused, JS timers are paused,\n      // which causes network requests to hang indefinitely on new arch.\n      // To work around this, we register a headless task that will keep\n      // the JS runtime running while the Stripe UI is opened.\n      // This task is started and stopped by the native module.\n      if (_reactNative.Platform.OS === 'android' && !didRegisterHeadlessTask) {\n        function stripeHeadlessTask() {\n          return new Promise(() => {});\n        }\n        _reactNative.AppRegistry.registerHeadlessTask('StripeKeepJsAwakeTask', () => stripeHeadlessTask);\n        didRegisterHeadlessTask = true;\n      }\n      var extendedParams = {\n        ...params,\n        appInfo\n      };\n      yield NativeStripeSdk.default.initialise(extendedParams);\n      if (_reactNative.Platform.OS === 'android') {\n        yield NativeOnrampSdk.default.initialise(extendedParams);\n      }\n    });\n    return function initStripe(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *  StripeProvider Component\n   *\n   * @example\n   * ```ts\n   *  <StripeProvider\n   *    publishableKey=\"_publishableKey\"\n   *    merchantIdentifier=\"merchant.com.stripe.react.native\"\n   *    threeDSecureParams={{\n   *      backgroundColor: \"#FFF\",\n   *      timeout: 5,\n   *    }}\n   *  >\n   *    <App />\n   *  </StripeProvider>\n   * ```\n   * @param __namedParameters Props\n   * @returns JSX.Element\n   * @category ReactComponents\n   */\n  function StripeProvider(_ref2) {\n    var children = _ref2.children,\n      publishableKey = _ref2.publishableKey,\n      merchantIdentifier = _ref2.merchantIdentifier,\n      threeDSecureParams = _ref2.threeDSecureParams,\n      stripeAccountId = _ref2.stripeAccountId,\n      urlScheme = _ref2.urlScheme,\n      setReturnUrlSchemeOnAndroid = _ref2.setReturnUrlSchemeOnAndroid;\n    (0, _react.useEffect)(() => {\n      if (!publishableKey) {\n        return;\n      }\n      var initializeStripe = /*#__PURE__*/function () {\n        var _ref3 = (0, _asyncToGenerator.default)(function* () {\n          if (_helpers.isAndroid) {\n            yield initStripe({\n              publishableKey,\n              stripeAccountId,\n              threeDSecureParams,\n              urlScheme,\n              setReturnUrlSchemeOnAndroid\n            });\n          } else {\n            yield initStripe({\n              publishableKey,\n              stripeAccountId,\n              threeDSecureParams,\n              merchantIdentifier,\n              urlScheme\n            });\n          }\n        });\n        return function initializeStripe() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      initializeStripe();\n    }, [publishableKey, merchantIdentifier, stripeAccountId, threeDSecureParams, urlScheme, setReturnUrlSchemeOnAndroid]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: children\n    }, void 0, false);\n  }\n});","lineCount":138,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"initStripe"],[15,23,33,0],[16,4,33,0],[17,2,33,0],[18,2,79,0,"exports"],[18,9,79,0],[18,10,79,0,"StripeProvider"],[18,24,79,0],[18,27,79,0,"StripeProvider"],[18,41,79,0],[19,2,123,1],[19,6,123,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,123,1],[19,45,123,1,"require"],[19,52,123,1],[19,53,123,1,"_dependencyMap"],[19,67,123,1],[20,2,123,1],[20,6,123,1,"_asyncToGenerator"],[20,23,123,1],[20,26,123,1,"_interopDefault"],[20,41,123,1],[20,42,123,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,123,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,3,0],[22,6,3,0,"_specsNativeStripeSdkModule"],[22,33,3,0],[22,36,3,0,"require"],[22,43,3,0],[22,44,3,0,"_dependencyMap"],[22,58,3,0],[23,2,3,0],[23,6,3,0,"NativeStripeSdk"],[23,21,3,0],[23,24,3,0,"_interopDefault"],[23,39,3,0],[23,40,3,0,"_specsNativeStripeSdkModule"],[23,67,3,0],[24,2,4,0],[24,6,4,0,"_specsNativeOnrampSdkModule"],[24,33,4,0],[24,36,4,0,"require"],[24,43,4,0],[24,44,4,0,"_dependencyMap"],[24,58,4,0],[25,2,4,0],[25,6,4,0,"NativeOnrampSdk"],[25,21,4,0],[25,24,4,0,"_interopDefault"],[25,39,4,0],[25,40,4,0,"_specsNativeOnrampSdkModule"],[25,67,4,0],[26,2,5,0],[26,6,5,0,"_helpers"],[26,14,5,0],[26,17,5,0,"require"],[26,24,5,0],[26,25,5,0,"_dependencyMap"],[26,39,5,0],[27,2,7,0],[27,6,7,0,"_packageJson"],[27,18,7,0],[27,21,7,0,"require"],[27,28,7,0],[27,29,7,0,"_dependencyMap"],[27,43,7,0],[28,2,7,0],[28,6,7,0,"pjson"],[28,11,7,0],[28,14,7,0,"_interopDefault"],[28,29,7,0],[28,30,7,0,"_packageJson"],[28,42,7,0],[29,2,8,0],[29,6,8,0,"_reactNative"],[29,18,8,0],[29,21,8,0,"require"],[29,28,8,0],[29,29,8,0,"_dependencyMap"],[29,43,8,0],[30,2,8,53],[30,6,8,53,"_reactJsxDevRuntime"],[30,25,8,53],[30,28,8,53,"require"],[30,35,8,53],[30,36,8,53,"_dependencyMap"],[30,50,8,53],[31,2,10,0],[31,6,10,6,"EXPO_PARTNER_ID"],[31,21,10,21],[31,24,10,24],[31,51,10,51],[33,2,12,0],[34,0,13,0],[35,0,14,0],[37,2,19,0],[37,6,19,6,"repository"],[37,16,19,21],[37,19,19,24,"pjson"],[37,24,19,29],[37,25,19,29,"default"],[37,32,19,29],[37,33,19,30,"repository"],[37,43,19,40],[38,2,21,0],[38,6,21,6,"appInfo"],[38,13,21,22],[38,16,21,25],[39,4,22,2,"name"],[39,8,22,6],[39,10,22,8],[39,14,22,8,"shouldAttributeExpo"],[39,22,22,27],[39,23,22,27,"shouldAttributeExpo"],[39,42,22,27],[39,44,22,28],[39,45,22,29],[39,48,22,32],[39,51,22,35,"pjson"],[39,56,22,40],[39,57,22,40,"default"],[39,64,22,40],[39,65,22,41,"name"],[39,69,22,45],[39,76,22,52],[39,79,22,55,"pjson"],[39,84,22,60],[39,85,22,60,"default"],[39,92,22,60],[39,93,22,61,"name"],[39,97,22,65],[40,4,23,2],[41,4,24,2],[42,4,25,2],[43,4,26,2,"url"],[43,7,26,5],[43,9,26,7,"repository"],[43,19,26,17],[43,20,26,18,"url"],[43,23,26,21],[43,27,26,25,"repository"],[43,37,26,35],[44,4,27,2,"version"],[44,11,27,9],[44,13,27,11,"pjson"],[44,18,27,16],[44,19,27,16,"default"],[44,26,27,16],[44,27,27,17,"version"],[44,34,27,24],[45,4,28,2,"partnerId"],[45,13,28,11],[45,15,28,13],[45,19,28,13,"shouldAttributeExpo"],[45,27,28,32],[45,28,28,32,"shouldAttributeExpo"],[45,47,28,32],[45,49,28,33],[45,50,28,34],[45,53,28,37,"EXPO_PARTNER_ID"],[45,68,28,52],[45,71,28,55,"undefined"],[46,2,29,0],[46,3,29,1],[47,2,31,0],[47,6,31,4,"didRegisterHeadlessTask"],[47,29,31,27],[47,32,31,30],[47,37,31,35],[48,2,33,7],[48,6,33,13,"initStripe"],[48,16,33,23],[49,4,33,23],[49,8,33,23,"_ref"],[49,12,33,23],[49,19,33,23,"_asyncToGenerator"],[49,36,33,23],[49,37,33,23,"default"],[49,44,33,23],[49,46,33,26],[49,57,33,33,"params"],[49,63,33,57],[49,65,33,77],[50,6,34,2],[51,6,35,2],[52,6,36,2],[53,6,37,2],[54,6,38,2],[55,6,39,2],[55,10,39,6,"Platform"],[55,22,39,14],[55,23,39,14,"Platform"],[55,31,39,14],[55,32,39,15,"OS"],[55,34,39,17],[55,39,39,22],[55,48,39,31],[55,52,39,35],[55,53,39,36,"didRegisterHeadlessTask"],[55,76,39,59],[55,78,39,61],[56,8,40,4],[56,17,40,13,"stripeHeadlessTask"],[56,35,40,31,"stripeHeadlessTask"],[56,36,40,31],[56,38,40,34],[57,10,41,6],[57,17,41,13],[57,21,41,17,"Promise"],[57,28,41,24],[57,29,41,31],[57,35,41,37],[57,36,41,38],[57,37,41,39],[57,38,41,40],[58,8,42,4],[59,8,44,4,"AppRegistry"],[59,20,44,15],[59,21,44,15,"AppRegistry"],[59,32,44,15],[59,33,44,16,"registerHeadlessTask"],[59,53,44,36],[59,54,45,6],[59,77,45,29],[59,79,46,6],[59,85,46,12,"stripeHeadlessTask"],[59,103,47,4],[59,104,47,5],[60,8,48,4,"didRegisterHeadlessTask"],[60,31,48,27],[60,34,48,30],[60,38,48,34],[61,6,49,2],[62,6,51,2],[62,10,51,8,"extendedParams"],[62,24,51,40],[62,27,51,43],[63,8,51,45],[63,11,51,48,"params"],[63,17,51,54],[64,8,51,56,"appInfo"],[65,6,51,64],[65,7,51,65],[66,6,52,2],[66,12,52,8,"NativeStripeSdk"],[66,27,52,23],[66,28,52,23,"default"],[66,35,52,23],[66,36,52,24,"initialise"],[66,46,52,34],[66,47,52,35,"extendedParams"],[66,61,52,49],[66,62,52,50],[67,6,54,2],[67,10,54,6,"Platform"],[67,22,54,14],[67,23,54,14,"Platform"],[67,31,54,14],[67,32,54,15,"OS"],[67,34,54,17],[67,39,54,22],[67,48,54,31],[67,50,54,33],[68,8,55,4],[68,14,55,10,"NativeOnrampSdk"],[68,29,55,25],[68,30,55,25,"default"],[68,37,55,25],[68,38,55,26,"initialise"],[68,48,55,36],[68,49,55,37,"extendedParams"],[68,63,55,51],[68,64,55,52],[69,6,56,2],[70,4,57,0],[70,5,57,1],[71,4,57,1],[71,20,33,13,"initStripe"],[71,30,33,23,"initStripe"],[71,31,33,23,"_x"],[71,33,33,23],[72,6,33,23],[72,13,33,23,"_ref"],[72,17,33,23],[72,18,33,23,"apply"],[72,23,33,23],[72,30,33,23,"arguments"],[72,39,33,23],[73,4,33,23],[74,2,33,23],[74,5,57,1],[76,2,59,0],[77,0,60,0],[78,0,61,0],[79,0,62,0],[80,0,63,0],[81,0,64,0],[82,0,65,0],[83,0,66,0],[84,0,67,0],[85,0,68,0],[86,0,69,0],[87,0,70,0],[88,0,71,0],[89,0,72,0],[90,0,73,0],[91,0,74,0],[92,0,75,0],[93,0,76,0],[94,0,77,0],[95,0,78,0],[96,2,79,7],[96,11,79,16,"StripeProvider"],[96,25,79,30,"StripeProvider"],[96,26,79,30,"_ref2"],[96,31,79,30],[96,33,87,10],[97,4,87,10],[97,8,80,2,"children"],[97,16,80,10],[97,19,80,10,"_ref2"],[97,24,80,10],[97,25,80,2,"children"],[97,33,80,10],[98,6,81,2,"publishableKey"],[98,20,81,16],[98,23,81,16,"_ref2"],[98,28,81,16],[98,29,81,2,"publishableKey"],[98,43,81,16],[99,6,82,2,"merchantIdentifier"],[99,24,82,20],[99,27,82,20,"_ref2"],[99,32,82,20],[99,33,82,2,"merchantIdentifier"],[99,51,82,20],[100,6,83,2,"threeDSecureParams"],[100,24,83,20],[100,27,83,20,"_ref2"],[100,32,83,20],[100,33,83,2,"threeDSecureParams"],[100,51,83,20],[101,6,84,2,"stripeAccountId"],[101,21,84,17],[101,24,84,17,"_ref2"],[101,29,84,17],[101,30,84,2,"stripeAccountId"],[101,45,84,17],[102,6,85,2,"urlScheme"],[102,15,85,11],[102,18,85,11,"_ref2"],[102,23,85,11],[102,24,85,2,"urlScheme"],[102,33,85,11],[103,6,86,2,"setReturnUrlSchemeOnAndroid"],[103,33,86,29],[103,36,86,29,"_ref2"],[103,41,86,29],[103,42,86,2,"setReturnUrlSchemeOnAndroid"],[103,69,86,29],[104,4,88,2],[104,8,88,2,"useEffect"],[104,14,88,11],[104,15,88,11,"useEffect"],[104,24,88,11],[104,26,88,12],[104,32,88,18],[105,6,89,4],[105,10,89,8],[105,11,89,9,"publishableKey"],[105,25,89,23],[105,27,89,25],[106,8,90,6],[107,6,91,4],[108,6,92,4],[108,10,92,10,"initializeStripe"],[108,26,92,26],[109,8,92,26],[109,12,92,26,"_ref3"],[109,17,92,26],[109,24,92,26,"_asyncToGenerator"],[109,41,92,26],[109,42,92,26,"default"],[109,49,92,26],[109,51,92,29],[109,64,92,41],[110,10,93,6],[110,14,93,10,"isAndroid"],[110,22,93,19],[110,23,93,19,"isAndroid"],[110,32,93,19],[110,34,93,21],[111,12,94,8],[111,18,94,14,"initStripe"],[111,28,94,24],[111,29,94,25],[112,14,95,10,"publishableKey"],[112,28,95,24],[113,14,96,10,"stripeAccountId"],[113,29,96,25],[114,14,97,10,"threeDSecureParams"],[114,32,97,28],[115,14,98,10,"urlScheme"],[115,23,98,19],[116,14,99,10,"setReturnUrlSchemeOnAndroid"],[117,12,100,8],[117,13,100,9],[117,14,100,10],[118,10,101,6],[118,11,101,7],[118,17,101,13],[119,12,102,8],[119,18,102,14,"initStripe"],[119,28,102,24],[119,29,102,25],[120,14,103,10,"publishableKey"],[120,28,103,24],[121,14,104,10,"stripeAccountId"],[121,29,104,25],[122,14,105,10,"threeDSecureParams"],[122,32,105,28],[123,14,106,10,"merchantIdentifier"],[123,32,106,28],[124,14,107,10,"urlScheme"],[125,12,108,8],[125,13,108,9],[125,14,108,10],[126,10,109,6],[127,8,110,4],[127,9,110,5],[128,8,110,5],[128,24,92,10,"initializeStripe"],[128,40,92,26,"initializeStripe"],[128,41,92,26],[129,10,92,26],[129,17,92,26,"_ref3"],[129,22,92,26],[129,23,92,26,"apply"],[129,28,92,26],[129,35,92,26,"arguments"],[129,44,92,26],[130,8,92,26],[131,6,92,26],[131,9,110,5],[132,6,112,4,"initializeStripe"],[132,22,112,20],[132,23,112,21],[132,24,112,22],[133,4,113,2],[133,5,113,3],[133,7,113,5],[133,8,114,4,"publishableKey"],[133,22,114,18],[133,24,115,4,"merchantIdentifier"],[133,42,115,22],[133,44,116,4,"stripeAccountId"],[133,59,116,19],[133,61,117,4,"threeDSecureParams"],[133,79,117,22],[133,81,118,4,"urlScheme"],[133,90,118,13],[133,92,119,4,"setReturnUrlSchemeOnAndroid"],[133,119,119,31],[133,120,120,3],[133,121,120,4],[134,4,122,2],[134,24,122,9],[134,28,122,9,"_reactJsxDevRuntime"],[134,47,122,9],[134,48,122,9,"jsxDEV"],[134,54,122,9],[134,56,122,9,"_reactJsxDevRuntime"],[134,75,122,9],[134,76,122,9,"Fragment"],[134,84,122,9],[135,6,122,9,"children"],[135,14,122,9],[135,16,122,12,"children"],[136,4,122,20],[136,20,122,23],[136,21,122,24],[137,2,123,0],[138,0,123,1],[138,3]],"functionMap":{"names":["<global>","initStripe","stripeHeadlessTask","Promise$argument_0","AppRegistry.registerHeadlessTask$argument_1","StripeProvider","useEffect$argument_0","initializeStripe"],"mappings":"AAA;0BCgC;ICO;+BCC,QD;KDC;MGI,wBH;CDW;OKsB;YCS;6BCI;KDkB;GDG;CLU"},"hasCjsExports":false},"type":"js/module"}]}