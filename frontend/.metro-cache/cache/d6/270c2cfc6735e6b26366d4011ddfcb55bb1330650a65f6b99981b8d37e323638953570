{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":46,"index":294}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return h}});var t,e=r(d[0]),s=r(d[1]),n=(t=s)&&t.__esModule?t:{default:t};function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class h extends n.default{constructor(...t){super(...t),o(this,\"minDurationMs\",500),o(this,\"defaultMaxDistSq\",100),o(this,\"maxDistSq\",this.defaultMaxDistSq),o(this,\"numberOfPointers\",1),o(this,\"startX\",0),o(this,\"startY\",0),o(this,\"startTime\",0),o(this,\"previousTime\",0),o(this,\"activationTimeout\",void 0)}init(t,e){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==e.State.ACTIVE&&this.fail()}tryBegin(){this.state===e.State.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),s=t.x-this.startX,n=t.y-this.startY;s*s+n*n<=this.maxDistSq||(this.state===e.State.ACTIVE?this.cancel():this.fail())}}});","lineCount":1,"map":[[1,92,8,15,"Object"],[1,99,8,15,"defineProperty"],[1,114,8,15,"_e"],[1,117,8,15],[1,128,8,15,"enumerable"],[1,140,8,15],[1,142,8,15,"get"],[1,146,8,15],[1,164,8,15,"LongPressGestureHandler"],[1,165,8,15],[1,169,3,0],[1,173],[1,175,3,0,"_State"],[1,177,3,0,"r"],[1,179,3,0,"d"],[1,181,3,0],[1,185,4,0,"_GestureHandler"],[1,187,4,0,"r"],[1,189,4,0,"d"],[1,191,4,0],[1,195,4,0,"GestureHandler"],[1,198],[1,200,4,0,"_GestureHandler"],[1,204],[1,231,1,0],[1,240,1,9,"_defineProperty"],[1,242,1,25,"obj"],[1,244,1,30,"key"],[1,246,1,35,"value"],[1,249,1,196],[1,256,1,48,"key"],[1,261,1,55,"obj"],[1,263,1,62,"Object"],[1,270,1,69,"defineProperty"],[1,285,1,84,"obj"],[1,287,1,89,"key"],[1,289,1,94],[1,290,1,96,"value"],[1,296,1,103,"value"],[1,298,1,110,"enumerable"],[1,310,1,122],[1,312,1,128,"configurable"],[1,326,1,142],[1,328,1,148,"writable"],[1,338,1,158],[1,342,1,176,"obj"],[1,344,1,180,"key"],[1,347,1,187,"value"],[1,349,1,203,"obj"],[1,350,1,208],[1,351,8,15],[1,357,8,21,"LongPressGestureHandler"],[1,367,8,53,"GestureHandler"],[1,369,8,67,"default"],[1,377,9,2,"constructor"],[1,392,9,17,"args"],[1,395,10,4,"super"],[1,404,10,13,"args"],[1,407,12,4,"_defineProperty"],[1,409,12,20,"this"],[1,414,12,26],[1,430,5,32],[1,435,14,4,"_defineProperty"],[1,437,14,20,"this"],[1,442,14,26],[1,461,14,44],[1,466,16,4,"_defineProperty"],[1,468,16,20,"this"],[1,473,16,26],[1,485,16,39,"this"],[1,490,16,44,"defaultMaxDistSq"],[1,508,18,4,"_defineProperty"],[1,510,18,20,"this"],[1,515,18,26],[1,534,18,46],[1,537,20,4,"_defineProperty"],[1,539,20,20,"this"],[1,544,20,26],[1,553,20,36],[1,556,22,4,"_defineProperty"],[1,558,22,20,"this"],[1,563,22,26],[1,572,22,36],[1,575,24,4,"_defineProperty"],[1,577,24,20,"this"],[1,582,24,26],[1,594,24,39],[1,597,26,4,"_defineProperty"],[1,599,26,20,"this"],[1,604,26,26],[1,619,26,42],[1,622,28,4,"_defineProperty"],[1,624,28,20,"this"],[1,629,28,26],[1,654,28,45,"undefined"],[1,656,29,2],[1,657,31,2,"init"],[1,662,31,7,"ref"],[1,664,31,12,"propsRef"],[1,672,32,42,"undefined"],[1,676,32,8,"this"],[1,681,32,13,"config"],[1,688,32,20,"enableContextMenu"],[1,708,33,6,"this"],[1,713,33,11,"config"],[1,720,33,18,"enableContextMenu"],[1,739,33,38],[1,742,36,4,"super"],[1,748,36,10,"init"],[1,753,36,15,"ref"],[1,755,36,20,"propsRef"],[1,757,37,2],[1,758,39,2,"transformNativeEvent"],[1,781,40,4],[1,787,40,11],[1,791,40,16,"super"],[1,797,40,22,"transformNativeEvent"],[1,820,41,6,"duration"],[1,829,41,16,"Date"],[1,834,41,21,"now"],[1,840,41,29,"this"],[1,845,41,34,"startTime"],[1,855,43,2],[1,856,45,2,"updateGestureConfig"],[1,877,45,22,"enabled"],[1,885,46,4,"enabled"],[1,888,46,14],[1,893,47,7,"props"],[1,897,49,4,"super"],[1,903,49,10,"updateGestureConfig"],[1,923,49,30],[1,924,50,6,"enabled"],[1,932,50,15,"enabled"],[1,937,51,9,"props"],[1,946,54,38,"undefined"],[1,950,54,8,"this"],[1,955,54,13,"config"],[1,962,54,20,"minDurationMs"],[1,978,55,6,"this"],[1,983,55,11,"minDurationMs"],[1,997,55,27,"this"],[1,1002,55,32,"config"],[1,1009,55,39,"minDurationMs"],[1,1029,58,32,"undefined"],[1,1033,58,8,"this"],[1,1038,58,13,"config"],[1,1045,58,20,"maxDist"],[1,1055,59,6,"this"],[1,1060,59,11,"maxDistSq"],[1,1070,59,23,"this"],[1,1075,59,28,"config"],[1,1082,59,35,"maxDist"],[1,1090,59,45,"this"],[1,1095,59,50,"config"],[1,1102,59,57,"maxDist"],[1,1116,62,41,"undefined"],[1,1120,62,8,"this"],[1,1125,62,13,"config"],[1,1132,62,20,"numberOfPointers"],[1,1151,63,6,"this"],[1,1156,63,11,"numberOfPointers"],[1,1173,63,30,"this"],[1,1178,63,35,"config"],[1,1185,63,42,"numberOfPointers"],[1,1202,65,2],[1,1203,67,2,"resetConfig"],[1,1217,68,4,"super"],[1,1223,68,10,"resetConfig"],[1,1237,69,4,"this"],[1,1242,69,9,"minDurationMs"],[1,1256,5,32],[1,1260,70,4,"this"],[1,1265,70,9,"maxDistSq"],[1,1275,70,21,"this"],[1,1280,70,26,"defaultMaxDistSq"],[1,1296,71,2],[1,1297,73,2,"onStateChange"],[1,1311,73,16,"_newState"],[1,1313,73,27,"_oldState"],[1,1316,74,4,"clearTimeout"],[1,1329,74,17,"this"],[1,1334,74,22,"activationTimeout"],[1,1352,75,2],[1,1353,77,2,"onPointerDown"],[1,1367,77,16,"event"],[1,1370,78,9,"this"],[1,1375,78,14,"isButtonInConfig"],[1,1392,78,31,"event"],[1,1394,78,37,"button"],[1,1404,82,4,"this"],[1,1409,82,9,"tracker"],[1,1417,82,17,"addToTracker"],[1,1430,82,30,"event"],[1,1433,83,4,"super"],[1,1439,83,10,"onPointerDown"],[1,1453,83,24,"event"],[1,1456,84,4,"this"],[1,1461,84,9,"startX"],[1,1468,84,18,"event"],[1,1470,84,24,"x"],[1,1472,85,4,"this"],[1,1477,85,9,"startY"],[1,1484,85,18,"event"],[1,1486,85,24,"y"],[1,1488,86,4,"this"],[1,1493,86,9,"tryBegin"],[1,1504,87,4,"this"],[1,1509,87,9,"tryActivate"],[1,1523,88,4,"this"],[1,1528,88,9,"tryToSendTouchEvent"],[1,1548,88,29,"event"],[1,1551,89,2],[1,1552,91,2,"onPointerAdd"],[1,1565,91,15,"event"],[1,1568,95,4],[1,1571,92,4,"super"],[1,1577,92,10,"onPointerAdd"],[1,1590,92,23,"event"],[1,1593,93,4,"this"],[1,1598,93,9,"tracker"],[1,1606,93,17,"addToTracker"],[1,1619,93,30,"event"],[1,1622,95,8,"this"],[1,1627,95,13,"tracker"],[1,1635,95,21,"trackedPointersCount"],[1,1656,95,44,"this"],[1,1661,95,49,"numberOfPointers"],[1,1678,97,6],[1,1690,96,6,"this"],[1,1695,96,11,"fail"],[1,1702,100,4],[1,1708,100,10,"absoluteCoordsAverage"],[1,1710,100,34,"this"],[1,1715,100,39,"tracker"],[1,1723,100,47,"getAbsoluteCoordsAverage"],[1,1750,101,4,"this"],[1,1755,101,9,"startX"],[1,1762,101,18,"absoluteCoordsAverage"],[1,1764,101,40,"x"],[1,1766,102,4,"this"],[1,1771,102,9,"startY"],[1,1778,102,18,"absoluteCoordsAverage"],[1,1780,102,40,"y"],[1,1782,103,4,"this"],[1,1787,103,9,"tryActivate"],[1,1800,104,2],[1,1801,106,2,"onPointerMove"],[1,1815,106,16,"event"],[1,1818,107,4,"super"],[1,1824,107,10,"onPointerMove"],[1,1838,107,24,"event"],[1,1841,108,4,"this"],[1,1846,108,9,"tracker"],[1,1854,108,17,"track"],[1,1860,108,23,"event"],[1,1863,109,4,"this"],[1,1868,109,9,"checkDistanceFail"],[1,1887,110,2],[1,1888,112,2,"onPointerOutOfBounds"],[1,1909,112,23,"event"],[1,1912,113,4,"super"],[1,1918,113,10,"onPointerOutOfBounds"],[1,1939,113,31,"event"],[1,1942,114,4,"this"],[1,1947,114,9,"tracker"],[1,1955,114,17,"track"],[1,1961,114,23,"event"],[1,1964,115,4,"this"],[1,1969,115,9,"checkDistanceFail"],[1,1988,116,2],[1,1989,118,2,"onPointerUp"],[1,2001,118,14,"event"],[1,2004,119,4,"super"],[1,2010,119,10,"onPointerUp"],[1,2022,119,22,"event"],[1,2025,120,4,"this"],[1,2030,120,9,"tracker"],[1,2038,120,17,"removeFromTracker"],[1,2056,120,35,"event"],[1,2058,120,41,"pointerId"],[1,2069,122,8,"this"],[1,2074,122,13,"state"],[1,2082,122,23,"State"],[1,2084,122,28,"State"],[1,2090,122,29,"ACTIVE"],[1,2097,123,6,"this"],[1,2102,123,11,"end"],[1,2108,125,6,"this"],[1,2113,125,11,"fail"],[1,2119,127,2],[1,2120,129,2,"onPointerRemove"],[1,2136,129,18,"event"],[1,2139,130,4,"super"],[1,2145,130,10,"onPointerRemove"],[1,2161,130,26,"event"],[1,2164,131,4,"this"],[1,2169,131,9,"tracker"],[1,2177,131,17,"removeFromTracker"],[1,2195,131,35,"event"],[1,2197,131,41,"pointerId"],[1,2208,133,8,"this"],[1,2213,133,13,"tracker"],[1,2221,133,21,"trackedPointersCount"],[1,2242,133,44,"this"],[1,2247,133,49,"numberOfPointers"],[1,2265,133,69,"this"],[1,2270,133,74,"state"],[1,2278,133,84,"State"],[1,2280,133,89,"State"],[1,2286,133,90,"ACTIVE"],[1,2294,134,6,"this"],[1,2299,134,11,"fail"],[1,2305,136,2],[1,2306,138,2,"tryBegin"],[1,2317,139,8,"this"],[1,2322,139,13,"state"],[1,2330,139,23,"State"],[1,2332,139,28,"State"],[1,2338,139,29,"UNDETERMINED"],[1,2353,143,4,"this"],[1,2358,143,9,"previousTime"],[1,2371,143,24,"Date"],[1,2376,143,29,"now"],[1,2382,144,4,"this"],[1,2387,144,9,"startTime"],[1,2397,144,21,"this"],[1,2402,144,26,"previousTime"],[1,2415,145,4,"this"],[1,2420,145,9,"begin"],[1,2428,146,2],[1,2429,148,2,"tryActivate"],[1,2443,149,8,"this"],[1,2448,149,13,"tracker"],[1,2456,149,21,"trackedPointersCount"],[1,2479,149,46,"this"],[1,2484,149,51,"numberOfPointers"],[1,2503,153,8,"this"],[1,2508,153,13,"minDurationMs"],[1,2522,153,29],[1,2524,154,6,"this"],[1,2529,154,11,"activationTimeout"],[1,2547,154,31,"setTimeout"],[1,2558,154,42],[1,2563,155,8,"this"],[1,2568,155,13,"activate"],[1,2580,156,9,"this"],[1,2585,156,14,"minDurationMs"],[1,2600,157,38],[1,2604,157,15,"this"],[1,2609,157,20,"minDurationMs"],[1,2624,158,6,"this"],[1,2629,158,11,"activate"],[1,2640,160,2],[1,2641,162,2,"checkDistanceFail"],[1,2661,163,4],[1,2667,163,10,"absoluteCoordsAverage"],[1,2669,163,34,"this"],[1,2674,163,39,"tracker"],[1,2682,163,47,"getAbsoluteCoordsAverage"],[1,2709,164,10,"dx"],[1,2711,164,15,"absoluteCoordsAverage"],[1,2713,164,37,"x"],[1,2715,164,41,"this"],[1,2720,164,46,"startX"],[1,2727,165,10,"dy"],[1,2729,165,15,"absoluteCoordsAverage"],[1,2731,165,37,"y"],[1,2733,165,41,"this"],[1,2738,165,46,"startY"],[1,2745,166,19,"dx"],[1,2747,166,24,"dx"],[1,2749,166,29,"dy"],[1,2751,166,34,"dy"],[1,2754,168,18,"this"],[1,2759,168,23,"maxDistSq"],[1,2771,172,8,"this"],[1,2776,172,13,"state"],[1,2784,172,23,"State"],[1,2786,172,28,"State"],[1,2792,172,29,"ACTIVE"],[1,2799,173,6,"this"],[1,2804,173,11,"cancel"],[1,2813,175,6,"this"],[1,2818,175,11,"fail"],[1,2825,177,2],[1,2827,179,1],[1,2830]],"functionMap":{"names":["_defineProperty","<global>","LongPressGestureHandler","constructor","init","transformNativeEvent","updateGestureConfig","resetConfig","onStateChange","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","tryActivate","setTimeout$argument_0","checkDistanceFail"],"mappings":"AAA,iNC;eCO;ECC;GDoB;EEE;GFM;EGE;GHI;EIE;GJoB;EKE;GLI;EME;GNE;EOE;GPY;EQE;GRa;ESE;GTI;EUE;GVI;EWE;GXS;EYE;GZO;EaE;GbQ;EcE;0CCM;ODE;GdI;EgBE;GhBe;CDE"},"hasCjsExports":false},"type":"js/module"}]}