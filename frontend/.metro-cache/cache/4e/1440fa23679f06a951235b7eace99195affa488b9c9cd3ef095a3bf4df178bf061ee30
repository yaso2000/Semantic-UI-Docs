{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":51,"index":107}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":32,"index":140}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNotificationSound = useNotificationSound;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _expoAv = require(_dependencyMap[3], \"expo-av\");\n  function useNotificationSound() {\n    _s();\n    var soundRef = (0, _react.useRef)(null);\n    var lastUnreadCount = (0, _react.useRef)(0);\n    (0, _react.useEffect)(() => {\n      // Set up audio mode\n      var setupAudio = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (_reactNative.Platform.OS !== 'web') {\n            try {\n              yield _expoAv.Audio.setAudioModeAsync({\n                allowsRecordingIOS: false,\n                playsInSilentModeIOS: true,\n                staysActiveInBackground: false,\n                shouldDuckAndroid: true\n              });\n            } catch (error) {\n              console.log('Audio setup error:', error);\n            }\n          }\n        });\n        return function setupAudio() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      setupAudio();\n      return () => {\n        // Cleanup sound on unmount\n        if (soundRef.current) {\n          soundRef.current.unloadAsync();\n        }\n      };\n    }, []);\n    var playNotificationSound = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        // Vibrate (works on mobile)\n        if (_reactNative.Platform.OS !== 'web') {\n          // Ù†Ù…Ø· Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±: ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²-ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²\n          _reactNative.Vibration.vibrate([0, 200, 100, 200]);\n          console.log('ðŸ”” Notification vibration triggered');\n        }\n\n        // Play system notification sound using Audio API\n        if (_reactNative.Platform.OS !== 'web') {\n          try {\n            // Unload previous sound if exists\n            if (soundRef.current) {\n              yield soundRef.current.unloadAsync();\n            }\n\n            // Use expo-av's built-in notification approach\n            var _yield$Audio$Sound$cr = yield _expoAv.Audio.Sound.createAsync({\n                uri: 'https://notificationsounds.com/storage/sounds/file-sounds-1150-pristine.mp3'\n              }, {\n                shouldPlay: true,\n                volume: 0.7\n              }),\n              sound = _yield$Audio$Sound$cr.sound;\n            soundRef.current = sound;\n            console.log('ðŸ”Š Notification sound played');\n\n            // Unload after playing\n            sound.setOnPlaybackStatusUpdate(status => {\n              if (status.isLoaded && status.didJustFinish) {\n                sound.unloadAsync();\n              }\n            });\n          } catch (soundError) {\n            // Sound might fail, but vibration already worked\n            console.log('Sound playback skipped (vibration used instead):', soundError);\n          }\n        }\n      } catch (error) {\n        console.log('Notification error:', error);\n      }\n    }), []);\n    var checkAndPlaySound = (0, _react.useCallback)(newUnreadCount => {\n      // Play sound only if unread count increased\n      if (newUnreadCount > lastUnreadCount.current) {\n        console.log(`ðŸ“¬ New messages detected: ${lastUnreadCount.current} -> ${newUnreadCount}`);\n        playNotificationSound();\n      }\n      lastUnreadCount.current = newUnreadCount;\n    }, [playNotificationSound]);\n    return {\n      playNotificationSound,\n      checkAndPlaySound\n    };\n  }\n  _s(useNotificationSound, \"4/vbe8AdhgpENnWxDUvnISpfK8s=\");\n});","lineCount":109,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useNotificationSound"],[13,30,5,0],[13,33,5,0,"useNotificationSound"],[13,53,5,0],[14,2,88,1],[14,6,88,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,88,1],[14,45,88,1,"require"],[14,52,88,1],[14,53,88,1,"_dependencyMap"],[14,67,88,1],[15,2,88,1],[15,6,88,1,"_asyncToGenerator"],[15,23,88,1],[15,26,88,1,"_interopDefault"],[15,41,88,1],[15,42,88,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,88,1],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_reactNative"],[17,18,2,0],[17,21,2,0,"require"],[17,28,2,0],[17,29,2,0,"_dependencyMap"],[17,43,2,0],[18,2,3,0],[18,6,3,0,"_expoAv"],[18,13,3,0],[18,16,3,0,"require"],[18,23,3,0],[18,24,3,0,"_dependencyMap"],[18,38,3,0],[19,2,5,7],[19,11,5,16,"useNotificationSound"],[19,31,5,36,"useNotificationSound"],[19,32,5,36],[19,34,5,39],[20,4,5,39,"_s"],[20,6,5,39],[21,4,6,2],[21,8,6,8,"soundRef"],[21,16,6,16],[21,19,6,19],[21,23,6,19,"useRef"],[21,29,6,25],[21,30,6,25,"useRef"],[21,36,6,25],[21,38,6,46],[21,42,6,50],[21,43,6,51],[22,4,7,2],[22,8,7,8,"lastUnreadCount"],[22,23,7,23],[22,26,7,26],[22,30,7,26,"useRef"],[22,36,7,32],[22,37,7,32,"useRef"],[22,43,7,32],[22,45,7,33],[22,46,7,34],[22,47,7,35],[23,4,9,2],[23,8,9,2,"useEffect"],[23,14,9,11],[23,15,9,11,"useEffect"],[23,24,9,11],[23,26,9,12],[23,32,9,18],[24,6,10,4],[25,6,11,4],[25,10,11,10,"setupAudio"],[25,20,11,20],[26,8,11,20],[26,12,11,20,"_ref"],[26,16,11,20],[26,23,11,20,"_asyncToGenerator"],[26,40,11,20],[26,41,11,20,"default"],[26,48,11,20],[26,50,11,23],[26,63,11,35],[27,10,12,6],[27,14,12,10,"Platform"],[27,26,12,18],[27,27,12,18,"Platform"],[27,35,12,18],[27,36,12,19,"OS"],[27,38,12,21],[27,43,12,26],[27,48,12,31],[27,50,12,33],[28,12,13,8],[28,16,13,12],[29,14,14,10],[29,20,14,16,"Audio"],[29,27,14,21],[29,28,14,21,"Audio"],[29,33,14,21],[29,34,14,22,"setAudioModeAsync"],[29,51,14,39],[29,52,14,40],[30,16,15,12,"allowsRecordingIOS"],[30,34,15,30],[30,36,15,32],[30,41,15,37],[31,16,16,12,"playsInSilentModeIOS"],[31,36,16,32],[31,38,16,34],[31,42,16,38],[32,16,17,12,"staysActiveInBackground"],[32,39,17,35],[32,41,17,37],[32,46,17,42],[33,16,18,12,"shouldDuckAndroid"],[33,33,18,29],[33,35,18,31],[34,14,19,10],[34,15,19,11],[34,16,19,12],[35,12,20,8],[35,13,20,9],[35,14,20,10],[35,21,20,17,"error"],[35,26,20,22],[35,28,20,24],[36,14,21,10,"console"],[36,21,21,17],[36,22,21,18,"log"],[36,25,21,21],[36,26,21,22],[36,46,21,42],[36,48,21,44,"error"],[36,53,21,49],[36,54,21,50],[37,12,22,8],[38,10,23,6],[39,8,24,4],[39,9,24,5],[40,8,24,5],[40,24,11,10,"setupAudio"],[40,34,11,20,"setupAudio"],[40,35,11,20],[41,10,11,20],[41,17,11,20,"_ref"],[41,21,11,20],[41,22,11,20,"apply"],[41,27,11,20],[41,34,11,20,"arguments"],[41,43,11,20],[42,8,11,20],[43,6,11,20],[43,9,24,5],[44,6,26,4,"setupAudio"],[44,16,26,14],[44,17,26,15],[44,18,26,16],[45,6,28,4],[45,13,28,11],[45,19,28,17],[46,8,29,6],[47,8,30,6],[47,12,30,10,"soundRef"],[47,20,30,18],[47,21,30,19,"current"],[47,28,30,26],[47,30,30,28],[48,10,31,8,"soundRef"],[48,18,31,16],[48,19,31,17,"current"],[48,26,31,24],[48,27,31,25,"unloadAsync"],[48,38,31,36],[48,39,31,37],[48,40,31,38],[49,8,32,6],[50,6,33,4],[50,7,33,5],[51,4,34,2],[51,5,34,3],[51,7,34,5],[51,9,34,7],[51,10,34,8],[52,4,36,2],[52,8,36,8,"playNotificationSound"],[52,29,36,29],[52,32,36,32],[52,36,36,32,"useCallback"],[52,42,36,43],[52,43,36,43,"useCallback"],[52,54,36,43],[52,73,36,43,"_asyncToGenerator"],[52,90,36,43],[52,91,36,43,"default"],[52,98,36,43],[52,100,36,44],[52,113,36,56],[53,6,37,4],[53,10,37,8],[54,8,38,6],[55,8,39,6],[55,12,39,10,"Platform"],[55,24,39,18],[55,25,39,18,"Platform"],[55,33,39,18],[55,34,39,19,"OS"],[55,36,39,21],[55,41,39,26],[55,46,39,31],[55,48,39,33],[56,10,40,8],[57,10,41,8,"Vibration"],[57,22,41,17],[57,23,41,17,"Vibration"],[57,32,41,17],[57,33,41,18,"vibrate"],[57,40,41,25],[57,41,41,26],[57,42,41,27],[57,43,41,28],[57,45,41,30],[57,48,41,33],[57,50,41,35],[57,53,41,38],[57,55,41,40],[57,58,41,43],[57,59,41,44],[57,60,41,45],[58,10,42,8,"console"],[58,17,42,15],[58,18,42,16,"log"],[58,21,42,19],[58,22,42,20],[58,59,42,57],[58,60,42,58],[59,8,43,6],[61,8,45,6],[62,8,46,6],[62,12,46,10,"Platform"],[62,24,46,18],[62,25,46,18,"Platform"],[62,33,46,18],[62,34,46,19,"OS"],[62,36,46,21],[62,41,46,26],[62,46,46,31],[62,48,46,33],[63,10,47,8],[63,14,47,12],[64,12,48,10],[65,12,49,10],[65,16,49,14,"soundRef"],[65,24,49,22],[65,25,49,23,"current"],[65,32,49,30],[65,34,49,32],[66,14,50,12],[66,20,50,18,"soundRef"],[66,28,50,26],[66,29,50,27,"current"],[66,36,50,34],[66,37,50,35,"unloadAsync"],[66,48,50,46],[66,49,50,47],[66,50,50,48],[67,12,51,10],[69,12,53,10],[70,12,54,10],[70,16,54,10,"_yield$Audio$Sound$cr"],[70,37,54,10],[70,46,54,34,"Audio"],[70,53,54,39],[70,54,54,39,"Audio"],[70,59,54,39],[70,60,54,40,"Sound"],[70,65,54,45],[70,66,54,46,"createAsync"],[70,77,54,57],[70,78,55,12],[71,16,55,14,"uri"],[71,19,55,17],[71,21,55,19],[72,14,55,97],[72,15,55,98],[72,17,56,12],[73,16,56,14,"shouldPlay"],[73,26,56,24],[73,28,56,26],[73,32,56,30],[74,16,56,32,"volume"],[74,22,56,38],[74,24,56,40],[75,14,56,44],[75,15,57,10],[75,16,57,11],[76,14,54,18,"sound"],[76,19,54,23],[76,22,54,23,"_yield$Audio$Sound$cr"],[76,43,54,23],[76,44,54,18,"sound"],[76,49,54,23],[77,12,59,10,"soundRef"],[77,20,59,18],[77,21,59,19,"current"],[77,28,59,26],[77,31,59,29,"sound"],[77,36,59,34],[78,12,60,10,"console"],[78,19,60,17],[78,20,60,18,"log"],[78,23,60,21],[78,24,60,22],[78,54,60,52],[78,55,60,53],[80,12,62,10],[81,12,63,10,"sound"],[81,17,63,15],[81,18,63,16,"setOnPlaybackStatusUpdate"],[81,43,63,41],[81,44,63,43,"status"],[81,50,63,49],[81,54,63,54],[82,14,64,12],[82,18,64,16,"status"],[82,24,64,22],[82,25,64,23,"isLoaded"],[82,33,64,31],[82,37,64,35,"status"],[82,43,64,41],[82,44,64,42,"didJustFinish"],[82,57,64,55],[82,59,64,57],[83,16,65,14,"sound"],[83,21,65,19],[83,22,65,20,"unloadAsync"],[83,33,65,31],[83,34,65,32],[83,35,65,33],[84,14,66,12],[85,12,67,10],[85,13,67,11],[85,14,67,12],[86,10,68,8],[86,11,68,9],[86,12,68,10],[86,19,68,17,"soundError"],[86,29,68,27],[86,31,68,29],[87,12,69,10],[88,12,70,10,"console"],[88,19,70,17],[88,20,70,18,"log"],[88,23,70,21],[88,24,70,22],[88,74,70,72],[88,76,70,74,"soundError"],[88,86,70,84],[88,87,70,85],[89,10,71,8],[90,8,72,6],[91,6,73,4],[91,7,73,5],[91,8,73,6],[91,15,73,13,"error"],[91,20,73,18],[91,22,73,20],[92,8,74,6,"console"],[92,15,74,13],[92,16,74,14,"log"],[92,19,74,17],[92,20,74,18],[92,41,74,39],[92,43,74,41,"error"],[92,48,74,46],[92,49,74,47],[93,6,75,4],[94,4,76,2],[94,5,76,3],[94,8,76,5],[94,10,76,7],[94,11,76,8],[95,4,78,2],[95,8,78,8,"checkAndPlaySound"],[95,25,78,25],[95,28,78,28],[95,32,78,28,"useCallback"],[95,38,78,39],[95,39,78,39,"useCallback"],[95,50,78,39],[95,52,78,41,"newUnreadCount"],[95,66,78,63],[95,70,78,68],[96,6,79,4],[97,6,80,4],[97,10,80,8,"newUnreadCount"],[97,24,80,22],[97,27,80,25,"lastUnreadCount"],[97,42,80,40],[97,43,80,41,"current"],[97,50,80,48],[97,52,80,50],[98,8,81,6,"console"],[98,15,81,13],[98,16,81,14,"log"],[98,19,81,17],[98,20,81,18],[98,49,81,47,"lastUnreadCount"],[98,64,81,62],[98,65,81,63,"current"],[98,72,81,70],[98,79,81,77,"newUnreadCount"],[98,93,81,91],[98,95,81,93],[98,96,81,94],[99,8,82,6,"playNotificationSound"],[99,29,82,27],[99,30,82,28],[99,31,82,29],[100,6,83,4],[101,6,84,4,"lastUnreadCount"],[101,21,84,19],[101,22,84,20,"current"],[101,29,84,27],[101,32,84,30,"newUnreadCount"],[101,46,84,44],[102,4,85,2],[102,5,85,3],[102,7,85,5],[102,8,85,6,"playNotificationSound"],[102,29,85,27],[102,30,85,28],[102,31,85,29],[103,4,87,2],[103,11,87,9],[104,6,87,11,"playNotificationSound"],[104,27,87,32],[105,6,87,34,"checkAndPlaySound"],[106,4,87,52],[106,5,87,53],[107,2,88,0],[108,2,88,1,"_s"],[108,4,88,1],[108,5,5,16,"useNotificationSound"],[108,25,5,36],[109,0,5,36],[109,3]],"functionMap":{"names":["<global>","useNotificationSound","useEffect$argument_0","setupAudio","<anonymous>","playNotificationSound","sound.setOnPlaybackStatusUpdate$argument_0","checkAndPlaySound"],"mappings":"AAA;OCI;YCI;uBCE;KDa;WEI;KFK;GDC;4CIE;0CC2B;WDI;GJS;wCME;GNO;CDG"},"hasCjsExports":false},"type":"js/module"}]}