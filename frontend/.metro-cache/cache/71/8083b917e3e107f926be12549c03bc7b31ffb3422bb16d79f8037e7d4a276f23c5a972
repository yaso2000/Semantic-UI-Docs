{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ImagePicker.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":50,"index":114}}],"key":"/jNv85Cqy9zQGnbpL3adxFcCtH4=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":42,"index":157}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),s=r(d[1]),n=r(d[2]);const o={images:'image/*',videos:'video/mp4,video/quicktime,video/x-m4v,video/*',livePhotos:''};var c={launchImageLibraryAsync:async({mediaTypes:s=['images'],allowsMultipleSelection:n=!1,base64:o=!1})=>t.Platform.isDOMAvailable?await u({mediaTypes:s,allowsMultipleSelection:n,base64:o}):{canceled:!0,assets:null},launchCameraAsync:async({mediaTypes:s=['images'],allowsMultipleSelection:n=!1,base64:o=!1,cameraType:c})=>t.Platform.isDOMAvailable?await u({mediaTypes:s,allowsMultipleSelection:n,capture:c??!0,base64:o}):{canceled:!0,assets:null},getCameraPermissionsAsync:async()=>l(),requestCameraPermissionsAsync:async()=>l(),getMediaLibraryPermissionsAsync:async t=>l(),requestMediaLibraryPermissionsAsync:async t=>l()};function l(){return{status:t.PermissionStatus.GRANTED,expires:'never',granted:!0,canAskAgain:!0}}function u({mediaTypes:t,capture:o=!1,allowsMultipleSelection:c=!1,base64:l}){const u=b((0,n.parseMediaTypes)(t)),p=document.createElement('input');if(p.style.display='none',p.setAttribute('type','file'),p.setAttribute('accept',u),p.setAttribute('id',String(Math.random())),p.setAttribute('data-testid','file-input'),c&&p.setAttribute('multiple','multiple'),o)switch(o){case!0:p.setAttribute('capture','camera');break;case s.CameraType.front:p.setAttribute('capture','user');break;case s.CameraType.back:p.setAttribute('capture','environment')}return document.body.appendChild(p),new Promise(t=>{p.addEventListener('change',async()=>{if(p.files?.length){const s=c?p.files:[p.files[0]],n=await Promise.all(Array.from(s).map(t=>f(t,{base64:l})));t({canceled:!1,assets:n})}else t({canceled:!0,assets:null});document.body.removeChild(p)}),p.addEventListener('cancel',()=>{p.dispatchEvent(new Event('change'))});const s=new MouseEvent('click');p.dispatchEvent(s)})}async function p(t){return new Promise(s=>{const n=new Image;n.onload=()=>{s({width:n.naturalWidth??n.width,height:n.naturalHeight??n.height})},n.onerror=()=>s({width:0,height:0}),n.src=t})}async function h(t){return new Promise(s=>{const n=document.createElement('video');n.preload='metadata',n.onloadedmetadata=()=>{s({width:n.videoWidth,height:n.videoHeight,duration:n.duration})},n.onerror=()=>s({width:0,height:0,duration:0}),n.src=t})}async function y(t){return new Promise((s,n)=>{const o=new FileReader;o.onerror=()=>{n(new Error('Failed to read the selected media because the operation failed.'))},o.onload=t=>{const o=t.target?.result;'string'==typeof o?s(o.split(',')[1]):n(new Error('Failed to read file as base64'))},o.readAsDataURL(t)})}async function f(t,s){const n=t.type,o=URL.createObjectURL(t);try{let c,l;if(n.startsWith('image/'))c=await p(o);else{if(!n.startsWith('video/'))throw new Error(`Unsupported file type: ${n}. Only images and videos are supported.`);c=await h(o)}return s.base64&&(l=await y(t)),{uri:o,width:c.width,height:c.height,type:n.startsWith('image/')?'image':'video',mimeType:n,fileName:t.name,fileSize:t.size,file:t,...void 0!==c.duration&&{duration:c.duration},...l&&{base64:l}}}catch(t){throw t}}function b(t){const s=t.filter(t=>'livePhotos'!==t);if(0===s.length)return'image/*';let n='';for(const t of s)n.includes(o[t])||(n=n.concat(',',o[t]));return n}});","lineCount":1,"map":[[1,90,9,0,"Object"],[1,97,9,0,"defineProperty"],[1,112,9,0,"e"],[1,114,9,0],[1,125,9,0,"enumerable"],[1,137,9,0],[1,139,9,0,"get"],[1,143,9,0],[1,161,9,0,"_default"],[1,162,9,0],[1,166,1,0],[1,170,1,0,"_expoModulesCore"],[1,172,1,0,"r"],[1,174,1,0,"d"],[1,176,1,0],[1,180,2,0,"_ImagePickerTypes"],[1,182,2,0,"r"],[1,184,2,0,"d"],[1,186,2,0],[1,190,3,0,"_utils"],[1,192,3,0,"r"],[1,194,3,0,"d"],[1,196,3,0],[1,200,4,0],[1,206,4,6,"MediaTypeInput"],[1,208,4,23],[1,209,5,4,"images"],[1,216,5,12],[1,226,6,4,"videos"],[1,233,6,12],[1,281,7,4,"livePhotos"],[1,292,7,16],[1,296,9,0],[1,300,9,0,"_default"],[1,302,9,15],[1,303,10,4,"async"],[1,327,10,33,"launchImageLibraryAsync"],[1,334,10,34,"mediaTypes"],[1,345,10,36,"mediaTypes"],[1,347,10,49],[1,348,10,50],[1,358,10,59,"allowsMultipleSelection"],[1,382,10,61,"allowsMultipleSelection"],[1,385,10,87],[1,387,10,92,"base64"],[1,394,10,94,"base64"],[1,397,10,103],[1,402,12,13,"Platform"],[1,404,12,21,"Platform"],[1,413,12,22,"isDOMAvailable"],[1,434,15,21,"openFileBrowserAsync"],[1,436,15,42],[1,437,16,12,"mediaTypes"],[1,450,17,12,"allowsMultipleSelection"],[1,476,18,12,"base64"],[1,487,13,19],[1,488,13,21,"canceled"],[1,498,13,31],[1,500,13,37,"assets"],[1,507,13,45],[1,513,21,4,"async"],[1,531,21,27,"launchCameraAsync"],[1,538,21,28,"mediaTypes"],[1,549,21,30,"mediaTypes"],[1,551,21,43],[1,552,21,44],[1,562,21,53,"allowsMultipleSelection"],[1,586,21,55,"allowsMultipleSelection"],[1,589,21,81],[1,591,21,86,"base64"],[1,598,21,88,"base64"],[1,601,21,97],[1,603,21,102,"cameraType"],[1,614,21,104,"cameraType"],[1,619,23,13,"Platform"],[1,621,23,21,"Platform"],[1,630,23,22,"isDOMAvailable"],[1,651,26,21,"openFileBrowserAsync"],[1,653,26,42],[1,654,27,12,"mediaTypes"],[1,667,28,12,"allowsMultipleSelection"],[1,693,29,12,"capture"],[1,701,29,21,"cameraType"],[1,705,29,35],[1,707,30,12,"base64"],[1,718,24,19],[1,719,24,21,"canceled"],[1,729,24,31],[1,731,24,37,"assets"],[1,738,24,45],[1,744,36,4,"async"],[1,770,36,35,"getCameraPermissionsAsync"],[1,779,37,15,"permissionGrantedResponse"],[1,783,39,4,"async"],[1,813,39,39,"requestCameraPermissionsAsync"],[1,822,40,15,"permissionGrantedResponse"],[1,826,46,4,"async"],[1,858,46,41,"getMediaLibraryPermissionsAsync"],[1,864,46,42,"_writeOnly"],[1,867,47,15,"permissionGrantedResponse"],[1,871,49,4,"async"],[1,907,49,45,"requestMediaLibraryPermissionsAsync"],[1,913,49,46,"_writeOnly"],[1,916,50,15,"permissionGrantedResponse"],[1,921,53,0],[1,930,53,9,"permissionGrantedResponse"],[1,934,54,4],[1,940,54,11],[1,941,55,8,"status"],[1,948,55,16,"PermissionStatus"],[1,950,55,32,"PermissionStatus"],[1,967,55,33,"GRANTED"],[1,975,56,8,"expires"],[1,983,56,17],[1,991,57,8,"granted"],[1,1000,57,17],[1,1002,58,8,"canAskAgain"],[1,1015,58,21],[1,1017,60,0],[1,1018,65,0],[1,1027,65,9,"openFileBrowserAsync"],[1,1030,65,30,"mediaTypes"],[1,1041,65,32,"mediaTypes"],[1,1043,65,42,"capture"],[1,1051,65,44,"capture"],[1,1054,65,54],[1,1056,65,59,"allowsMultipleSelection"],[1,1080,65,61,"allowsMultipleSelection"],[1,1083,65,87],[1,1085,65,92,"base64"],[1,1092,65,94,"base64"],[1,1096,66,4],[1,1102,67,10,"mediaTypeFormat"],[1,1104,67,28,"createMediaTypeFormat"],[1,1107,66,29],[1,1109,66,29,"parseMediaTypes"],[1,1111,66,44,"parseMediaTypes"],[1,1128,66,45,"mediaTypes"],[1,1132,68,10,"input"],[1,1134,68,18,"document"],[1,1143,68,27,"createElement"],[1,1157,68,41],[1,1166,77,4],[1,1169,69,4,"input"],[1,1171,69,10,"style"],[1,1177,69,16,"display"],[1,1185,69,26],[1,1192,70,4,"input"],[1,1194,70,10,"setAttribute"],[1,1207,70,23],[1,1214,70,31],[1,1222,71,4,"input"],[1,1224,71,10,"setAttribute"],[1,1237,71,23],[1,1246,71,33,"mediaTypeFormat"],[1,1249,72,4,"input"],[1,1251,72,10,"setAttribute"],[1,1264,72,23],[1,1269,72,29,"String"],[1,1276,72,36,"Math"],[1,1281,72,41,"random"],[1,1292,73,4,"input"],[1,1294,73,10,"setAttribute"],[1,1307,73,23],[1,1321,73,38],[1,1335,74,8,"allowsMultipleSelection"],[1,1338,75,8,"input"],[1,1340,75,14,"setAttribute"],[1,1353,75,27],[1,1364,75,39],[1,1376,77,8,"capture"],[1,1378,78,8],[1,1385,78,16,"capture"],[1,1388,79,12],[1,1393,79,17],[1,1395,80,16,"input"],[1,1397,80,22,"setAttribute"],[1,1410,80,35],[1,1420,80,46],[1,1430,81,16],[1,1436,82,12],[1,1441,82,17,"CameraType"],[1,1443,82,27,"CameraType"],[1,1454,82,28,"front"],[1,1460,83,16,"input"],[1,1462,83,22,"setAttribute"],[1,1475,83,35],[1,1485,83,46],[1,1493,84,16],[1,1499,85,12],[1,1504,85,17,"CameraType"],[1,1506,85,27,"CameraType"],[1,1517,85,28,"back"],[1,1522,86,16,"input"],[1,1524,86,22,"setAttribute"],[1,1537,86,35],[1,1547,86,46],[1,1562,90,4],[1,1569,89,4,"document"],[1,1578,89,13,"body"],[1,1583,89,18,"appendChild"],[1,1595,89,30,"input"],[1,1598,90,11],[1,1602,90,15,"Promise"],[1,1610,90,24,"resolve"],[1,1614,91,8,"input"],[1,1616,91,14,"addEventListener"],[1,1633,91,31],[1,1642,91,41,"async"],[1,1652,92,12],[1,1655,92,16,"input"],[1,1657,92,22,"files"],[1,1664,92,29,"length"],[1,1671,92,37],[1,1672,93,16],[1,1678,93,22,"files"],[1,1680,93,30,"allowsMultipleSelection"],[1,1682,93,56,"input"],[1,1684,93,62,"files"],[1,1690,93,70],[1,1691,93,71,"input"],[1,1693,93,77,"files"],[1,1699,93,83],[1,1703,94,22,"assets"],[1,1711,94,37,"Promise"],[1,1719,94,45,"all"],[1,1723,94,49,"Array"],[1,1729,94,55,"from"],[1,1734,94,60,"files"],[1,1737,94,67,"map"],[1,1741,94,72,"file"],[1,1744,94,81,"readFile"],[1,1746,94,90,"file"],[1,1748,94,96],[1,1749,94,98,"base64"],[1,1762,95,16,"resolve"],[1,1764,95,24],[1,1765,95,26,"canceled"],[1,1775,95,36],[1,1777,95,43,"assets"],[1,1787,96,12],[1,1793,98,16,"resolve"],[1,1795,98,24],[1,1796,98,26,"canceled"],[1,1806,98,36],[1,1808,98,42,"assets"],[1,1815,98,50],[1,1822,100,12,"document"],[1,1831,100,21,"body"],[1,1836,100,26,"removeChild"],[1,1848,100,38,"input"],[1,1853,102,8,"input"],[1,1855,102,14,"addEventListener"],[1,1872,102,31],[1,1881,102,41],[1,1886,103,12,"input"],[1,1888,103,18,"dispatchEvent"],[1,1902,103,32],[1,1906,103,36,"Event"],[1,1912,103,42],[1,1925,105,8],[1,1931,105,14,"event"],[1,1933,105,22],[1,1937,105,26,"MouseEvent"],[1,1948,105,37],[1,1957,106,8,"input"],[1,1959,106,14,"dispatchEvent"],[1,1973,106,28,"event"],[1,1977,108,0],[1,1978,113,0,"async"],[1,1993,113,15,"getImageMetadata"],[1,1995,113,32,"blobUrl"],[1,1998,114,4],[1,2005,114,11],[1,2009,114,15,"Promise"],[1,2017,114,24,"resolve"],[1,2021,115,8],[1,2027,115,14,"image"],[1,2029,115,22],[1,2033,115,26,"Image"],[1,2039,116,8,"image"],[1,2041,116,14,"onload"],[1,2048,116,23],[1,2053,117,12,"resolve"],[1,2055,117,20],[1,2056,118,16,"width"],[1,2062,118,23,"image"],[1,2064,118,29,"naturalWidth"],[1,2078,118,45,"image"],[1,2080,118,51,"width"],[1,2086,119,16,"height"],[1,2093,119,24,"image"],[1,2095,119,30,"naturalHeight"],[1,2110,119,47,"image"],[1,2112,119,53,"height"],[1,2122,122,8,"image"],[1,2124,122,14,"onerror"],[1,2132,122,24],[1,2136,122,30,"resolve"],[1,2138,122,38],[1,2139,122,40,"width"],[1,2145,122,47],[1,2147,122,50,"height"],[1,2154,122,58],[1,2158,123,8,"image"],[1,2160,123,14,"src"],[1,2164,123,20,"blobUrl"],[1,2167,125,0],[1,2168,129,0,"async"],[1,2183,129,15,"getVideoMetadata"],[1,2185,129,32,"blobUrl"],[1,2188,130,4],[1,2195,130,11],[1,2199,130,15,"Promise"],[1,2207,130,24,"resolve"],[1,2211,131,8],[1,2217,131,14,"video"],[1,2219,131,22,"document"],[1,2228,131,31,"createElement"],[1,2242,131,45],[1,2251,132,8,"video"],[1,2253,132,14,"preload"],[1,2261,132,24],[1,2272,133,8,"video"],[1,2274,133,14,"onloadedmetadata"],[1,2291,133,33],[1,2296,134,12,"resolve"],[1,2298,134,20],[1,2299,135,16,"width"],[1,2305,135,23,"video"],[1,2307,135,29,"videoWidth"],[1,2318,136,16,"height"],[1,2325,136,24,"video"],[1,2327,136,30,"videoHeight"],[1,2339,137,16,"duration"],[1,2348,137,26,"video"],[1,2350,137,32,"duration"],[1,2362,140,8,"video"],[1,2364,140,14,"onerror"],[1,2372,140,24],[1,2376,140,30,"resolve"],[1,2378,140,38],[1,2379,140,40,"width"],[1,2385,140,47],[1,2387,140,50,"height"],[1,2394,140,58],[1,2396,140,61,"duration"],[1,2405,140,71],[1,2409,141,8,"video"],[1,2411,141,14,"src"],[1,2415,141,20,"blobUrl"],[1,2418,143,0],[1,2419,147,0,"async"],[1,2434,147,15,"readFileAsBase64"],[1,2436,147,32,"file"],[1,2439,148,4],[1,2446,148,11],[1,2450,148,15,"Promise"],[1,2458,148,23],[1,2459,148,24,"resolve"],[1,2461,148,33,"reject"],[1,2466,149,8],[1,2472,149,14,"reader"],[1,2474,149,23],[1,2478,149,27,"FileReader"],[1,2489,150,8,"reader"],[1,2491,150,15,"onerror"],[1,2499,150,25],[1,2504,151,12,"reject"],[1,2506,151,19],[1,2510,151,23,"Error"],[1,2516,151,29],[1,2585,153,8,"reader"],[1,2587,153,15,"onload"],[1,2594,153,25,"event"],[1,2598,154,12],[1,2604,154,18,"result"],[1,2606,154,27,"event"],[1,2608,154,33,"target"],[1,2616,154,41,"result"],[1,2623,155,34],[1,2640,155,23,"result"],[1,2642,160,12,"resolve"],[1,2644,160,20,"result"],[1,2646,160,27,"split"],[1,2652,160,33],[1,2657,160,38],[1,2661,156,16,"reject"],[1,2663,156,23],[1,2667,156,27,"Error"],[1,2673,156,33],[1,2708,162,8,"reader"],[1,2710,162,15,"readAsDataURL"],[1,2724,162,29,"file"],[1,2728,164,0],[1,2729,169,0,"async"],[1,2744,169,15,"readFile"],[1,2746,169,24,"targetFile"],[1,2748,169,36,"options"],[1,2751,170,4],[1,2757,170,10,"mimeType"],[1,2759,170,21,"targetFile"],[1,2761,170,32,"type"],[1,2766,171,10,"baseUri"],[1,2768,171,20,"URL"],[1,2772,171,24,"createObjectURL"],[1,2788,171,40,"targetFile"],[1,2791,172,4],[1,2795,173,8],[1,2799,173,12,"metadata"],[1,2801,174,12,"base64"],[1,2803,175,8],[1,2806,175,12,"mimeType"],[1,2808,175,21,"startsWith"],[1,2819,175,32],[1,2829,176,12,"metadata"],[1,2837,176,29,"getImageMetadata"],[1,2839,176,46,"baseUri"],[1,2846,178,13],[1,2851,178,17,"mimeType"],[1,2853,178,26,"startsWith"],[1,2864,178,37],[1,2874,182,12],[1,2880,182,18],[1,2884,182,22,"Error"],[1,2890,182,28],[1,2916,182,54,"mimeType"],[1,2960,179,12,"metadata"],[1,2968,179,29,"getVideoMetadata"],[1,2970,179,46,"baseUri"],[1,2972,183,8],[1,2973,187,8],[1,2980,184,12,"options"],[1,2982,184,20,"base64"],[1,2991,185,12,"base64"],[1,2999,185,27,"readFileAsBase64"],[1,3001,185,44,"targetFile"],[1,3005,187,15],[1,3006,188,12,"uri"],[1,3010,188,17,"baseUri"],[1,3012,189,12,"width"],[1,3018,189,19,"metadata"],[1,3020,189,28,"width"],[1,3026,190,12,"height"],[1,3033,190,20,"metadata"],[1,3035,190,29,"height"],[1,3042,191,12,"type"],[1,3047,191,18,"mimeType"],[1,3049,191,27,"startsWith"],[1,3060,191,38],[1,3070,191,50],[1,3078,191,60],[1,3086,192,12,"mimeType"],[1,3097,193,12,"fileName"],[1,3106,193,22,"targetFile"],[1,3108,193,33,"name"],[1,3113,194,12,"fileSize"],[1,3122,194,22,"targetFile"],[1,3124,194,33,"size"],[1,3129,195,12,"file"],[1,3134,195,18,"targetFile"],[1,3144,196,38,"undefined"],[1,3148,196,16,"metadata"],[1,3150,196,25,"duration"],[1,3160,196,51],[1,3161,196,53,"duration"],[1,3170,196,63,"metadata"],[1,3172,196,72,"duration"],[1,3185,197,16,"base64"],[1,3188,197,26],[1,3189,197,28,"base64"],[1,3199,199,4],[1,3200,200,4],[1,3206,200,11,"error"],[1,3209,201,8],[1,3215,201,14,"error"],[1,3216,202,4],[1,3217,203,0],[1,3218,208,0],[1,3227,208,9,"createMediaTypeFormat"],[1,3229,208,31,"mediaTypes"],[1,3232,209,4],[1,3238,209,10,"filteredMediaTypes"],[1,3240,209,31,"mediaTypes"],[1,3242,209,42,"filter"],[1,3249,209,50,"mediaType"],[1,3252,209,78],[1,3267,209,64,"mediaType"],[1,3270,210,4],[1,3273,210,38],[1,3277,210,8,"filteredMediaTypes"],[1,3279,210,27,"length"],[1,3286,211,8],[1,3292,211,15],[1,3302,213,4],[1,3306,213,8,"result"],[1,3308,213,17],[1,3311,214,4],[1,3315,214,9],[1,3321,214,15,"mediaType"],[1,3326,214,28,"filteredMediaTypes"],[1,3328,216,13,"result"],[1,3330,216,20,"includes"],[1,3339,216,29,"MediaTypeInput"],[1,3341,216,44,"mediaType"],[1,3347,217,12,"result"],[1,3349,217,21,"result"],[1,3351,217,28,"concat"],[1,3358,217,35],[1,3362,217,40,"MediaTypeInput"],[1,3364,217,55,"mediaType"],[1,3369,220,4],[1,3376,220,11,"result"],[1,3377,221,0],[1,3378,221,1],[1,3381]],"functionMap":{"names":["<global>","default.launchImageLibraryAsync","default.launchCameraAsync","default.getCameraPermissionsAsync","default.requestCameraPermissionsAsync","default.getMediaLibraryPermissionsAsync","default.requestMediaLibraryPermissionsAsync","permissionGrantedResponse","openFileBrowserAsync","Promise$argument_0","input.addEventListener$argument_1","Array.from.map$argument_0","getImageMetadata","image.onload","image.onerror","getVideoMetadata","video.onloadedmetadata","video.onerror","readFileAsBase64","reader.onerror","reader.onload","readFile","createMediaTypeFormat","mediaTypes.filter$argument_0"],"mappings":"AAA;ICS;KDU;IEC;KFW;IGI;KHE;IIC;KJE;IKK;KLE;IMC;KNE;AOE;CPO;AQK;uBCyB;yCCC;uECG,oCD;SDO;yCCC;SDE;KDG;CRC;AYK;uBHC;uBIE;SJK;wBKC,sCL;KGE;CZC;AeI;uBNC;iCOG;SPM;wBQC,mDR;KME;CfC;AkBI;uBTC;yBUE;SVE;wBWC;SXQ;KSE;ClBC;AqBK;CrBkC;AsBK;iDCC,yCD;CtBY"},"hasCjsExports":false},"type":"js/module"}]}