{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":120},"end":{"line":8,"column":35,"index":142}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"../constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":17,"index":162},"end":{"line":10,"column":40,"index":185}}],"key":"zmjjtqoQxi2W71eIMIIaEi1mOpU=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":45,"index":233},"end":{"line":12,"column":72,"index":260}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../detectors/ScaleGestureDetector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":51,"index":315},"end":{"line":14,"column":95,"index":359}}],"key":"t/QhOnjCcZazf3aVkBUmVfhzkwM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),s=r(d[1]),o=c(r(d[2])),n=c(r(d[3]));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,s,o){return s in t?Object.defineProperty(t,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[s]=o,t}class u extends o.default{constructor(...o){super(...o),h(this,\"scale\",1),h(this,\"velocity\",0),h(this,\"startingSpan\",0),h(this,\"spanSlop\",s.DEFAULT_TOUCH_SLOP),h(this,\"scaleDetectorListener\",{onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:s=>{const o=this.scale;this.scale*=s.calculateScaleFactor(this.tracker.trackedPointersCount);const n=s.timeDelta;return n>0&&(this.velocity=(this.scale-o)/n),Math.abs(this.startingSpan-s.currentSpan)>=this.spanSlop&&this.state===t.State.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}}),h(this,\"scaleGestureDetector\",new n.default(this.scaleDetectorListener))}init(t,s){super.init(t,s),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(s){super.onPointerUp(s),this.tracker.removeFromTracker(s.pointerId),this.state===t.State.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(s,this.tracker),this.state===t.State.ACTIVE?this.end():this.fail())}onPointerRemove(s){super.onPointerRemove(s),this.scaleGestureDetector.onTouchEvent(s,this.tracker),this.tracker.removeFromTracker(s.pointerId),this.state===t.State.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===t.State.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(s){this.state!==t.State.ACTIVE&&this.resetProgress(),super.activate(s)}onReset(){this.resetProgress()}resetProgress(){this.state!==t.State.ACTIVE&&(this.velocity=0,this.scale=1)}}e.default=u});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_State"],[1,113,8,13,"require"],[1,115,8,20,"d"],[1,117,8,20],[1,121,10,4,"_constants"],[1,123,10,17,"require"],[1,125,10,24,"d"],[1,127,10,24],[1,131,12,4,"_GestureHandler"],[1,133,12,22,"_interopRequireDefault"],[1,135,12,45,"require"],[1,137,12,52,"d"],[1,139,12,52],[1,144,14,4,"_ScaleGestureDetector"],[1,146,14,28,"_interopRequireDefault"],[1,148,14,51,"require"],[1,150,14,58,"d"],[1,152,14,58],[1,157,16,0],[1,166,16,9,"_interopRequireDefault"],[1,168,16,32,"obj"],[1,171,16,39],[1,178,16,46,"obj"],[1,181,16,53,"obj"],[1,183,16,57,"__esModule"],[1,194,16,70,"obj"],[1,196,16,76],[1,197,16,78,"default"],[1,205,16,87,"obj"],[1,207,16,94],[1,208,18,0],[1,217,18,9,"_defineProperty"],[1,219,18,25,"obj"],[1,221,18,30,"key"],[1,223,18,35,"value"],[1,226,18,196],[1,233,18,48,"key"],[1,238,18,55,"obj"],[1,240,18,62,"Object"],[1,247,18,69,"defineProperty"],[1,262,18,84,"obj"],[1,264,18,89,"key"],[1,266,18,94],[1,267,18,96,"value"],[1,273,18,103,"value"],[1,275,18,110,"enumerable"],[1,287,18,122],[1,289,18,128,"configurable"],[1,303,18,142],[1,305,18,148,"writable"],[1,315,18,158],[1,319,18,176,"obj"],[1,321,18,180,"key"],[1,324,18,187,"value"],[1,326,18,203,"obj"],[1,327,18,208],[1,328,20,0],[1,334,20,6,"PinchGestureHandler"],[1,344,20,34,"_GestureHandler"],[1,346,20,50,"default"],[1,354,21,2,"constructor"],[1,369,21,17,"args"],[1,372,22,4,"super"],[1,381,22,13,"args"],[1,384,24,4,"_defineProperty"],[1,386,24,20,"this"],[1,391,24,26],[1,399,24,35],[1,402,26,4,"_defineProperty"],[1,404,26,20,"this"],[1,409,26,26],[1,420,26,38],[1,423,28,4,"_defineProperty"],[1,425,28,20,"this"],[1,430,28,26],[1,445,28,42],[1,448,30,4,"_defineProperty"],[1,450,30,20,"this"],[1,455,30,26],[1,466,30,38,"_constants"],[1,468,30,49,"DEFAULT_TOUCH_SLOP"],[1,488,32,4,"_defineProperty"],[1,490,32,20,"this"],[1,495,32,26],[1,519,32,51],[1,520,33,6,"onScaleBegin"],[1,533,33,20,"detector"],[1,537,34,8,"this"],[1,542,34,13,"startingSpan"],[1,555,34,28,"detector"],[1,557,34,37,"currentSpan"],[1,570,35,15],[1,573,37,6,"onScale"],[1,581,37,15,"detector"],[1,585,38,8],[1,591,38,14,"prevScaleFactor"],[1,593,38,32,"this"],[1,598,38,37,"scale"],[1,604,39,8,"this"],[1,609,39,13,"scale"],[1,616,39,22,"detector"],[1,618,39,31,"calculateScaleFactor"],[1,639,39,52,"this"],[1,644,39,57,"tracker"],[1,652,39,65,"trackedPointersCount"],[1,674,40,8],[1,680,40,14,"delta"],[1,682,40,22,"detector"],[1,684,40,31,"timeDelta"],[1,694,50,8],[1,701,42,12,"delta"],[1,703,42,20],[1,707,43,10,"this"],[1,712,43,15,"velocity"],[1,722,43,27,"this"],[1,727,43,32,"scale"],[1,733,43,40,"prevScaleFactor"],[1,736,43,59,"delta"],[1,739,46,12,"Math"],[1,744,46,17,"abs"],[1,748,46,21,"this"],[1,753,46,26,"startingSpan"],[1,766,46,41,"detector"],[1,768,46,50,"currentSpan"],[1,782,46,66,"this"],[1,787,46,71,"spanSlop"],[1,797,46,83,"this"],[1,802,46,88,"state"],[1,810,46,98,"_State"],[1,812,46,105,"State"],[1,818,46,111,"BEGAN"],[1,825,47,10,"this"],[1,830,47,15,"activate"],[1,842,50,15],[1,845,52,6,"onScaleEnd"],[1,856,52,18,"_detector"],[1,864,55,4,"_defineProperty"],[1,866,55,20,"this"],[1,871,55,26],[1,894,55,50],[1,898,55,54,"_ScaleGestureDetector"],[1,900,55,76,"default"],[1,908,55,84,"this"],[1,913,55,89,"scaleDetectorListener"],[1,936,56,2],[1,937,58,2,"init"],[1,942,58,7,"ref"],[1,944,58,12,"propsRef"],[1,947,59,4,"super"],[1,953,59,10,"init"],[1,958,59,15,"ref"],[1,960,59,20,"propsRef"],[1,963,60,4,"this"],[1,968,60,9,"shouldCancelWhenOutside"],[1,993,60,35],[1,994,61,2],[1,995,63,2,"transformNativeEvent"],[1,1018,64,4],[1,1024,64,11],[1,1025,65,6,"focalX"],[1,1032,65,14,"this"],[1,1037,65,19,"scaleGestureDetector"],[1,1058,65,40,"focusX"],[1,1065,66,6,"focalY"],[1,1072,66,14,"this"],[1,1077,66,19,"scaleGestureDetector"],[1,1098,66,40,"focusY"],[1,1105,67,6,"velocity"],[1,1114,67,16,"this"],[1,1119,67,21,"velocity"],[1,1128,68,6,"scale"],[1,1134,68,13,"this"],[1,1139,68,18,"scale"],[1,1145,70,2],[1,1146,72,2,"onPointerDown"],[1,1160,72,16,"event"],[1,1163,73,4,"this"],[1,1168,73,9,"tracker"],[1,1176,73,17,"addToTracker"],[1,1189,73,30,"event"],[1,1192,74,4,"super"],[1,1198,74,10,"onPointerDown"],[1,1212,74,24,"event"],[1,1215,75,4,"this"],[1,1220,75,9,"tryToSendTouchEvent"],[1,1240,75,29,"event"],[1,1242,76,2],[1,1243,78,2,"onPointerAdd"],[1,1256,78,15,"event"],[1,1259,79,4,"this"],[1,1264,79,9,"tracker"],[1,1272,79,17,"addToTracker"],[1,1285,79,30,"event"],[1,1288,80,4,"super"],[1,1294,80,10,"onPointerAdd"],[1,1307,80,23,"event"],[1,1310,81,4,"this"],[1,1315,81,9,"tryBegin"],[1,1326,82,4,"this"],[1,1331,82,9,"scaleGestureDetector"],[1,1352,82,30,"onTouchEvent"],[1,1365,82,43,"event"],[1,1367,82,50,"this"],[1,1372,82,55,"tracker"],[1,1380,83,2],[1,1381,85,2,"onPointerUp"],[1,1393,85,14,"event"],[1,1396,86,4,"super"],[1,1402,86,10,"onPointerUp"],[1,1414,86,22,"event"],[1,1417,87,4,"this"],[1,1422,87,9,"tracker"],[1,1430,87,17,"removeFromTracker"],[1,1448,87,35,"event"],[1,1450,87,41,"pointerId"],[1,1461,89,8,"this"],[1,1466,89,13,"state"],[1,1474,89,23,"_State"],[1,1476,89,30,"State"],[1,1482,89,36,"ACTIVE"],[1,1491,93,4,"this"],[1,1496,93,9,"scaleGestureDetector"],[1,1517,93,30,"onTouchEvent"],[1,1530,93,43,"event"],[1,1532,93,50,"this"],[1,1537,93,55,"tracker"],[1,1546,95,8,"this"],[1,1551,95,13,"state"],[1,1559,95,23,"_State"],[1,1561,95,30,"State"],[1,1567,95,36,"ACTIVE"],[1,1574,96,6,"this"],[1,1579,96,11,"end"],[1,1585,98,6,"this"],[1,1590,98,11,"fail"],[1,1597,100,2],[1,1598,102,2,"onPointerRemove"],[1,1614,102,18,"event"],[1,1617,103,4,"super"],[1,1623,103,10,"onPointerRemove"],[1,1639,103,26,"event"],[1,1642,104,4,"this"],[1,1647,104,9,"scaleGestureDetector"],[1,1668,104,30,"onTouchEvent"],[1,1681,104,43,"event"],[1,1683,104,50,"this"],[1,1688,104,55,"tracker"],[1,1697,105,4,"this"],[1,1702,105,9,"tracker"],[1,1710,105,17,"removeFromTracker"],[1,1728,105,35,"event"],[1,1730,105,41,"pointerId"],[1,1741,107,8,"this"],[1,1746,107,13,"state"],[1,1754,107,23,"_State"],[1,1756,107,30,"State"],[1,1762,107,36,"ACTIVE"],[1,1770,107,46,"this"],[1,1775,107,51,"tracker"],[1,1783,107,59,"trackedPointersCount"],[1,1804,107,82],[1,1807,108,6,"this"],[1,1812,108,11,"end"],[1,1817,110,2],[1,1818,112,2,"onPointerMove"],[1,1832,112,16,"event"],[1,1835,113,8,"this"],[1,1840,113,13,"tracker"],[1,1848,113,21,"trackedPointersCount"],[1,1869,113,44],[1,1873,117,4,"this"],[1,1878,117,9,"tracker"],[1,1886,117,17,"track"],[1,1892,117,23,"event"],[1,1895,118,4,"this"],[1,1900,118,9,"scaleGestureDetector"],[1,1921,118,30,"onTouchEvent"],[1,1934,118,43,"event"],[1,1936,118,50,"this"],[1,1941,118,55,"tracker"],[1,1950,119,4,"super"],[1,1956,119,10,"onPointerMove"],[1,1970,119,24,"event"],[1,1973,120,2],[1,1974,122,2,"onPointerOutOfBounds"],[1,1995,122,23,"event"],[1,1998,123,8,"this"],[1,2003,123,13,"tracker"],[1,2011,123,21,"trackedPointersCount"],[1,2032,123,44],[1,2036,127,4,"this"],[1,2041,127,9,"tracker"],[1,2049,127,17,"track"],[1,2055,127,23,"event"],[1,2058,128,4,"this"],[1,2063,128,9,"scaleGestureDetector"],[1,2084,128,30,"onTouchEvent"],[1,2097,128,43,"event"],[1,2099,128,50,"this"],[1,2104,128,55,"tracker"],[1,2113,129,4,"super"],[1,2119,129,10,"onPointerOutOfBounds"],[1,2140,129,31,"event"],[1,2143,130,2],[1,2144,132,2,"tryBegin"],[1,2155,133,8,"this"],[1,2160,133,13,"state"],[1,2168,133,23,"_State"],[1,2170,133,30,"State"],[1,2176,133,36,"UNDETERMINED"],[1,2191,137,4,"this"],[1,2196,137,9,"resetProgress"],[1,2212,138,4,"this"],[1,2217,138,9,"begin"],[1,2225,139,2],[1,2226,141,2,"activate"],[1,2235,141,11,"force"],[1,2238,142,8,"this"],[1,2243,142,13,"state"],[1,2251,142,23,"_State"],[1,2253,142,30,"State"],[1,2259,142,36,"ACTIVE"],[1,2267,143,6,"this"],[1,2272,143,11,"resetProgress"],[1,2288,146,4,"super"],[1,2294,146,10,"activate"],[1,2303,146,19,"force"],[1,2305,147,2],[1,2306,149,2,"onReset"],[1,2316,150,4,"this"],[1,2321,150,9,"resetProgress"],[1,2336,151,2],[1,2337,153,2,"resetProgress"],[1,2353,154,8,"this"],[1,2358,154,13,"state"],[1,2366,154,23,"_State"],[1,2368,154,30,"State"],[1,2374,154,36,"ACTIVE"],[1,2383,158,4,"this"],[1,2388,158,9,"velocity"],[1,2397,158,20],[1,2399,159,4,"this"],[1,2404,159,9,"scale"],[1,2410,159,17],[1,2412,160,2],[1,2414,164,0,"exports"],[1,2416,164,8,"default"],[1,2424,164,18,"PinchGestureHandler"],[1,2425,164,38],[1,2428]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","PinchGestureHandler","constructor","_defineProperty$argument_2.onScaleBegin","_defineProperty$argument_2.onScale","_defineProperty$argument_2.onScaleEnd","init","transformNativeEvent","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOutOfBounds","tryBegin","activate","onReset","resetProgress"],"mappings":"AAA;ACe,+FD;AEE,iNF;AGE;ECC;oBCY;ODG;eEC;OFc;kBGC,eH;GDI;EKE;GLG;EME;GNO;EOE;GPI;EQE;GRK;ESE;GTe;EUE;GVQ;EWE;GXQ;EYE;GZQ;EaE;GbO;EcE;GdM;EeE;GfE;EgBE;GhBO;CHE"},"hasCjsExports":true},"type":"js/module"}]}