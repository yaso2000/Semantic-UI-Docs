{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":43,"index":254}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return n}});var t=r(d[0]);function s(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}class n{constructor(t){s(this,\"onRotationBegin\",void 0),s(this,\"onRotation\",void 0),s(this,\"onRotationEnd\",void 0),s(this,\"currentTime\",0),s(this,\"previousTime\",0),s(this,\"previousAngle\",0),s(this,\"_rotation\",0),s(this,\"_anchorX\",0),s(this,\"_anchorY\",0),s(this,\"isInProgress\",!1),s(this,\"keyPointers\",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,s){this.previousTime=this.currentTime,this.currentTime=t.time;const[n,o]=this.keyPointers,h=s.getLastAbsoluteCoords(n),u=s.getLastAbsoluteCoords(o),P=u.x-h.x,c=u.y-h.y;this._anchorX=(h.x+u.x)/2,this._anchorY=(h.y+u.y)/2;const y=-Math.atan2(c,P);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-y,this.previousAngle=y,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const s=t.trackedPointers.keys();this.keyPointers[0]=s.next().value,this.keyPointers[1]=s.next().value}onTouchEvent(s,n){switch(s.eventType){case t.EventTypes.DOWN:this.isInProgress=!1;break;case t.EventTypes.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=s.time,this.previousAngle=NaN,this.setKeyPointers(n),this.updateCurrent(s,n),this.onRotationBegin(this);break;case t.EventTypes.MOVE:if(!this.isInProgress)break;this.updateCurrent(s,n),this.onRotation(this);break;case t.EventTypes.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(s.pointerId)>=0&&this.finish();break;case t.EventTypes.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}});","lineCount":1,"map":[[1,90,4,15,"Object"],[1,97,4,15,"defineProperty"],[1,112,4,15,"e"],[1,114,4,15],[1,125,4,15,"enumerable"],[1,137,4,15],[1,139,4,15,"get"],[1,143,4,15],[1,161,4,15,"RotationGestureDetector"],[1,162,4,15],[1,166,3,0],[1,170,3,0,"_interfaces"],[1,172,3,0,"r"],[1,174,3,0,"d"],[1,176,3,0],[1,180,1,0],[1,189,1,9,"_defineProperty"],[1,191,1,25,"obj"],[1,193,1,30,"key"],[1,195,1,35,"value"],[1,198,1,196],[1,205,1,48,"key"],[1,210,1,55,"obj"],[1,212,1,62,"Object"],[1,219,1,69,"defineProperty"],[1,234,1,84,"obj"],[1,236,1,89,"key"],[1,238,1,94],[1,239,1,96,"value"],[1,245,1,103,"value"],[1,247,1,110,"enumerable"],[1,259,1,122],[1,261,1,128,"configurable"],[1,275,1,142],[1,277,1,148,"writable"],[1,287,1,158],[1,291,1,176,"obj"],[1,293,1,180,"key"],[1,296,1,187,"value"],[1,298,1,203,"obj"],[1,299,1,208],[1,300,4,15],[1,306,4,21,"RotationGestureDetector"],[1,308,5,2,"constructor"],[1,320,5,14,"callbacks"],[1,323,6,4,"_defineProperty"],[1,325,6,20,"this"],[1,330,6,26],[1,353,6,43,"undefined"],[1,356,8,4,"_defineProperty"],[1,358,8,20,"this"],[1,363,8,26],[1,381,8,38,"undefined"],[1,384,10,4,"_defineProperty"],[1,386,10,20,"this"],[1,391,10,26],[1,412,10,41,"undefined"],[1,415,12,4,"_defineProperty"],[1,417,12,20,"this"],[1,422,12,26],[1,436,12,41],[1,439,14,4,"_defineProperty"],[1,441,14,20,"this"],[1,446,14,26],[1,461,14,42],[1,464,16,4,"_defineProperty"],[1,466,16,20,"this"],[1,471,16,26],[1,487,16,43],[1,490,18,4,"_defineProperty"],[1,492,18,20,"this"],[1,497,18,26],[1,509,18,39],[1,512,20,4,"_defineProperty"],[1,514,20,20,"this"],[1,519,20,26],[1,530,20,38],[1,533,22,4,"_defineProperty"],[1,535,22,20,"this"],[1,540,22,26],[1,551,22,38],[1,554,24,4,"_defineProperty"],[1,556,24,20,"this"],[1,561,24,26],[1,577,24,42],[1,580,26,4,"_defineProperty"],[1,582,26,20,"this"],[1,587,26,26],[1,601,26,41],[1,602,26,42,"NaN"],[1,606,26,47,"NaN"],[1,612,28,4,"this"],[1,617,28,9,"onRotationBegin"],[1,633,28,27,"callbacks"],[1,635,28,37,"onRotationBegin"],[1,651,29,4,"this"],[1,656,29,9,"onRotation"],[1,667,29,22,"callbacks"],[1,669,29,32,"onRotation"],[1,680,30,4,"this"],[1,685,30,9,"onRotationEnd"],[1,699,30,25,"callbacks"],[1,701,30,35,"onRotationEnd"],[1,714,31,2],[1,715,33,2,"updateCurrent"],[1,729,33,16,"event"],[1,731,33,23,"tracker"],[1,734,34,4,"this"],[1,739,34,9,"previousTime"],[1,752,34,24,"this"],[1,757,34,29,"currentTime"],[1,769,35,4,"this"],[1,774,35,9,"currentTime"],[1,786,35,23,"event"],[1,788,35,29,"time"],[1,793,36,4],[1,799,36,11,"firstPointerID"],[1,801,36,27,"secondPointerID"],[1,804,36,46,"this"],[1,809,36,51,"keyPointers"],[1,821,37,10,"firstPointerCoords"],[1,823,37,31,"tracker"],[1,825,37,39,"getLastAbsoluteCoords"],[1,847,37,61,"firstPointerID"],[1,850,38,10,"secondPointerCoords"],[1,852,38,32,"tracker"],[1,854,38,40,"getLastAbsoluteCoords"],[1,876,38,62,"secondPointerID"],[1,879,39,10,"vectorX"],[1,881,39,20,"secondPointerCoords"],[1,883,39,40,"x"],[1,885,39,44,"firstPointerCoords"],[1,887,39,63,"x"],[1,889,40,10,"vectorY"],[1,891,40,20,"secondPointerCoords"],[1,893,40,40,"y"],[1,895,40,44,"firstPointerCoords"],[1,897,40,63,"y"],[1,899,41,4,"this"],[1,904,41,9,"_anchorX"],[1,914,41,21,"firstPointerCoords"],[1,916,41,40,"x"],[1,918,41,44,"secondPointerCoords"],[1,920,41,64,"x"],[1,923,41,69],[1,925,42,4,"this"],[1,930,42,9,"_anchorY"],[1,940,42,21,"firstPointerCoords"],[1,942,42,40,"y"],[1,944,42,44,"secondPointerCoords"],[1,946,42,64,"y"],[1,949,42,69],[1,951,44,4],[1,957,44,10,"angle"],[1,960,44,19,"Math"],[1,965,44,24,"atan2"],[1,971,44,30,"vectorY"],[1,973,44,39,"vectorX"],[1,976,45,4,"this"],[1,981,45,9,"_rotation"],[1,991,45,21,"Number"],[1,998,45,28,"isNaN"],[1,1004,45,34,"this"],[1,1009,45,39,"previousAngle"],[1,1024,45,56],[1,1026,45,60,"this"],[1,1031,45,65,"previousAngle"],[1,1045,45,81,"angle"],[1,1047,46,4,"this"],[1,1052,46,9,"previousAngle"],[1,1066,46,25,"angle"],[1,1068,48,8,"this"],[1,1073,48,13,"rotation"],[1,1082,48,24,"Math"],[1,1087,48,29,"PI"],[1,1090,49,6,"this"],[1,1095,49,11,"_rotation"],[1,1106,49,24,"Math"],[1,1111,49,29,"PI"],[1,1114,50,15,"this"],[1,1119,50,20,"rotation"],[1,1129,50,32,"Math"],[1,1134,50,37,"PI"],[1,1139,51,6,"this"],[1,1144,51,11,"_rotation"],[1,1155,51,24,"Math"],[1,1160,51,29,"PI"],[1,1164,54,8,"this"],[1,1169,54,13,"rotation"],[1,1178,54,24,"Math"],[1,1183,54,29,"PI"],[1,1186,54,34],[1,1188,55,6,"this"],[1,1193,55,11,"_rotation"],[1,1204,55,24,"Math"],[1,1209,55,29,"PI"],[1,1212,56,15,"this"],[1,1217,56,20,"rotation"],[1,1227,56,32,"Math"],[1,1232,56,37,"PI"],[1,1235,56,42],[1,1239,57,6,"this"],[1,1244,57,11,"_rotation"],[1,1255,57,24,"Math"],[1,1260,57,29,"PI"],[1,1263,59,2],[1,1264,61,2,"finish"],[1,1273,62,9,"this"],[1,1278,62,14,"isInProgress"],[1,1293,66,4,"this"],[1,1298,66,9,"isInProgress"],[1,1312,66,24],[1,1314,67,4,"this"],[1,1319,67,9,"keyPointers"],[1,1331,67,23],[1,1332,67,24,"NaN"],[1,1336,67,29,"NaN"],[1,1341,68,4,"this"],[1,1346,68,9,"onRotationEnd"],[1,1360,68,23,"this"],[1,1366,69,2],[1,1367,71,2,"setKeyPointers"],[1,1382,71,17,"tracker"],[1,1385,72,4],[1,1388,72,8,"this"],[1,1393,72,13,"keyPointers"],[1,1405,72,25],[1,1409,72,31,"this"],[1,1414,72,36,"keyPointers"],[1,1426,72,48],[1,1429,73,6],[1,1436,76,4],[1,1442,76,10,"pointerIDs"],[1,1444,76,23,"tracker"],[1,1446,76,31,"trackedPointers"],[1,1462,76,47,"keys"],[1,1469,77,4,"this"],[1,1474,77,9,"keyPointers"],[1,1486,77,21],[1,1489,77,26,"pointerIDs"],[1,1491,77,37,"next"],[1,1498,77,44,"value"],[1,1504,78,4,"this"],[1,1509,78,9,"keyPointers"],[1,1521,78,21],[1,1524,78,26,"pointerIDs"],[1,1526,78,37,"next"],[1,1533,78,44,"value"],[1,1538,79,2],[1,1539,81,2,"onTouchEvent"],[1,1552,81,15,"event"],[1,1554,81,22,"tracker"],[1,1557,82,4],[1,1564,82,12,"event"],[1,1566,82,18,"eventType"],[1,1577,83,6],[1,1582,83,11,"EventTypes"],[1,1584,83,21,"EventTypes"],[1,1595,83,22,"DOWN"],[1,1600,84,8,"this"],[1,1605,84,13,"isInProgress"],[1,1619,84,28],[1,1621,85,8],[1,1627,87,6],[1,1632,87,11,"EventTypes"],[1,1634,87,21,"EventTypes"],[1,1645,87,22,"ADDITIONAL_POINTER_DOWN"],[1,1669,88,8],[1,1672,88,12,"this"],[1,1677,88,17,"isInProgress"],[1,1690,89,10],[1,1696,92,8,"this"],[1,1701,92,13,"isInProgress"],[1,1715,92,28],[1,1717,93,8,"this"],[1,1722,93,13,"previousTime"],[1,1735,93,28,"event"],[1,1737,93,34,"time"],[1,1742,94,8,"this"],[1,1747,94,13,"previousAngle"],[1,1761,94,29,"NaN"],[1,1765,95,8,"this"],[1,1770,95,13,"setKeyPointers"],[1,1785,95,28,"tracker"],[1,1788,96,8,"this"],[1,1793,96,13,"updateCurrent"],[1,1807,96,27,"event"],[1,1809,96,34,"tracker"],[1,1812,97,8,"this"],[1,1817,97,13,"onRotationBegin"],[1,1833,97,29,"this"],[1,1839,98,8],[1,1845,100,6],[1,1850,100,11,"EventTypes"],[1,1852,100,21,"EventTypes"],[1,1863,100,22,"MOVE"],[1,1868,101,8],[1,1872,101,13,"this"],[1,1877,101,18,"isInProgress"],[1,1890,102,10],[1,1896,105,8,"this"],[1,1901,105,13,"updateCurrent"],[1,1915,105,27,"event"],[1,1917,105,34,"tracker"],[1,1920,106,8,"this"],[1,1925,106,13,"onRotation"],[1,1936,106,24,"this"],[1,1942,107,8],[1,1948,109,6],[1,1953,109,11,"EventTypes"],[1,1955,109,21,"EventTypes"],[1,1966,109,22,"ADDITIONAL_POINTER_UP"],[1,1988,110,8],[1,1992,110,13,"this"],[1,1997,110,18,"isInProgress"],[1,2010,111,10],[1,2016,114,12,"this"],[1,2021,114,17,"keyPointers"],[1,2033,114,29,"indexOf"],[1,2041,114,37,"event"],[1,2043,114,43,"pointerId"],[1,2055,114,57],[1,2058,115,10,"this"],[1,2063,115,15,"finish"],[1,2072,118,8],[1,2078,120,6],[1,2083,120,11,"EventTypes"],[1,2085,120,21,"EventTypes"],[1,2096,120,22,"UP"],[1,2099,121,12,"this"],[1,2104,121,17,"isInProgress"],[1,2118,122,10,"this"],[1,2123,122,15,"finish"],[1,2132,128,4],[1,2139,128,11],[1,2140,129,2],[1,2141,131,2,"reset"],[1,2149,132,4,"this"],[1,2154,132,9,"keyPointers"],[1,2166,132,23],[1,2167,132,24,"NaN"],[1,2171,132,29,"NaN"],[1,2176,133,4,"this"],[1,2181,133,9,"isInProgress"],[1,2195,133,24],[1,2196,134,2],[1,2197,136,2],[1,2208,136,6,"anchorX"],[1,2211,137,4],[1,2218,137,11,"this"],[1,2223,137,16,"_anchorX"],[1,2231,138,2],[1,2232,140,2],[1,2243,140,6,"anchorY"],[1,2246,141,4],[1,2253,141,11,"this"],[1,2258,141,16,"_anchorY"],[1,2266,142,2],[1,2267,144,2],[1,2279,144,6,"rotation"],[1,2282,145,4],[1,2289,145,11,"this"],[1,2294,145,16,"_rotation"],[1,2303,146,2],[1,2304,148,2],[1,2317,148,6,"timeDelta"],[1,2320,149,4],[1,2327,149,11,"this"],[1,2332,149,16,"currentTime"],[1,2344,149,30,"this"],[1,2349,149,35,"previousTime"],[1,2361,150,2],[1,2363,152,1],[1,2366]],"functionMap":{"names":["_defineProperty","<global>","RotationGestureDetector","constructor","updateCurrent","finish","setKeyPointers","onTouchEvent","reset","get__anchorX","get__anchorY","get__rotation","get__timeDelta"],"mappings":"AAA,iNC;eCG;ECC;GD0B;EEE;GF0B;EGE;GHQ;EIE;GJQ;EKE;GLgD;EME;GNG;EOE;GPE;EQE;GRE;ESE;GTE;EUE;GVE;CDE"},"hasCjsExports":false},"type":"js/module"}]}