{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":120},"end":{"line":8,"column":35,"index":142}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":45,"index":190},"end":{"line":10,"column":72,"index":217}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t,s=r(d[0]),n=(t=r(d[1]))&&t.__esModule?t:{default:t};function o(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}class h extends n.default{constructor(...t){super(...t),o(this,\"minDurationMs\",500),o(this,\"defaultMaxDistSq\",100),o(this,\"maxDistSq\",this.defaultMaxDistSq),o(this,\"numberOfPointers\",1),o(this,\"startX\",0),o(this,\"startY\",0),o(this,\"startTime\",0),o(this,\"previousTime\",0),o(this,\"activationTimeout\",void 0)}init(t,s){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,s)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...s}){super.updateGestureConfig({enabled:t,...s}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,s){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const s=this.tracker.getAbsoluteCoordsAverage();this.startX=s.x,this.startY=s.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===s.State.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==s.State.ACTIVE&&this.fail()}tryBegin(){this.state===s.State.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),n=t.x-this.startX,o=t.y-this.startY;n*n+o*o<=this.maxDistSq||(this.state===s.State.ACTIVE?this.cancel():this.fail())}}e.default=h});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,12,32,"obj"],[1,113,8,4,"_State"],[1,115,8,13,"require"],[1,117,8,20,"d"],[1,119,8,20],[1,123,10,4,"_GestureHandler"],[1,126,12,32,"obj"],[1,128,10,45,"require"],[1,130,10,52,"d"],[1,132,10,52],[1,138,12,53,"obj"],[1,140,12,57,"__esModule"],[1,151,12,70,"obj"],[1,153,12,76],[1,154,12,78,"default"],[1,162,12,87,"obj"],[1,165,14,0],[1,174,14,9,"_defineProperty"],[1,176,14,25,"obj"],[1,178,14,30,"key"],[1,180,14,35,"value"],[1,183,14,196],[1,190,14,48,"key"],[1,195,14,55,"obj"],[1,197,14,62,"Object"],[1,204,14,69,"defineProperty"],[1,219,14,84,"obj"],[1,221,14,89,"key"],[1,223,14,94],[1,224,14,96,"value"],[1,230,14,103,"value"],[1,232,14,110,"enumerable"],[1,244,14,122],[1,246,14,128,"configurable"],[1,260,14,142],[1,262,14,148,"writable"],[1,272,14,158],[1,276,14,176,"obj"],[1,278,14,180,"key"],[1,281,14,187,"value"],[1,283,14,203,"obj"],[1,284,14,208],[1,285,20,0],[1,291,20,6,"LongPressGestureHandler"],[1,301,20,38,"_GestureHandler"],[1,303,20,54,"default"],[1,311,21,2,"constructor"],[1,326,21,17,"args"],[1,329,22,4,"super"],[1,338,22,13,"args"],[1,341,24,4,"_defineProperty"],[1,343,24,20,"this"],[1,348,24,26],[1,364,16,32],[1,369,26,4,"_defineProperty"],[1,371,26,20,"this"],[1,376,26,26],[1,395,26,44],[1,400,28,4,"_defineProperty"],[1,402,28,20,"this"],[1,407,28,26],[1,419,28,39,"this"],[1,424,28,44,"defaultMaxDistSq"],[1,442,30,4,"_defineProperty"],[1,444,30,20,"this"],[1,449,30,26],[1,468,30,46],[1,471,32,4,"_defineProperty"],[1,473,32,20,"this"],[1,478,32,26],[1,487,32,36],[1,490,34,4,"_defineProperty"],[1,492,34,20,"this"],[1,497,34,26],[1,506,34,36],[1,509,36,4,"_defineProperty"],[1,511,36,20,"this"],[1,516,36,26],[1,528,36,39],[1,531,38,4,"_defineProperty"],[1,533,38,20,"this"],[1,538,38,26],[1,553,38,42],[1,556,40,4,"_defineProperty"],[1,558,40,20,"this"],[1,563,40,26],[1,588,40,45,"undefined"],[1,590,41,2],[1,591,43,2,"init"],[1,596,43,7,"ref"],[1,598,43,12,"propsRef"],[1,606,44,42,"undefined"],[1,610,44,8,"this"],[1,615,44,13,"config"],[1,622,44,20,"enableContextMenu"],[1,642,45,6,"this"],[1,647,45,11,"config"],[1,654,45,18,"enableContextMenu"],[1,673,45,38],[1,676,48,4,"super"],[1,682,48,10,"init"],[1,687,48,15,"ref"],[1,689,48,20,"propsRef"],[1,691,49,2],[1,692,51,2,"transformNativeEvent"],[1,715,52,4],[1,721,52,11],[1,725,52,16,"super"],[1,731,52,22,"transformNativeEvent"],[1,754,53,6,"duration"],[1,763,53,16,"Date"],[1,768,53,21,"now"],[1,774,53,29,"this"],[1,779,53,34,"startTime"],[1,789,55,2],[1,790,57,2,"updateGestureConfig"],[1,811,57,22,"enabled"],[1,819,58,4,"enabled"],[1,822,58,14],[1,827,59,7,"props"],[1,831,61,4,"super"],[1,837,61,10,"updateGestureConfig"],[1,857,61,30],[1,858,62,6,"enabled"],[1,866,62,15,"enabled"],[1,871,63,9,"props"],[1,880,66,38,"undefined"],[1,884,66,8,"this"],[1,889,66,13,"config"],[1,896,66,20,"minDurationMs"],[1,912,67,6,"this"],[1,917,67,11,"minDurationMs"],[1,931,67,27,"this"],[1,936,67,32,"config"],[1,943,67,39,"minDurationMs"],[1,963,70,32,"undefined"],[1,967,70,8,"this"],[1,972,70,13,"config"],[1,979,70,20,"maxDist"],[1,989,71,6,"this"],[1,994,71,11,"maxDistSq"],[1,1004,71,23,"this"],[1,1009,71,28,"config"],[1,1016,71,35,"maxDist"],[1,1024,71,45,"this"],[1,1029,71,50,"config"],[1,1036,71,57,"maxDist"],[1,1050,74,41,"undefined"],[1,1054,74,8,"this"],[1,1059,74,13,"config"],[1,1066,74,20,"numberOfPointers"],[1,1085,75,6,"this"],[1,1090,75,11,"numberOfPointers"],[1,1107,75,30,"this"],[1,1112,75,35,"config"],[1,1119,75,42,"numberOfPointers"],[1,1136,77,2],[1,1137,79,2,"resetConfig"],[1,1151,80,4,"super"],[1,1157,80,10,"resetConfig"],[1,1171,81,4,"this"],[1,1176,81,9,"minDurationMs"],[1,1190,16,32],[1,1194,82,4,"this"],[1,1199,82,9,"maxDistSq"],[1,1209,82,21,"this"],[1,1214,82,26,"defaultMaxDistSq"],[1,1230,83,2],[1,1231,85,2,"onStateChange"],[1,1245,85,16,"_newState"],[1,1247,85,27,"_oldState"],[1,1250,86,4,"clearTimeout"],[1,1263,86,17,"this"],[1,1268,86,22,"activationTimeout"],[1,1286,87,2],[1,1287,89,2,"onPointerDown"],[1,1301,89,16,"event"],[1,1304,90,9,"this"],[1,1309,90,14,"isButtonInConfig"],[1,1326,90,31,"event"],[1,1328,90,37,"button"],[1,1338,94,4,"this"],[1,1343,94,9,"tracker"],[1,1351,94,17,"addToTracker"],[1,1364,94,30,"event"],[1,1367,95,4,"super"],[1,1373,95,10,"onPointerDown"],[1,1387,95,24,"event"],[1,1390,96,4,"this"],[1,1395,96,9,"startX"],[1,1402,96,18,"event"],[1,1404,96,24,"x"],[1,1406,97,4,"this"],[1,1411,97,9,"startY"],[1,1418,97,18,"event"],[1,1420,97,24,"y"],[1,1422,98,4,"this"],[1,1427,98,9,"tryBegin"],[1,1438,99,4,"this"],[1,1443,99,9,"tryActivate"],[1,1457,100,4,"this"],[1,1462,100,9,"tryToSendTouchEvent"],[1,1482,100,29,"event"],[1,1485,101,2],[1,1486,103,2,"onPointerAdd"],[1,1499,103,15,"event"],[1,1502,107,4],[1,1505,104,4,"super"],[1,1511,104,10,"onPointerAdd"],[1,1524,104,23,"event"],[1,1527,105,4,"this"],[1,1532,105,9,"tracker"],[1,1540,105,17,"addToTracker"],[1,1553,105,30,"event"],[1,1556,107,8,"this"],[1,1561,107,13,"tracker"],[1,1569,107,21,"trackedPointersCount"],[1,1590,107,44,"this"],[1,1595,107,49,"numberOfPointers"],[1,1612,109,6],[1,1624,108,6,"this"],[1,1629,108,11,"fail"],[1,1636,112,4],[1,1642,112,10,"absoluteCoordsAverage"],[1,1644,112,34,"this"],[1,1649,112,39,"tracker"],[1,1657,112,47,"getAbsoluteCoordsAverage"],[1,1684,113,4,"this"],[1,1689,113,9,"startX"],[1,1696,113,18,"absoluteCoordsAverage"],[1,1698,113,40,"x"],[1,1700,114,4,"this"],[1,1705,114,9,"startY"],[1,1712,114,18,"absoluteCoordsAverage"],[1,1714,114,40,"y"],[1,1716,115,4,"this"],[1,1721,115,9,"tryActivate"],[1,1734,116,2],[1,1735,118,2,"onPointerMove"],[1,1749,118,16,"event"],[1,1752,119,4,"super"],[1,1758,119,10,"onPointerMove"],[1,1772,119,24,"event"],[1,1775,120,4,"this"],[1,1780,120,9,"tracker"],[1,1788,120,17,"track"],[1,1794,120,23,"event"],[1,1797,121,4,"this"],[1,1802,121,9,"checkDistanceFail"],[1,1821,122,2],[1,1822,124,2,"onPointerOutOfBounds"],[1,1843,124,23,"event"],[1,1846,125,4,"super"],[1,1852,125,10,"onPointerOutOfBounds"],[1,1873,125,31,"event"],[1,1876,126,4,"this"],[1,1881,126,9,"tracker"],[1,1889,126,17,"track"],[1,1895,126,23,"event"],[1,1898,127,4,"this"],[1,1903,127,9,"checkDistanceFail"],[1,1922,128,2],[1,1923,130,2,"onPointerUp"],[1,1935,130,14,"event"],[1,1938,131,4,"super"],[1,1944,131,10,"onPointerUp"],[1,1956,131,22,"event"],[1,1959,132,4,"this"],[1,1964,132,9,"tracker"],[1,1972,132,17,"removeFromTracker"],[1,1990,132,35,"event"],[1,1992,132,41,"pointerId"],[1,2003,134,8,"this"],[1,2008,134,13,"state"],[1,2016,134,23,"_State"],[1,2018,134,30,"State"],[1,2024,134,36,"ACTIVE"],[1,2031,135,6,"this"],[1,2036,135,11,"end"],[1,2042,137,6,"this"],[1,2047,137,11,"fail"],[1,2053,139,2],[1,2054,141,2,"onPointerRemove"],[1,2070,141,18,"event"],[1,2073,142,4,"super"],[1,2079,142,10,"onPointerRemove"],[1,2095,142,26,"event"],[1,2098,143,4,"this"],[1,2103,143,9,"tracker"],[1,2111,143,17,"removeFromTracker"],[1,2129,143,35,"event"],[1,2131,143,41,"pointerId"],[1,2142,145,8,"this"],[1,2147,145,13,"tracker"],[1,2155,145,21,"trackedPointersCount"],[1,2176,145,44,"this"],[1,2181,145,49,"numberOfPointers"],[1,2199,145,69,"this"],[1,2204,145,74,"state"],[1,2212,145,84,"_State"],[1,2214,145,91,"State"],[1,2220,145,97,"ACTIVE"],[1,2228,146,6,"this"],[1,2233,146,11,"fail"],[1,2239,148,2],[1,2240,150,2,"tryBegin"],[1,2251,151,8,"this"],[1,2256,151,13,"state"],[1,2264,151,23,"_State"],[1,2266,151,30,"State"],[1,2272,151,36,"UNDETERMINED"],[1,2287,155,4,"this"],[1,2292,155,9,"previousTime"],[1,2305,155,24,"Date"],[1,2310,155,29,"now"],[1,2316,156,4,"this"],[1,2321,156,9,"startTime"],[1,2331,156,21,"this"],[1,2336,156,26,"previousTime"],[1,2349,157,4,"this"],[1,2354,157,9,"begin"],[1,2362,158,2],[1,2363,160,2,"tryActivate"],[1,2377,161,8,"this"],[1,2382,161,13,"tracker"],[1,2390,161,21,"trackedPointersCount"],[1,2413,161,46,"this"],[1,2418,161,51,"numberOfPointers"],[1,2437,165,8,"this"],[1,2442,165,13,"minDurationMs"],[1,2456,165,29],[1,2458,166,6,"this"],[1,2463,166,11,"activationTimeout"],[1,2481,166,31,"setTimeout"],[1,2492,166,42],[1,2497,167,8,"this"],[1,2502,167,13,"activate"],[1,2514,168,9,"this"],[1,2519,168,14,"minDurationMs"],[1,2534,169,38],[1,2538,169,15,"this"],[1,2543,169,20,"minDurationMs"],[1,2558,170,6,"this"],[1,2563,170,11,"activate"],[1,2574,172,2],[1,2575,174,2,"checkDistanceFail"],[1,2595,175,4],[1,2601,175,10,"absoluteCoordsAverage"],[1,2603,175,34,"this"],[1,2608,175,39,"tracker"],[1,2616,175,47,"getAbsoluteCoordsAverage"],[1,2643,176,10,"dx"],[1,2645,176,15,"absoluteCoordsAverage"],[1,2647,176,37,"x"],[1,2649,176,41,"this"],[1,2654,176,46,"startX"],[1,2661,177,10,"dy"],[1,2663,177,15,"absoluteCoordsAverage"],[1,2665,177,37,"y"],[1,2667,177,41,"this"],[1,2672,177,46,"startY"],[1,2679,178,19,"dx"],[1,2681,178,24,"dx"],[1,2683,178,29,"dy"],[1,2685,178,34,"dy"],[1,2688,180,18,"this"],[1,2693,180,23,"maxDistSq"],[1,2705,184,8,"this"],[1,2710,184,13,"state"],[1,2718,184,23,"_State"],[1,2720,184,30,"State"],[1,2726,184,36,"ACTIVE"],[1,2733,185,6,"this"],[1,2738,185,11,"cancel"],[1,2747,187,6,"this"],[1,2752,187,11,"fail"],[1,2759,189,2],[1,2761,193,0,"exports"],[1,2763,193,8,"default"],[1,2771,193,18,"LongPressGestureHandler"],[1,2772,193,42],[1,2775]],"functionMap":{"names":["<global>","_interopRequireDefault","_defineProperty","LongPressGestureHandler","constructor","init","transformNativeEvent","updateGestureConfig","resetConfig","onStateChange","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","tryActivate","setTimeout$argument_0","checkDistanceFail"],"mappings":"AAA;ACW,+FD;AEE,iNF;AGM;ECC;GDoB;EEE;GFM;EGE;GHI;EIE;GJoB;EKE;GLI;EME;GNE;EOE;GPY;EQE;GRa;ESE;GTI;EUE;GVI;EWE;GXS;EYE;GZO;EaE;GbQ;EcE;0CCM;ODE;GdI;EgBE;GhBe;CHE"},"hasCjsExports":true},"type":"js/module"}]}