{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, full_name, role = 'client') => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          full_name,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":127,"map":[[13,2,23,0,"Object"],[13,8,23,0],[13,9,23,0,"defineProperty"],[13,23,23,0],[13,24,23,0,"exports"],[13,31,23,0],[14,4,23,0,"enumerable"],[14,14,23,0],[15,4,23,0,"get"],[15,7,23,0],[15,18,23,0,"get"],[15,19,23,0],[16,6,23,0],[16,13,23,0,"AuthProvider"],[16,25,23,0],[17,4,23,0],[18,2,23,0],[19,2,108,0,"Object"],[19,8,108,0],[19,9,108,0,"defineProperty"],[19,23,108,0],[19,24,108,0,"exports"],[19,31,108,0],[20,4,108,0,"enumerable"],[20,14,108,0],[21,4,108,0,"get"],[21,7,108,0],[21,18,108,0,"get"],[21,19,108,0],[22,6,108,0],[22,13,108,0,"useAuth"],[22,20,108,0],[23,4,108,0],[24,2,108,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,21,0],[31,8,21,6,"AuthContext"],[31,19,21,17],[31,35,21,20],[31,39,21,20,"createContext"],[31,45,21,33],[31,46,21,33,"createContext"],[31,59,21,33],[31,61,21,63,"undefined"],[31,70,21,72],[31,71,21,73],[32,2,23,7],[32,8,23,13,"AuthProvider"],[32,20,23,66],[32,23,23,69,"AuthProvider"],[32,24,23,70],[33,4,23,72,"children"],[34,2,23,81],[34,3,23,82],[34,8,23,87],[35,4,24,2],[35,10,24,8],[35,11,24,9,"user"],[35,15,24,13],[35,17,24,15,"setUser"],[35,24,24,22],[35,25,24,23],[35,28,24,26],[35,32,24,26,"useState"],[35,38,24,34],[35,39,24,34,"useState"],[35,47,24,34],[35,49,24,48],[35,53,24,52],[35,54,24,53],[36,4,25,2],[36,10,25,8],[36,11,25,9,"token"],[36,16,25,14],[36,18,25,16,"setToken"],[36,26,25,24],[36,27,25,25],[36,30,25,28],[36,34,25,28,"useState"],[36,40,25,36],[36,41,25,36,"useState"],[36,49,25,36],[36,51,25,52],[36,55,25,56],[36,56,25,57],[37,4,26,2],[37,10,26,8],[37,11,26,9,"isLoading"],[37,20,26,18],[37,22,26,20,"setIsLoading"],[37,34,26,32],[37,35,26,33],[37,38,26,36],[37,42,26,36,"useState"],[37,48,26,44],[37,49,26,44,"useState"],[37,57,26,44],[37,59,26,45],[37,63,26,49],[37,64,26,50],[38,4,28,2],[38,10,28,8,"API_URL"],[38,17,28,15],[38,20,28,18,"process"],[38,27,28,25],[38,28,28,26,"env"],[38,31,28,29],[38,32,28,30,"EXPO_PUBLIC_BACKEND_URL"],[38,55,28,53],[39,4,30,2],[39,8,30,2,"useEffect"],[39,14,30,11],[39,15,30,11,"useEffect"],[39,24,30,11],[39,26,30,12],[39,32,30,18],[40,6,31,4,"loadStoredAuth"],[40,20,31,18],[40,21,31,19],[40,22,31,20],[41,4,32,2],[41,5,32,3],[41,7,32,5],[41,9,32,7],[41,10,32,8],[42,4,34,2],[42,10,34,8,"loadStoredAuth"],[42,24,34,22],[42,27,34,25],[42,33,34,25,"loadStoredAuth"],[42,34,34,25],[42,39,34,37],[43,6,35,4],[43,10,35,8],[44,8,36,6],[44,14,36,12,"storedToken"],[44,25,36,23],[44,28,36,26],[44,34,36,32,"AsyncStorage"],[44,46,36,44],[44,47,36,44,"default"],[44,54,36,44],[44,55,36,45,"getItem"],[44,62,36,52],[44,63,36,53],[44,70,36,60],[44,71,36,61],[45,8,37,6],[45,14,37,12,"storedUser"],[45,24,37,22],[45,27,37,25],[45,33,37,31,"AsyncStorage"],[45,45,37,43],[45,46,37,43,"default"],[45,53,37,43],[45,54,37,44,"getItem"],[45,61,37,51],[45,62,37,52],[45,68,37,58],[45,69,37,59],[46,8,39,6],[46,12,39,10,"storedToken"],[46,23,39,21],[46,27,39,25,"storedUser"],[46,37,39,35],[46,39,39,37],[47,10,40,8,"setToken"],[47,18,40,16],[47,19,40,17,"storedToken"],[47,30,40,28],[47,31,40,29],[48,10,41,8,"setUser"],[48,17,41,15],[48,18,41,16,"JSON"],[48,22,41,20],[48,23,41,21,"parse"],[48,28,41,26],[48,29,41,27,"storedUser"],[48,39,41,37],[48,40,41,38],[48,41,41,39],[49,8,42,6],[50,6,43,4],[50,7,43,5],[50,8,43,6],[50,15,43,13,"error"],[50,20,43,18],[50,22,43,20],[51,8,44,6,"console"],[51,15,44,13],[51,16,44,14,"error"],[51,21,44,19],[51,22,44,20],[51,43,44,41],[51,45,44,43,"error"],[51,50,44,48],[51,51,44,49],[52,6,45,4],[52,7,45,5],[52,16,45,14],[53,8,46,6,"setIsLoading"],[53,20,46,18],[53,21,46,19],[53,26,46,24],[53,27,46,25],[54,6,47,4],[55,4,48,2],[55,5,48,3],[56,4,50,2],[56,10,50,8,"login"],[56,15,50,13],[56,18,50,16],[56,24,50,16,"login"],[56,25,50,23,"email"],[56,30,50,36],[56,32,50,38,"password"],[56,40,50,54],[56,45,50,59],[57,6,51,4],[57,10,51,8],[58,8,52,6],[58,14,52,12,"response"],[58,22,52,20],[58,25,52,23],[58,31,52,29,"axios"],[58,36,52,34],[58,37,52,34,"default"],[58,44,52,34],[58,45,52,35,"post"],[58,49,52,39],[58,50,52,40],[58,53,52,43,"API_URL"],[58,60,52,50],[58,77,52,67],[58,79,52,69],[59,10,53,8,"email"],[59,15,53,13],[60,10,54,8,"password"],[61,8,55,6],[61,9,55,7],[61,10,55,8],[62,8,57,6],[62,14,57,12],[63,10,57,14,"access_token"],[63,22,57,26],[64,10,57,28,"user"],[64,14,57,32],[64,16,57,34,"userData"],[65,8,57,43],[65,9,57,44],[65,12,57,47,"response"],[65,20,57,55],[65,21,57,56,"data"],[65,25,57,60],[66,8,59,6],[66,14,59,12,"AsyncStorage"],[66,26,59,24],[66,27,59,24,"default"],[66,34,59,24],[66,35,59,25,"setItem"],[66,42,59,32],[66,43,59,33],[66,50,59,40],[66,52,59,42,"access_token"],[66,64,59,54],[66,65,59,55],[67,8,60,6],[67,14,60,12,"AsyncStorage"],[67,26,60,24],[67,27,60,24,"default"],[67,34,60,24],[67,35,60,25,"setItem"],[67,42,60,32],[67,43,60,33],[67,49,60,39],[67,51,60,41,"JSON"],[67,55,60,45],[67,56,60,46,"stringify"],[67,65,60,55],[67,66,60,56,"userData"],[67,74,60,64],[67,75,60,65],[67,76,60,66],[68,8,62,6,"setToken"],[68,16,62,14],[68,17,62,15,"access_token"],[68,29,62,27],[68,30,62,28],[69,8,63,6,"setUser"],[69,15,63,13],[69,16,63,14,"userData"],[69,24,63,22],[69,25,63,23],[70,6,64,4],[70,7,64,5],[70,8,64,6],[70,15,64,13,"error"],[70,20,64,23],[70,22,64,25],[71,8,65,6],[71,14,65,12],[71,18,65,16,"Error"],[71,23,65,21],[71,24,65,22,"error"],[71,29,65,27],[71,30,65,28,"response"],[71,38,65,36],[71,40,65,38,"data"],[71,44,65,42],[71,46,65,44,"detail"],[71,52,65,50],[71,56,65,54],[71,70,65,68],[71,71,65,69],[72,6,66,4],[73,4,67,2],[73,5,67,3],[74,4,69,2],[74,10,69,8,"register"],[74,18,69,16],[74,21,69,19],[74,27,69,19,"register"],[74,28,69,26,"email"],[74,33,69,39],[74,35,69,41,"password"],[74,43,69,57],[74,45,69,59,"full_name"],[74,54,69,76],[74,56,69,78,"role"],[74,60,69,90],[74,63,69,93],[74,71,69,101],[74,76,69,106],[75,6,70,4],[75,10,70,8],[76,8,71,6],[76,14,71,12,"response"],[76,22,71,20],[76,25,71,23],[76,31,71,29,"axios"],[76,36,71,34],[76,37,71,34,"default"],[76,44,71,34],[76,45,71,35,"post"],[76,49,71,39],[76,50,71,40],[76,53,71,43,"API_URL"],[76,60,71,50],[76,80,71,70],[76,82,71,72],[77,10,72,8,"email"],[77,15,72,13],[78,10,73,8,"password"],[78,18,73,16],[79,10,74,8,"full_name"],[79,19,74,17],[80,10,75,8,"role"],[81,8,76,6],[81,9,76,7],[81,10,76,8],[82,8,78,6],[82,14,78,12],[83,10,78,14,"access_token"],[83,22,78,26],[84,10,78,28,"user"],[84,14,78,32],[84,16,78,34,"userData"],[85,8,78,43],[85,9,78,44],[85,12,78,47,"response"],[85,20,78,55],[85,21,78,56,"data"],[85,25,78,60],[86,8,80,6],[86,14,80,12,"AsyncStorage"],[86,26,80,24],[86,27,80,24,"default"],[86,34,80,24],[86,35,80,25,"setItem"],[86,42,80,32],[86,43,80,33],[86,50,80,40],[86,52,80,42,"access_token"],[86,64,80,54],[86,65,80,55],[87,8,81,6],[87,14,81,12,"AsyncStorage"],[87,26,81,24],[87,27,81,24,"default"],[87,34,81,24],[87,35,81,25,"setItem"],[87,42,81,32],[87,43,81,33],[87,49,81,39],[87,51,81,41,"JSON"],[87,55,81,45],[87,56,81,46,"stringify"],[87,65,81,55],[87,66,81,56,"userData"],[87,74,81,64],[87,75,81,65],[87,76,81,66],[88,8,83,6,"setToken"],[88,16,83,14],[88,17,83,15,"access_token"],[88,29,83,27],[88,30,83,28],[89,8,84,6,"setUser"],[89,15,84,13],[89,16,84,14,"userData"],[89,24,84,22],[89,25,84,23],[90,6,85,4],[90,7,85,5],[90,8,85,6],[90,15,85,13,"error"],[90,20,85,23],[90,22,85,25],[91,8,86,6],[91,14,86,12],[91,18,86,16,"Error"],[91,23,86,21],[91,24,86,22,"error"],[91,29,86,27],[91,30,86,28,"response"],[91,38,86,36],[91,40,86,38,"data"],[91,44,86,42],[91,46,86,44,"detail"],[91,52,86,50],[91,56,86,54],[91,77,86,75],[91,78,86,76],[92,6,87,4],[93,4,88,2],[93,5,88,3],[94,4,90,2],[94,10,90,8,"logout"],[94,16,90,14],[94,19,90,17],[94,25,90,17,"logout"],[94,26,90,17],[94,31,90,29],[95,6,91,4],[95,10,91,8],[96,8,92,6],[96,14,92,12,"AsyncStorage"],[96,26,92,24],[96,27,92,24,"default"],[96,34,92,24],[96,35,92,25,"removeItem"],[96,45,92,35],[96,46,92,36],[96,53,92,43],[96,54,92,44],[97,8,93,6],[97,14,93,12,"AsyncStorage"],[97,26,93,24],[97,27,93,24,"default"],[97,34,93,24],[97,35,93,25,"removeItem"],[97,45,93,35],[97,46,93,36],[97,52,93,42],[97,53,93,43],[98,8,94,6,"setToken"],[98,16,94,14],[98,17,94,15],[98,21,94,19],[98,22,94,20],[99,8,95,6,"setUser"],[99,15,95,13],[99,16,95,14],[99,20,95,18],[99,21,95,19],[100,6,96,4],[100,7,96,5],[100,8,96,6],[100,15,96,13,"error"],[100,20,96,18],[100,22,96,20],[101,8,97,6,"console"],[101,15,97,13],[101,16,97,14,"error"],[101,21,97,19],[101,22,97,20],[101,42,97,40],[101,44,97,42,"error"],[101,49,97,47],[101,50,97,48],[102,6,98,4],[103,4,99,2],[103,5,99,3],[104,4,101,2],[104,24,102,4],[104,28,102,4,"_reactJsxDevRuntime"],[104,47,102,4],[104,48,102,4,"jsxDEV"],[104,54,102,4],[104,56,102,5,"AuthContext"],[104,67,102,16],[104,68,102,17,"Provider"],[104,76,102,25],[105,6,102,26,"value"],[105,11,102,31],[105,13,102,33],[106,8,102,35,"user"],[106,12,102,39],[107,8,102,41,"token"],[107,13,102,46],[108,8,102,48,"login"],[108,13,102,53],[109,8,102,55,"register"],[109,16,102,63],[110,8,102,65,"logout"],[110,14,102,71],[111,8,102,73,"isLoading"],[112,6,102,83],[112,7,102,85],[113,6,102,85,"children"],[113,14,102,85],[113,16,103,7,"children"],[114,4,103,15],[115,6,103,15,"fileName"],[115,14,103,15],[115,16,103,15,"_jsxFileName"],[115,28,103,15],[116,6,103,15,"lineNumber"],[116,16,103,15],[117,6,103,15,"columnNumber"],[117,18,103,15],[118,4,103,15],[118,11,104,26],[118,12,104,27],[119,2,106,0],[119,3,106,1],[120,2,108,7],[120,8,108,13,"useAuth"],[120,15,108,20],[120,18,108,23,"useAuth"],[120,19,108,23],[120,24,108,29],[121,4,109,2],[121,10,109,8,"context"],[121,17,109,15],[121,20,109,18],[121,24,109,18,"useContext"],[121,30,109,28],[121,31,109,28,"useContext"],[121,41,109,28],[121,43,109,29,"AuthContext"],[121,54,109,40],[121,55,109,41],[122,4,110,2],[122,8,110,6,"context"],[122,15,110,13],[122,20,110,18,"undefined"],[122,29,110,27],[122,31,110,29],[123,6,111,4],[123,12,111,10],[123,16,111,14,"Error"],[123,21,111,19],[123,22,111,20],[123,67,111,65],[123,68,111,66],[124,4,112,2],[125,4,113,2],[125,11,113,9,"context"],[125,18,113,16],[126,2,114,0],[126,3,114,1],[127,0,114,2],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECsB;YCO;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLS;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}