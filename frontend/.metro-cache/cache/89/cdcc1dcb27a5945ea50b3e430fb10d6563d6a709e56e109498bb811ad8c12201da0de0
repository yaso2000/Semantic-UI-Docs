{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":125},"end":{"line":8,"column":42,"index":149}}],"key":"596k1m46J08d+Af0Max0usWU1VI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]);function s(t,s,o){return s in t?Object.defineProperty(t,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[s]=o,t}e.default=class{constructor(t){s(this,\"onRotationBegin\",void 0),s(this,\"onRotation\",void 0),s(this,\"onRotationEnd\",void 0),s(this,\"currentTime\",0),s(this,\"previousTime\",0),s(this,\"previousAngle\",0),s(this,\"_rotation\",0),s(this,\"_anchorX\",0),s(this,\"_anchorY\",0),s(this,\"isInProgress\",!1),s(this,\"keyPointers\",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,s){this.previousTime=this.currentTime,this.currentTime=t.time;const[o,n]=this.keyPointers,h=s.getLastAbsoluteCoords(o),u=s.getLastAbsoluteCoords(n),P=u.x-h.x,c=u.y-h.y;this._anchorX=(h.x+u.x)/2,this._anchorY=(h.y+u.y)/2;const v=-Math.atan2(c,P);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-v,this.previousAngle=v,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const s=t.trackedPointers.keys();this.keyPointers[0]=s.next().value,this.keyPointers[1]=s.next().value}onTouchEvent(s,o){switch(s.eventType){case t.EventTypes.DOWN:this.isInProgress=!1;break;case t.EventTypes.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=s.time,this.previousAngle=NaN,this.setKeyPointers(o),this.updateCurrent(s,o),this.onRotationBegin(this);break;case t.EventTypes.MOVE:if(!this.isInProgress)break;this.updateCurrent(s,o),this.onRotation(this);break;case t.EventTypes.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(s.pointerId)>=0&&this.finish();break;case t.EventTypes.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,8,0],[1,111,8,4,"_interfaces"],[1,113,8,18,"require"],[1,115,8,25,"d"],[1,117,8,25],[1,121,10,0],[1,130,10,9,"_defineProperty"],[1,132,10,25,"obj"],[1,134,10,30,"key"],[1,136,10,35,"value"],[1,139,10,196],[1,146,10,48,"key"],[1,151,10,55,"obj"],[1,153,10,62,"Object"],[1,160,10,69,"defineProperty"],[1,175,10,84,"obj"],[1,177,10,89,"key"],[1,179,10,94],[1,180,10,96,"value"],[1,186,10,103,"value"],[1,188,10,110,"enumerable"],[1,200,10,122],[1,202,10,128,"configurable"],[1,216,10,142],[1,218,10,148,"writable"],[1,228,10,158],[1,232,10,176,"obj"],[1,234,10,180,"key"],[1,237,10,187,"value"],[1,239,10,203,"obj"],[1,240,10,208],[1,241,162,0,"exports"],[1,243,162,8,"default"],[1,251,12,0],[1,257,13,2,"constructor"],[1,269,13,14,"callbacks"],[1,272,14,4,"_defineProperty"],[1,274,14,20,"this"],[1,279,14,26],[1,302,14,43,"undefined"],[1,305,16,4,"_defineProperty"],[1,307,16,20,"this"],[1,312,16,26],[1,330,16,38,"undefined"],[1,333,18,4,"_defineProperty"],[1,335,18,20,"this"],[1,340,18,26],[1,361,18,41,"undefined"],[1,364,20,4,"_defineProperty"],[1,366,20,20,"this"],[1,371,20,26],[1,385,20,41],[1,388,22,4,"_defineProperty"],[1,390,22,20,"this"],[1,395,22,26],[1,410,22,42],[1,413,24,4,"_defineProperty"],[1,415,24,20,"this"],[1,420,24,26],[1,436,24,43],[1,439,26,4,"_defineProperty"],[1,441,26,20,"this"],[1,446,26,26],[1,458,26,39],[1,461,28,4,"_defineProperty"],[1,463,28,20,"this"],[1,468,28,26],[1,479,28,38],[1,482,30,4,"_defineProperty"],[1,484,30,20,"this"],[1,489,30,26],[1,500,30,38],[1,503,32,4,"_defineProperty"],[1,505,32,20,"this"],[1,510,32,26],[1,526,32,42],[1,529,34,4,"_defineProperty"],[1,531,34,20,"this"],[1,536,34,26],[1,550,34,41],[1,551,34,42,"NaN"],[1,555,34,47,"NaN"],[1,561,36,4,"this"],[1,566,36,9,"onRotationBegin"],[1,582,36,27,"callbacks"],[1,584,36,37,"onRotationBegin"],[1,600,37,4,"this"],[1,605,37,9,"onRotation"],[1,616,37,22,"callbacks"],[1,618,37,32,"onRotation"],[1,629,38,4,"this"],[1,634,38,9,"onRotationEnd"],[1,648,38,25,"callbacks"],[1,650,38,35,"onRotationEnd"],[1,663,39,2],[1,664,41,2,"updateCurrent"],[1,678,41,16,"event"],[1,680,41,23,"tracker"],[1,683,42,4,"this"],[1,688,42,9,"previousTime"],[1,701,42,24,"this"],[1,706,42,29,"currentTime"],[1,718,43,4,"this"],[1,723,43,9,"currentTime"],[1,735,43,23,"event"],[1,737,43,29,"time"],[1,742,44,4],[1,748,44,11,"firstPointerID"],[1,750,44,27,"secondPointerID"],[1,753,44,46,"this"],[1,758,44,51,"keyPointers"],[1,770,45,10,"firstPointerCoords"],[1,772,45,31,"tracker"],[1,774,45,39,"getLastAbsoluteCoords"],[1,796,45,61,"firstPointerID"],[1,799,46,10,"secondPointerCoords"],[1,801,46,32,"tracker"],[1,803,46,40,"getLastAbsoluteCoords"],[1,825,46,62,"secondPointerID"],[1,828,47,10,"vectorX"],[1,830,47,20,"secondPointerCoords"],[1,832,47,40,"x"],[1,834,47,44,"firstPointerCoords"],[1,836,47,63,"x"],[1,838,48,10,"vectorY"],[1,840,48,20,"secondPointerCoords"],[1,842,48,40,"y"],[1,844,48,44,"firstPointerCoords"],[1,846,48,63,"y"],[1,848,49,4,"this"],[1,853,49,9,"_anchorX"],[1,863,49,21,"firstPointerCoords"],[1,865,49,40,"x"],[1,867,49,44,"secondPointerCoords"],[1,869,49,64,"x"],[1,872,49,69],[1,874,50,4,"this"],[1,879,50,9,"_anchorY"],[1,889,50,21,"firstPointerCoords"],[1,891,50,40,"y"],[1,893,50,44,"secondPointerCoords"],[1,895,50,64,"y"],[1,898,50,69],[1,900,52,4],[1,906,52,10,"angle"],[1,909,52,19,"Math"],[1,914,52,24,"atan2"],[1,920,52,30,"vectorY"],[1,922,52,39,"vectorX"],[1,925,53,4,"this"],[1,930,53,9,"_rotation"],[1,940,53,21,"Number"],[1,947,53,28,"isNaN"],[1,953,53,34,"this"],[1,958,53,39,"previousAngle"],[1,973,53,56],[1,975,53,60,"this"],[1,980,53,65,"previousAngle"],[1,994,53,81,"angle"],[1,996,54,4,"this"],[1,1001,54,9,"previousAngle"],[1,1015,54,25,"angle"],[1,1017,56,8,"this"],[1,1022,56,13,"rotation"],[1,1031,56,24,"Math"],[1,1036,56,29,"PI"],[1,1039,57,6,"this"],[1,1044,57,11,"_rotation"],[1,1055,57,24,"Math"],[1,1060,57,29,"PI"],[1,1063,58,15,"this"],[1,1068,58,20,"rotation"],[1,1078,58,32,"Math"],[1,1083,58,37,"PI"],[1,1088,59,6,"this"],[1,1093,59,11,"_rotation"],[1,1104,59,24,"Math"],[1,1109,59,29,"PI"],[1,1113,62,8,"this"],[1,1118,62,13,"rotation"],[1,1127,62,24,"Math"],[1,1132,62,29,"PI"],[1,1135,62,34],[1,1137,63,6,"this"],[1,1142,63,11,"_rotation"],[1,1153,63,24,"Math"],[1,1158,63,29,"PI"],[1,1161,64,15,"this"],[1,1166,64,20,"rotation"],[1,1176,64,32,"Math"],[1,1181,64,37,"PI"],[1,1184,64,42],[1,1188,65,6,"this"],[1,1193,65,11,"_rotation"],[1,1204,65,24,"Math"],[1,1209,65,29,"PI"],[1,1212,67,2],[1,1213,69,2,"finish"],[1,1222,70,9,"this"],[1,1227,70,14,"isInProgress"],[1,1242,74,4,"this"],[1,1247,74,9,"isInProgress"],[1,1261,74,24],[1,1263,75,4,"this"],[1,1268,75,9,"keyPointers"],[1,1280,75,23],[1,1281,75,24,"NaN"],[1,1285,75,29,"NaN"],[1,1290,76,4,"this"],[1,1295,76,9,"onRotationEnd"],[1,1309,76,23,"this"],[1,1315,77,2],[1,1316,79,2,"setKeyPointers"],[1,1331,79,17,"tracker"],[1,1334,80,4],[1,1337,80,8,"this"],[1,1342,80,13,"keyPointers"],[1,1354,80,25],[1,1358,80,31,"this"],[1,1363,80,36,"keyPointers"],[1,1375,80,48],[1,1378,81,6],[1,1385,84,4],[1,1391,84,10,"pointerIDs"],[1,1393,84,23,"tracker"],[1,1395,84,31,"trackedPointers"],[1,1411,84,47,"keys"],[1,1418,85,4,"this"],[1,1423,85,9,"keyPointers"],[1,1435,85,21],[1,1438,85,26,"pointerIDs"],[1,1440,85,37,"next"],[1,1447,85,44,"value"],[1,1453,86,4,"this"],[1,1458,86,9,"keyPointers"],[1,1470,86,21],[1,1473,86,26,"pointerIDs"],[1,1475,86,37,"next"],[1,1482,86,44,"value"],[1,1487,87,2],[1,1488,89,2,"onTouchEvent"],[1,1501,89,15,"event"],[1,1503,89,22,"tracker"],[1,1506,90,4],[1,1513,90,12,"event"],[1,1515,90,18,"eventType"],[1,1526,91,6],[1,1531,91,11,"_interfaces"],[1,1533,91,23,"EventTypes"],[1,1544,91,34,"DOWN"],[1,1549,92,8,"this"],[1,1554,92,13,"isInProgress"],[1,1568,92,28],[1,1570,93,8],[1,1576,95,6],[1,1581,95,11,"_interfaces"],[1,1583,95,23,"EventTypes"],[1,1594,95,34,"ADDITIONAL_POINTER_DOWN"],[1,1618,96,8],[1,1621,96,12,"this"],[1,1626,96,17,"isInProgress"],[1,1639,97,10],[1,1645,100,8,"this"],[1,1650,100,13,"isInProgress"],[1,1664,100,28],[1,1666,101,8,"this"],[1,1671,101,13,"previousTime"],[1,1684,101,28,"event"],[1,1686,101,34,"time"],[1,1691,102,8,"this"],[1,1696,102,13,"previousAngle"],[1,1710,102,29,"NaN"],[1,1714,103,8,"this"],[1,1719,103,13,"setKeyPointers"],[1,1734,103,28,"tracker"],[1,1737,104,8,"this"],[1,1742,104,13,"updateCurrent"],[1,1756,104,27,"event"],[1,1758,104,34,"tracker"],[1,1761,105,8,"this"],[1,1766,105,13,"onRotationBegin"],[1,1782,105,29,"this"],[1,1788,106,8],[1,1794,108,6],[1,1799,108,11,"_interfaces"],[1,1801,108,23,"EventTypes"],[1,1812,108,34,"MOVE"],[1,1817,109,8],[1,1821,109,13,"this"],[1,1826,109,18,"isInProgress"],[1,1839,110,10],[1,1845,113,8,"this"],[1,1850,113,13,"updateCurrent"],[1,1864,113,27,"event"],[1,1866,113,34,"tracker"],[1,1869,114,8,"this"],[1,1874,114,13,"onRotation"],[1,1885,114,24,"this"],[1,1891,115,8],[1,1897,117,6],[1,1902,117,11,"_interfaces"],[1,1904,117,23,"EventTypes"],[1,1915,117,34,"ADDITIONAL_POINTER_UP"],[1,1937,118,8],[1,1941,118,13,"this"],[1,1946,118,18,"isInProgress"],[1,1959,119,10],[1,1965,122,12,"this"],[1,1970,122,17,"keyPointers"],[1,1982,122,29,"indexOf"],[1,1990,122,37,"event"],[1,1992,122,43,"pointerId"],[1,2004,122,57],[1,2007,123,10,"this"],[1,2012,123,15,"finish"],[1,2021,126,8],[1,2027,128,6],[1,2032,128,11,"_interfaces"],[1,2034,128,23,"EventTypes"],[1,2045,128,34,"UP"],[1,2048,129,12,"this"],[1,2053,129,17,"isInProgress"],[1,2067,130,10,"this"],[1,2072,130,15,"finish"],[1,2081,136,4],[1,2088,136,11],[1,2089,137,2],[1,2090,139,2,"reset"],[1,2098,140,4,"this"],[1,2103,140,9,"keyPointers"],[1,2115,140,23],[1,2116,140,24,"NaN"],[1,2120,140,29,"NaN"],[1,2125,141,4,"this"],[1,2130,141,9,"isInProgress"],[1,2144,141,24],[1,2145,142,2],[1,2146,144,2],[1,2157,144,6,"anchorX"],[1,2160,145,4],[1,2167,145,11,"this"],[1,2172,145,16,"_anchorX"],[1,2180,146,2],[1,2181,148,2],[1,2192,148,6,"anchorY"],[1,2195,149,4],[1,2202,149,11,"this"],[1,2207,149,16,"_anchorY"],[1,2215,150,2],[1,2216,152,2],[1,2228,152,6,"rotation"],[1,2231,153,4],[1,2238,153,11,"this"],[1,2243,153,16,"_rotation"],[1,2252,154,2],[1,2253,156,2],[1,2266,156,6,"timeDelta"],[1,2269,157,4],[1,2276,157,11,"this"],[1,2281,157,16,"currentTime"],[1,2293,157,30,"this"],[1,2298,157,35,"previousTime"],[1,2310,158,2],[1,2312,162,42],[1,2315]],"functionMap":{"names":["<global>","_defineProperty","RotationGestureDetector","constructor","updateCurrent","finish","setKeyPointers","onTouchEvent","reset","get__anchorX","get__anchorY","get__rotation","get__timeDelta"],"mappings":"AAA;ACS,iND;AEE;ECC;GD0B;EEE;GF0B;EGE;GHQ;EIE;GJQ;EKE;GLgD;EME;GNG;EOE;GPE;EQE;GRE;ESE;GTE;EUE;GVE;CFE"},"hasCjsExports":true},"type":"js/module"}]}