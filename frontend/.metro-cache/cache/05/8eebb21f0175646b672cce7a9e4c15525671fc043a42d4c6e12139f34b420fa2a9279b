{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"../constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":50,"index":298}}],"key":"eTOOXVNPpMK2U8dOAmBWjbEJ4yE=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":299},"end":{"line":5,"column":46,"index":345}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../detectors/ScaleGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":346},"end":{"line":6,"column":69,"index":415}}],"key":"tFOd3eEKqx8JoU1k9XAnYKO/ik8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return h}});var e=r(d[0]),s=r(d[1]),n=t(r(d[2])),o=t(r(d[3]));function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class h extends n.default{constructor(...t){super(...t),c(this,\"scale\",1),c(this,\"velocity\",0),c(this,\"startingSpan\",0),c(this,\"spanSlop\",s.DEFAULT_TOUCH_SLOP),c(this,\"scaleDetectorListener\",{onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:t=>{const s=this.scale;this.scale*=t.calculateScaleFactor(this.tracker.trackedPointersCount);const n=t.timeDelta;return n>0&&(this.velocity=(this.scale-s)/n),Math.abs(this.startingSpan-t.currentSpan)>=this.spanSlop&&this.state===e.State.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}}),c(this,\"scaleGestureDetector\",new o.default(this.scaleDetectorListener))}init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.state===e.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===e.State.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.state!==e.State.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.state!==e.State.ACTIVE&&(this.velocity=0,this.scale=1)}}});","lineCount":1,"map":[[1,143,7,15,"Object"],[1,150,7,15,"defineProperty"],[1,165,7,15,"_e"],[1,168,7,15],[1,179,7,15,"enumerable"],[1,191,7,15],[1,193,7,15,"get"],[1,197,7,15],[1,215,7,15,"PinchGestureHandler"],[1,216,7,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"_constants"],[1,236,4,0,"r"],[1,238,4,0,"d"],[1,240,4,0],[1,244,5,0,"GestureHandler"],[1,246,5,0,"_interopDefault"],[1,248,5,0,"r"],[1,250,5,0,"d"],[1,252,5,0],[1,257,6,0,"ScaleGestureDetector"],[1,259,6,0,"_interopDefault"],[1,261,6,0,"r"],[1,263,6,0,"d"],[1,265,6,0],[1,270,1,0],[1,279,1,9,"_defineProperty"],[1,281,1,25,"obj"],[1,283,1,30,"key"],[1,285,1,35,"value"],[1,288,1,196],[1,295,1,48,"key"],[1,300,1,55,"obj"],[1,302,1,62,"Object"],[1,309,1,69,"defineProperty"],[1,324,1,84,"obj"],[1,326,1,89,"key"],[1,328,1,94],[1,329,1,96,"value"],[1,335,1,103,"value"],[1,337,1,110,"enumerable"],[1,349,1,122],[1,351,1,128,"configurable"],[1,365,1,142],[1,367,1,148,"writable"],[1,377,1,158],[1,381,1,176,"obj"],[1,383,1,180,"key"],[1,386,1,187,"value"],[1,388,1,203,"obj"],[1,389,1,208],[1,390,7,15],[1,396,7,21,"PinchGestureHandler"],[1,406,7,49,"GestureHandler"],[1,408,7,63,"default"],[1,416,8,2,"constructor"],[1,431,8,17,"args"],[1,434,9,4,"super"],[1,443,9,13,"args"],[1,446,11,4,"_defineProperty"],[1,448,11,20,"this"],[1,453,11,26],[1,461,11,35],[1,464,13,4,"_defineProperty"],[1,466,13,20,"this"],[1,471,13,26],[1,482,13,38],[1,485,15,4,"_defineProperty"],[1,487,15,20,"this"],[1,492,15,26],[1,507,15,42],[1,510,17,4,"_defineProperty"],[1,512,17,20,"this"],[1,517,17,26],[1,528,17,38,"DEFAULT_TOUCH_SLOP"],[1,530,17,56,"DEFAULT_TOUCH_SLOP"],[1,550,19,4,"_defineProperty"],[1,552,19,20,"this"],[1,557,19,26],[1,581,19,51],[1,582,20,6,"onScaleBegin"],[1,595,20,20,"detector"],[1,599,21,8,"this"],[1,604,21,13,"startingSpan"],[1,617,21,28,"detector"],[1,619,21,37,"currentSpan"],[1,632,22,15],[1,635,24,6,"onScale"],[1,643,24,15,"detector"],[1,647,25,8],[1,653,25,14,"prevScaleFactor"],[1,655,25,32,"this"],[1,660,25,37,"scale"],[1,666,26,8,"this"],[1,671,26,13,"scale"],[1,678,26,22,"detector"],[1,680,26,31,"calculateScaleFactor"],[1,701,26,52,"this"],[1,706,26,57,"tracker"],[1,714,26,65,"trackedPointersCount"],[1,736,27,8],[1,742,27,14,"delta"],[1,744,27,22,"detector"],[1,746,27,31,"timeDelta"],[1,756,37,8],[1,763,29,12,"delta"],[1,765,29,20],[1,769,30,10,"this"],[1,774,30,15,"velocity"],[1,784,30,27,"this"],[1,789,30,32,"scale"],[1,795,30,40,"prevScaleFactor"],[1,798,30,59,"delta"],[1,801,33,12,"Math"],[1,806,33,17,"abs"],[1,810,33,21,"this"],[1,815,33,26,"startingSpan"],[1,828,33,41,"detector"],[1,830,33,50,"currentSpan"],[1,844,33,66,"this"],[1,849,33,71,"spanSlop"],[1,859,33,83,"this"],[1,864,33,88,"state"],[1,872,33,98,"State"],[1,874,33,103,"State"],[1,880,33,104,"BEGAN"],[1,887,34,10,"this"],[1,892,34,15,"activate"],[1,904,37,15],[1,907,39,6,"onScaleEnd"],[1,918,39,18,"_detector"],[1,926,42,4,"_defineProperty"],[1,928,42,20,"this"],[1,933,42,26],[1,956,42,50],[1,960,42,54,"ScaleGestureDetector"],[1,962,42,74,"default"],[1,970,42,75,"this"],[1,975,42,80,"scaleDetectorListener"],[1,998,43,2],[1,999,45,2,"init"],[1,1004,45,7,"ref"],[1,1006,45,12,"propsRef"],[1,1009,46,4,"super"],[1,1015,46,10,"init"],[1,1020,46,15,"ref"],[1,1022,46,20,"propsRef"],[1,1025,47,4,"this"],[1,1030,47,9,"shouldCancelWhenOutside"],[1,1055,47,35],[1,1056,48,2],[1,1057,50,2,"transformNativeEvent"],[1,1080,51,4],[1,1086,51,11],[1,1087,52,6,"focalX"],[1,1094,52,14,"this"],[1,1099,52,19,"scaleGestureDetector"],[1,1120,52,40,"focusX"],[1,1127,53,6,"focalY"],[1,1134,53,14,"this"],[1,1139,53,19,"scaleGestureDetector"],[1,1160,53,40,"focusY"],[1,1167,54,6,"velocity"],[1,1176,54,16,"this"],[1,1181,54,21,"velocity"],[1,1190,55,6,"scale"],[1,1196,55,13,"this"],[1,1201,55,18,"scale"],[1,1207,57,2],[1,1208,59,2,"onPointerDown"],[1,1222,59,16,"event"],[1,1225,60,4,"this"],[1,1230,60,9,"tracker"],[1,1238,60,17,"addToTracker"],[1,1251,60,30,"event"],[1,1254,61,4,"super"],[1,1260,61,10,"onPointerDown"],[1,1274,61,24,"event"],[1,1277,62,4,"this"],[1,1282,62,9,"tryToSendTouchEvent"],[1,1302,62,29,"event"],[1,1304,63,2],[1,1305,65,2,"onPointerAdd"],[1,1318,65,15,"event"],[1,1321,66,4,"this"],[1,1326,66,9,"tracker"],[1,1334,66,17,"addToTracker"],[1,1347,66,30,"event"],[1,1350,67,4,"super"],[1,1356,67,10,"onPointerAdd"],[1,1369,67,23,"event"],[1,1372,68,4,"this"],[1,1377,68,9,"tryBegin"],[1,1388,69,4,"this"],[1,1393,69,9,"scaleGestureDetector"],[1,1414,69,30,"onTouchEvent"],[1,1427,69,43,"event"],[1,1429,69,50,"this"],[1,1434,69,55,"tracker"],[1,1442,70,2],[1,1443,72,2,"onPointerUp"],[1,1455,72,14,"event"],[1,1458,73,4,"super"],[1,1464,73,10,"onPointerUp"],[1,1476,73,22,"event"],[1,1479,74,4,"this"],[1,1484,74,9,"tracker"],[1,1492,74,17,"removeFromTracker"],[1,1510,74,35,"event"],[1,1512,74,41,"pointerId"],[1,1523,76,8,"this"],[1,1528,76,13,"state"],[1,1536,76,23,"State"],[1,1538,76,28,"State"],[1,1544,76,29,"ACTIVE"],[1,1553,80,4,"this"],[1,1558,80,9,"scaleGestureDetector"],[1,1579,80,30,"onTouchEvent"],[1,1592,80,43,"event"],[1,1594,80,50,"this"],[1,1599,80,55,"tracker"],[1,1608,82,8,"this"],[1,1613,82,13,"state"],[1,1621,82,23,"State"],[1,1623,82,28,"State"],[1,1629,82,29,"ACTIVE"],[1,1636,83,6,"this"],[1,1641,83,11,"end"],[1,1647,85,6,"this"],[1,1652,85,11,"fail"],[1,1659,87,2],[1,1660,89,2,"onPointerRemove"],[1,1676,89,18,"event"],[1,1679,90,4,"super"],[1,1685,90,10,"onPointerRemove"],[1,1701,90,26,"event"],[1,1704,91,4,"this"],[1,1709,91,9,"scaleGestureDetector"],[1,1730,91,30,"onTouchEvent"],[1,1743,91,43,"event"],[1,1745,91,50,"this"],[1,1750,91,55,"tracker"],[1,1759,92,4,"this"],[1,1764,92,9,"tracker"],[1,1772,92,17,"removeFromTracker"],[1,1790,92,35,"event"],[1,1792,92,41,"pointerId"],[1,1803,94,8,"this"],[1,1808,94,13,"state"],[1,1816,94,23,"State"],[1,1818,94,28,"State"],[1,1824,94,29,"ACTIVE"],[1,1832,94,39,"this"],[1,1837,94,44,"tracker"],[1,1845,94,52,"trackedPointersCount"],[1,1866,94,75],[1,1869,95,6,"this"],[1,1874,95,11,"end"],[1,1879,97,2],[1,1880,99,2,"onPointerMove"],[1,1894,99,16,"event"],[1,1897,100,8,"this"],[1,1902,100,13,"tracker"],[1,1910,100,21,"trackedPointersCount"],[1,1931,100,44],[1,1935,104,4,"this"],[1,1940,104,9,"tracker"],[1,1948,104,17,"track"],[1,1954,104,23,"event"],[1,1957,105,4,"this"],[1,1962,105,9,"scaleGestureDetector"],[1,1983,105,30,"onTouchEvent"],[1,1996,105,43,"event"],[1,1998,105,50,"this"],[1,2003,105,55,"tracker"],[1,2012,106,4,"super"],[1,2018,106,10,"onPointerMove"],[1,2032,106,24,"event"],[1,2035,107,2],[1,2036,109,2,"onPointerOutOfBounds"],[1,2057,109,23,"event"],[1,2060,110,8,"this"],[1,2065,110,13,"tracker"],[1,2073,110,21,"trackedPointersCount"],[1,2094,110,44],[1,2098,114,4,"this"],[1,2103,114,9,"tracker"],[1,2111,114,17,"track"],[1,2117,114,23,"event"],[1,2120,115,4,"this"],[1,2125,115,9,"scaleGestureDetector"],[1,2146,115,30,"onTouchEvent"],[1,2159,115,43,"event"],[1,2161,115,50,"this"],[1,2166,115,55,"tracker"],[1,2175,116,4,"super"],[1,2181,116,10,"onPointerOutOfBounds"],[1,2202,116,31,"event"],[1,2205,117,2],[1,2206,119,2,"tryBegin"],[1,2217,120,8,"this"],[1,2222,120,13,"state"],[1,2230,120,23,"State"],[1,2232,120,28,"State"],[1,2238,120,29,"UNDETERMINED"],[1,2253,124,4,"this"],[1,2258,124,9,"resetProgress"],[1,2274,125,4,"this"],[1,2279,125,9,"begin"],[1,2287,126,2],[1,2288,128,2,"activate"],[1,2297,128,11,"force"],[1,2300,129,8,"this"],[1,2305,129,13,"state"],[1,2313,129,23,"State"],[1,2315,129,28,"State"],[1,2321,129,29,"ACTIVE"],[1,2329,130,6,"this"],[1,2334,130,11,"resetProgress"],[1,2350,133,4,"super"],[1,2356,133,10,"activate"],[1,2365,133,19,"force"],[1,2367,134,2],[1,2368,136,2,"onReset"],[1,2378,137,4,"this"],[1,2383,137,9,"resetProgress"],[1,2398,138,2],[1,2399,140,2,"resetProgress"],[1,2415,141,8,"this"],[1,2420,141,13,"state"],[1,2428,141,23,"State"],[1,2430,141,28,"State"],[1,2436,141,29,"ACTIVE"],[1,2445,145,4,"this"],[1,2450,145,9,"velocity"],[1,2459,145,20],[1,2461,146,4,"this"],[1,2466,146,9,"scale"],[1,2472,146,17],[1,2474,147,2],[1,2476,149,1],[1,2479]],"functionMap":{"names":["_defineProperty","<global>","PinchGestureHandler","constructor","_defineProperty$argument_2.onScaleBegin","_defineProperty$argument_2.onScale","_defineProperty$argument_2.onScaleEnd","init","transformNativeEvent","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOutOfBounds","tryBegin","activate","onReset","resetProgress"],"mappings":"AAA,iNC;eCM;ECC;oBCY;ODG;eEC;OFc;kBGC,eH;GDI;EKE;GLG;EME;GNO;EOE;GPI;EQE;GRK;ESE;GTe;EUE;GVQ;EWE;GXQ;EYE;GZQ;EaE;GbO;EcE;GdM;EeE;GfE;EgBE;GhBO;CDE"},"hasCjsExports":false},"type":"js/module"}]}