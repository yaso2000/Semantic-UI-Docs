{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":46,"index":294}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../detectors/RotationGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":295},"end":{"line":5,"column":75,"index":370}}],"key":"daz0h2jVVKKbGU+XUZZYS7vasjE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return c}});var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2]));function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const h=Math.PI/36;class c extends o.default{constructor(...t){super(...t),s(this,\"rotation\",0),s(this,\"velocity\",0),s(this,\"cachedAnchorX\",0),s(this,\"cachedAnchorY\",0),s(this,\"rotationGestureListener\",{onRotationBegin:t=>!0,onRotation:t=>{const o=this.rotation;this.rotation+=t.rotation;const n=t.timeDelta;return n>0&&(this.velocity=(this.rotation-o)/n),Math.abs(this.rotation)>=h&&this.state===e.State.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}}),s(this,\"rotationGestureDetector\",new n.default(this.rotationGestureListener))}init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.state===e.State.ACTIVE&&(this.state===e.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===e.State.UNDETERMINED&&this.begin()}onReset(){this.state!==e.State.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}});","lineCount":1,"map":[[1,143,7,15,"Object"],[1,150,7,15,"defineProperty"],[1,165,7,15,"_e"],[1,168,7,15],[1,179,7,15,"enumerable"],[1,191,7,15],[1,193,7,15,"get"],[1,197,7,15],[1,215,7,15,"RotationGestureHandler"],[1,216,7,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"GestureHandler"],[1,236,4,0,"_interopDefault"],[1,238,4,0,"r"],[1,240,4,0,"d"],[1,242,4,0],[1,247,5,0,"RotationGestureDetector"],[1,249,5,0,"_interopDefault"],[1,251,5,0,"r"],[1,253,5,0,"d"],[1,255,5,0],[1,260,1,0],[1,269,1,9,"_defineProperty"],[1,271,1,25,"obj"],[1,273,1,30,"key"],[1,275,1,35,"value"],[1,278,1,196],[1,285,1,48,"key"],[1,290,1,55,"obj"],[1,292,1,62,"Object"],[1,299,1,69,"defineProperty"],[1,314,1,84,"obj"],[1,316,1,89,"key"],[1,318,1,94],[1,319,1,96,"value"],[1,325,1,103,"value"],[1,327,1,110,"enumerable"],[1,339,1,122],[1,341,1,128,"configurable"],[1,355,1,142],[1,357,1,148,"writable"],[1,367,1,158],[1,371,1,176,"obj"],[1,373,1,180,"key"],[1,376,1,187,"value"],[1,378,1,203,"obj"],[1,379,1,208],[1,380,6,0],[1,386,6,6,"ROTATION_RECOGNITION_THRESHOLD"],[1,388,6,39,"Math"],[1,393,6,44,"PI"],[1,396,6,49],[1,399,7,15],[1,405,7,21,"RotationGestureHandler"],[1,415,7,52,"GestureHandler"],[1,417,7,66,"default"],[1,425,8,2,"constructor"],[1,440,8,17,"args"],[1,443,9,4,"super"],[1,452,9,13,"args"],[1,455,11,4,"_defineProperty"],[1,457,11,20,"this"],[1,462,11,26],[1,473,11,38],[1,476,13,4,"_defineProperty"],[1,478,13,20,"this"],[1,483,13,26],[1,494,13,38],[1,497,15,4,"_defineProperty"],[1,499,15,20,"this"],[1,504,15,26],[1,520,15,43],[1,523,17,4,"_defineProperty"],[1,525,17,20,"this"],[1,530,17,26],[1,546,17,43],[1,549,19,4,"_defineProperty"],[1,551,19,20,"this"],[1,556,19,26],[1,582,19,53],[1,583,20,6,"onRotationBegin"],[1,599,20,23,"_detector"],[1,603,20,36],[1,605,21,6,"onRotation"],[1,616,21,18,"detector"],[1,620,22,8],[1,626,22,14,"previousRotation"],[1,628,22,33,"this"],[1,633,22,38,"rotation"],[1,642,23,8,"this"],[1,647,23,13,"rotation"],[1,657,23,25,"detector"],[1,659,23,34,"rotation"],[1,668,24,8],[1,674,24,14,"delta"],[1,676,24,22,"detector"],[1,678,24,31,"timeDelta"],[1,688,34,8],[1,695,26,12,"delta"],[1,697,26,20],[1,701,27,10,"this"],[1,706,27,15,"velocity"],[1,716,27,27,"this"],[1,721,27,32,"rotation"],[1,730,27,43,"previousRotation"],[1,733,27,63,"delta"],[1,736,30,12,"Math"],[1,741,30,17,"abs"],[1,745,30,21,"this"],[1,750,30,26,"rotation"],[1,761,30,39,"ROTATION_RECOGNITION_THRESHOLD"],[1,764,30,73,"this"],[1,769,30,78,"state"],[1,777,30,88,"State"],[1,779,30,93,"State"],[1,785,30,94,"BEGAN"],[1,792,31,10,"this"],[1,797,31,15,"activate"],[1,809,34,15],[1,812,36,6,"onRotationEnd"],[1,826,36,21,"_detector"],[1,830,37,8,"this"],[1,835,37,13,"end"],[1,844,41,4,"_defineProperty"],[1,846,41,20,"this"],[1,851,41,26],[1,877,41,53],[1,881,41,57,"RotationGestureDetector"],[1,883,41,80,"default"],[1,891,41,81,"this"],[1,896,41,86,"rotationGestureListener"],[1,921,42,2],[1,922,44,2,"init"],[1,927,44,7,"ref"],[1,929,44,12,"propsRef"],[1,932,45,4,"super"],[1,938,45,10,"init"],[1,943,45,15,"ref"],[1,945,45,20,"propsRef"],[1,948,46,4,"this"],[1,953,46,9,"shouldCancelWhenOutside"],[1,978,46,35],[1,979,47,2],[1,980,49,2,"transformNativeEvent"],[1,1003,50,4],[1,1009,50,11],[1,1010,51,6,"rotation"],[1,1019,51,16,"this"],[1,1024,51,21,"rotation"],[1,1033,51,32,"this"],[1,1038,51,37,"rotation"],[1,1047,51,48],[1,1049,52,6,"anchorX"],[1,1057,52,15,"this"],[1,1062,52,20,"getAnchorX"],[1,1075,53,6,"anchorY"],[1,1083,53,15,"this"],[1,1088,53,20,"getAnchorY"],[1,1101,54,6,"velocity"],[1,1110,54,16,"this"],[1,1115,54,21,"velocity"],[1,1124,54,32,"this"],[1,1129,54,37,"velocity"],[1,1138,54,48],[1,1140,56,2],[1,1141,58,2,"getAnchorX"],[1,1154,59,4],[1,1160,59,10,"anchorX"],[1,1162,59,20,"this"],[1,1167,59,25,"rotationGestureDetector"],[1,1191,59,49,"anchorX"],[1,1199,60,4],[1,1206,60,11,"anchorX"],[1,1209,60,31,"this"],[1,1214,60,36,"cachedAnchorX"],[1,1227,61,2],[1,1228,63,2,"getAnchorY"],[1,1241,64,4],[1,1247,64,10,"anchorY"],[1,1249,64,20,"this"],[1,1254,64,25,"rotationGestureDetector"],[1,1278,64,49,"anchorY"],[1,1286,65,4],[1,1293,65,11,"anchorY"],[1,1296,65,31,"this"],[1,1301,65,36,"cachedAnchorY"],[1,1314,66,2],[1,1315,68,2,"onPointerDown"],[1,1329,68,16,"event"],[1,1332,69,4,"this"],[1,1337,69,9,"tracker"],[1,1345,69,17,"addToTracker"],[1,1358,69,30,"event"],[1,1361,70,4,"super"],[1,1367,70,10,"onPointerDown"],[1,1381,70,24,"event"],[1,1384,71,4,"this"],[1,1389,71,9,"tryToSendTouchEvent"],[1,1409,71,29,"event"],[1,1411,72,2],[1,1412,74,2,"onPointerAdd"],[1,1425,74,15,"event"],[1,1428,75,4,"this"],[1,1433,75,9,"tracker"],[1,1441,75,17,"addToTracker"],[1,1454,75,30,"event"],[1,1457,76,4,"super"],[1,1463,76,10,"onPointerAdd"],[1,1476,76,23,"event"],[1,1479,77,4,"this"],[1,1484,77,9,"tryBegin"],[1,1495,78,4,"this"],[1,1500,78,9,"rotationGestureDetector"],[1,1524,78,33,"onTouchEvent"],[1,1537,78,46,"event"],[1,1539,78,53,"this"],[1,1544,78,58,"tracker"],[1,1552,79,2],[1,1553,81,2,"onPointerMove"],[1,1567,81,16,"event"],[1,1570,82,8,"this"],[1,1575,82,13,"tracker"],[1,1583,82,21,"trackedPointersCount"],[1,1604,82,44],[1,1608,86,8,"this"],[1,1613,86,13,"getAnchorX"],[1,1628,87,6,"this"],[1,1633,87,11,"cachedAnchorX"],[1,1647,87,27,"this"],[1,1652,87,32,"getAnchorX"],[1,1666,90,8,"this"],[1,1671,90,13,"getAnchorY"],[1,1686,91,6,"this"],[1,1691,91,11,"cachedAnchorY"],[1,1705,91,27,"this"],[1,1710,91,32,"getAnchorY"],[1,1724,94,4,"this"],[1,1729,94,9,"tracker"],[1,1737,94,17,"track"],[1,1743,94,23,"event"],[1,1746,95,4,"this"],[1,1751,95,9,"rotationGestureDetector"],[1,1775,95,33,"onTouchEvent"],[1,1788,95,46,"event"],[1,1790,95,53,"this"],[1,1795,95,58,"tracker"],[1,1804,96,4,"super"],[1,1810,96,10,"onPointerMove"],[1,1824,96,24,"event"],[1,1827,97,2],[1,1828,99,2,"onPointerOutOfBounds"],[1,1849,99,23,"event"],[1,1852,100,8,"this"],[1,1857,100,13,"tracker"],[1,1865,100,21,"trackedPointersCount"],[1,1886,100,44],[1,1890,104,8,"this"],[1,1895,104,13,"getAnchorX"],[1,1910,105,6,"this"],[1,1915,105,11,"cachedAnchorX"],[1,1929,105,27,"this"],[1,1934,105,32,"getAnchorX"],[1,1948,108,8,"this"],[1,1953,108,13,"getAnchorY"],[1,1968,109,6,"this"],[1,1973,109,11,"cachedAnchorY"],[1,1987,109,27,"this"],[1,1992,109,32,"getAnchorY"],[1,2006,112,4,"this"],[1,2011,112,9,"tracker"],[1,2019,112,17,"track"],[1,2025,112,23,"event"],[1,2028,113,4,"this"],[1,2033,113,9,"rotationGestureDetector"],[1,2057,113,33,"onTouchEvent"],[1,2070,113,46,"event"],[1,2072,113,53,"this"],[1,2077,113,58,"tracker"],[1,2086,114,4,"super"],[1,2092,114,10,"onPointerOutOfBounds"],[1,2113,114,31,"event"],[1,2116,115,2],[1,2117,117,2,"onPointerUp"],[1,2129,117,14,"event"],[1,2132,118,4,"super"],[1,2138,118,10,"onPointerUp"],[1,2150,118,22,"event"],[1,2153,119,4,"this"],[1,2158,119,9,"tracker"],[1,2166,119,17,"removeFromTracker"],[1,2184,119,35,"event"],[1,2186,119,41,"pointerId"],[1,2197,120,4,"this"],[1,2202,120,9,"rotationGestureDetector"],[1,2226,120,33,"onTouchEvent"],[1,2239,120,46,"event"],[1,2241,120,53,"this"],[1,2246,120,58,"tracker"],[1,2255,122,8,"this"],[1,2260,122,13,"state"],[1,2268,122,23,"State"],[1,2270,122,28,"State"],[1,2276,122,29,"ACTIVE"],[1,2285,126,8,"this"],[1,2290,126,13,"state"],[1,2298,126,23,"State"],[1,2300,126,28,"State"],[1,2306,126,29,"ACTIVE"],[1,2313,127,6,"this"],[1,2318,127,11,"end"],[1,2324,129,6,"this"],[1,2329,129,11,"fail"],[1,2336,131,2],[1,2337,133,2,"onPointerRemove"],[1,2353,133,18,"event"],[1,2356,134,4,"super"],[1,2362,134,10,"onPointerRemove"],[1,2378,134,26,"event"],[1,2381,135,4,"this"],[1,2386,135,9,"rotationGestureDetector"],[1,2410,135,33,"onTouchEvent"],[1,2423,135,46,"event"],[1,2425,135,53,"this"],[1,2430,135,58,"tracker"],[1,2439,136,4,"this"],[1,2444,136,9,"tracker"],[1,2452,136,17,"removeFromTracker"],[1,2470,136,35,"event"],[1,2472,136,41,"pointerId"],[1,2482,137,2],[1,2483,139,2,"tryBegin"],[1,2494,140,8,"this"],[1,2499,140,13,"state"],[1,2507,140,23,"State"],[1,2509,140,28,"State"],[1,2515,140,29,"UNDETERMINED"],[1,2529,144,4,"this"],[1,2534,144,9,"begin"],[1,2541,145,2],[1,2542,147,2,"onReset"],[1,2552,148,8,"this"],[1,2557,148,13,"state"],[1,2565,148,23,"State"],[1,2567,148,28,"State"],[1,2573,148,29,"ACTIVE"],[1,2582,152,4,"this"],[1,2587,152,9,"rotation"],[1,2596,152,20],[1,2598,153,4,"this"],[1,2603,153,9,"velocity"],[1,2612,153,20],[1,2614,154,4,"this"],[1,2619,154,9,"rotationGestureDetector"],[1,2643,154,33,"reset"],[1,2651,155,2],[1,2653,157,1],[1,2656]],"functionMap":{"names":["_defineProperty","<global>","RotationGestureHandler","constructor","_defineProperty$argument_2.onRotationBegin","_defineProperty$argument_2.onRotation","_defineProperty$argument_2.onRotationEnd","init","transformNativeEvent","getAnchorX","getAnchorY","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","onReset"],"mappings":"AAA,iNC;eCM;ECC;uBCY,iBD;kBEC;OFc;qBGC;OHE;GDI;EKE;GLG;EME;GNO;EOE;GPG;EQE;GRG;ESE;GTI;EUE;GVK;EWE;GXgB;EYE;GZgB;EaE;Gbc;EcE;GdI;EeE;GfM;EgBE;GhBQ;CDE"},"hasCjsExports":false},"type":"js/module"}]}