{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Vibration","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"xqouzFNKDceuw8OaLCxfK72BAPE=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":32,"index":140}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNotificationSound = useNotificationSound;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsVibration = require(_dependencyMap[2], \"react-native-web/dist/exports/Vibration\");\n  var Vibration = _interopDefault(_reactNativeWebDistExportsVibration);\n  var _expoAv = require(_dependencyMap[3], \"expo-av\");\n  function useNotificationSound() {\n    _s();\n    const soundRef = (0, _react.useRef)(null);\n    const lastUnreadCount = (0, _react.useRef)(0);\n    (0, _react.useEffect)(() => {\n      // Set up audio mode\n      const setupAudio = async () => {\n        if (Platform.default.OS !== 'web') {\n          try {\n            await _expoAv.Audio.setAudioModeAsync({\n              allowsRecordingIOS: false,\n              playsInSilentModeIOS: true,\n              staysActiveInBackground: false,\n              shouldDuckAndroid: true\n            });\n          } catch (error) {\n            console.log('Audio setup error:', error);\n          }\n        }\n      };\n      setupAudio();\n      return () => {\n        // Cleanup sound on unmount\n        if (soundRef.current) {\n          soundRef.current.unloadAsync();\n        }\n      };\n    }, []);\n    const playNotificationSound = (0, _react.useCallback)(async () => {\n      try {\n        // Vibrate (works on mobile)\n        if (Platform.default.OS !== 'web') {\n          // Ù†Ù…Ø· Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±: ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²-ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²\n          Vibration.default.vibrate([0, 200, 100, 200]);\n          console.log('ðŸ”” Notification vibration triggered');\n        }\n\n        // Play system notification sound using Audio API\n        if (Platform.default.OS !== 'web') {\n          try {\n            // Unload previous sound if exists\n            if (soundRef.current) {\n              await soundRef.current.unloadAsync();\n            }\n\n            // Use expo-av's built-in notification approach\n            const {\n              sound\n            } = await _expoAv.Audio.Sound.createAsync({\n              uri: 'https://notificationsounds.com/storage/sounds/file-sounds-1150-pristine.mp3'\n            }, {\n              shouldPlay: true,\n              volume: 0.7\n            });\n            soundRef.current = sound;\n            console.log('ðŸ”Š Notification sound played');\n\n            // Unload after playing\n            sound.setOnPlaybackStatusUpdate(status => {\n              if (status.isLoaded && status.didJustFinish) {\n                sound.unloadAsync();\n              }\n            });\n          } catch (soundError) {\n            // Sound might fail, but vibration already worked\n            console.log('Sound playback skipped (vibration used instead):', soundError);\n          }\n        }\n      } catch (error) {\n        console.log('Notification error:', error);\n      }\n    }, []);\n    const checkAndPlaySound = (0, _react.useCallback)(newUnreadCount => {\n      // Play sound only if unread count increased\n      if (newUnreadCount > lastUnreadCount.current) {\n        console.log(`ðŸ“¬ New messages detected: ${lastUnreadCount.current} -> ${newUnreadCount}`);\n        playNotificationSound();\n      }\n      lastUnreadCount.current = newUnreadCount;\n    }, [playNotificationSound]);\n    return {\n      playNotificationSound,\n      checkAndPlaySound\n    };\n  }\n  _s(useNotificationSound, \"4/vbe8AdhgpENnWxDUvnISpfK8s=\");\n});","lineCount":106,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useNotificationSound"],[13,30,5,0],[13,33,5,0,"useNotificationSound"],[13,53,5,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,1,55],[15,6,1,55,"_reactNativeWebDistExportsPlatform"],[15,40,1,55],[15,43,1,55,"require"],[15,50,1,55],[15,51,1,55,"_dependencyMap"],[15,65,1,55],[16,2,1,55],[16,6,1,55,"Platform"],[16,14,1,55],[16,17,1,55,"_interopDefault"],[16,32,1,55],[16,33,1,55,"_reactNativeWebDistExportsPlatform"],[16,67,1,55],[17,2,1,55],[17,6,1,55,"_reactNativeWebDistExportsVibration"],[17,41,1,55],[17,44,1,55,"require"],[17,51,1,55],[17,52,1,55,"_dependencyMap"],[17,66,1,55],[18,2,1,55],[18,6,1,55,"Vibration"],[18,15,1,55],[18,18,1,55,"_interopDefault"],[18,33,1,55],[18,34,1,55,"_reactNativeWebDistExportsVibration"],[18,69,1,55],[19,2,3,0],[19,6,3,0,"_expoAv"],[19,13,3,0],[19,16,3,0,"require"],[19,23,3,0],[19,24,3,0,"_dependencyMap"],[19,38,3,0],[20,2,5,7],[20,11,5,16,"useNotificationSound"],[20,31,5,36,"useNotificationSound"],[20,32,5,36],[20,34,5,39],[21,4,5,39,"_s"],[21,6,5,39],[22,4,6,2],[22,10,6,8,"soundRef"],[22,18,6,16],[22,21,6,19],[22,25,6,19,"useRef"],[22,31,6,25],[22,32,6,25,"useRef"],[22,38,6,25],[22,40,6,46],[22,44,6,50],[22,45,6,51],[23,4,7,2],[23,10,7,8,"lastUnreadCount"],[23,25,7,23],[23,28,7,26],[23,32,7,26,"useRef"],[23,38,7,32],[23,39,7,32,"useRef"],[23,45,7,32],[23,47,7,33],[23,48,7,34],[23,49,7,35],[24,4,9,2],[24,8,9,2,"useEffect"],[24,14,9,11],[24,15,9,11,"useEffect"],[24,24,9,11],[24,26,9,12],[24,32,9,18],[25,6,10,4],[26,6,11,4],[26,12,11,10,"setupAudio"],[26,22,11,20],[26,25,11,23],[26,31,11,23,"setupAudio"],[26,32,11,23],[26,37,11,35],[27,8,12,6],[27,12,12,10,"Platform"],[27,20,12,18],[27,21,12,18,"default"],[27,28,12,18],[27,29,12,19,"OS"],[27,31,12,21],[27,36,12,26],[27,41,12,31],[27,43,12,33],[28,10,13,8],[28,14,13,12],[29,12,14,10],[29,18,14,16,"Audio"],[29,25,14,21],[29,26,14,21,"Audio"],[29,31,14,21],[29,32,14,22,"setAudioModeAsync"],[29,49,14,39],[29,50,14,40],[30,14,15,12,"allowsRecordingIOS"],[30,32,15,30],[30,34,15,32],[30,39,15,37],[31,14,16,12,"playsInSilentModeIOS"],[31,34,16,32],[31,36,16,34],[31,40,16,38],[32,14,17,12,"staysActiveInBackground"],[32,37,17,35],[32,39,17,37],[32,44,17,42],[33,14,18,12,"shouldDuckAndroid"],[33,31,18,29],[33,33,18,31],[34,12,19,10],[34,13,19,11],[34,14,19,12],[35,10,20,8],[35,11,20,9],[35,12,20,10],[35,19,20,17,"error"],[35,24,20,22],[35,26,20,24],[36,12,21,10,"console"],[36,19,21,17],[36,20,21,18,"log"],[36,23,21,21],[36,24,21,22],[36,44,21,42],[36,46,21,44,"error"],[36,51,21,49],[36,52,21,50],[37,10,22,8],[38,8,23,6],[39,6,24,4],[39,7,24,5],[40,6,26,4,"setupAudio"],[40,16,26,14],[40,17,26,15],[40,18,26,16],[41,6,28,4],[41,13,28,11],[41,19,28,17],[42,8,29,6],[43,8,30,6],[43,12,30,10,"soundRef"],[43,20,30,18],[43,21,30,19,"current"],[43,28,30,26],[43,30,30,28],[44,10,31,8,"soundRef"],[44,18,31,16],[44,19,31,17,"current"],[44,26,31,24],[44,27,31,25,"unloadAsync"],[44,38,31,36],[44,39,31,37],[44,40,31,38],[45,8,32,6],[46,6,33,4],[46,7,33,5],[47,4,34,2],[47,5,34,3],[47,7,34,5],[47,9,34,7],[47,10,34,8],[48,4,36,2],[48,10,36,8,"playNotificationSound"],[48,31,36,29],[48,34,36,32],[48,38,36,32,"useCallback"],[48,44,36,43],[48,45,36,43,"useCallback"],[48,56,36,43],[48,58,36,44],[48,70,36,56],[49,6,37,4],[49,10,37,8],[50,8,38,6],[51,8,39,6],[51,12,39,10,"Platform"],[51,20,39,18],[51,21,39,18,"default"],[51,28,39,18],[51,29,39,19,"OS"],[51,31,39,21],[51,36,39,26],[51,41,39,31],[51,43,39,33],[52,10,40,8],[53,10,41,8,"Vibration"],[53,19,41,17],[53,20,41,17,"default"],[53,27,41,17],[53,28,41,18,"vibrate"],[53,35,41,25],[53,36,41,26],[53,37,41,27],[53,38,41,28],[53,40,41,30],[53,43,41,33],[53,45,41,35],[53,48,41,38],[53,50,41,40],[53,53,41,43],[53,54,41,44],[53,55,41,45],[54,10,42,8,"console"],[54,17,42,15],[54,18,42,16,"log"],[54,21,42,19],[54,22,42,20],[54,59,42,57],[54,60,42,58],[55,8,43,6],[57,8,45,6],[58,8,46,6],[58,12,46,10,"Platform"],[58,20,46,18],[58,21,46,18,"default"],[58,28,46,18],[58,29,46,19,"OS"],[58,31,46,21],[58,36,46,26],[58,41,46,31],[58,43,46,33],[59,10,47,8],[59,14,47,12],[60,12,48,10],[61,12,49,10],[61,16,49,14,"soundRef"],[61,24,49,22],[61,25,49,23,"current"],[61,32,49,30],[61,34,49,32],[62,14,50,12],[62,20,50,18,"soundRef"],[62,28,50,26],[62,29,50,27,"current"],[62,36,50,34],[62,37,50,35,"unloadAsync"],[62,48,50,46],[62,49,50,47],[62,50,50,48],[63,12,51,10],[65,12,53,10],[66,12,54,10],[66,18,54,16],[67,14,54,18,"sound"],[68,12,54,24],[68,13,54,25],[68,16,54,28],[68,22,54,34,"Audio"],[68,29,54,39],[68,30,54,39,"Audio"],[68,35,54,39],[68,36,54,40,"Sound"],[68,41,54,45],[68,42,54,46,"createAsync"],[68,53,54,57],[68,54,55,12],[69,14,55,14,"uri"],[69,17,55,17],[69,19,55,19],[70,12,55,97],[70,13,55,98],[70,15,56,12],[71,14,56,14,"shouldPlay"],[71,24,56,24],[71,26,56,26],[71,30,56,30],[72,14,56,32,"volume"],[72,20,56,38],[72,22,56,40],[73,12,56,44],[73,13,57,10],[73,14,57,11],[74,12,59,10,"soundRef"],[74,20,59,18],[74,21,59,19,"current"],[74,28,59,26],[74,31,59,29,"sound"],[74,36,59,34],[75,12,60,10,"console"],[75,19,60,17],[75,20,60,18,"log"],[75,23,60,21],[75,24,60,22],[75,54,60,52],[75,55,60,53],[77,12,62,10],[78,12,63,10,"sound"],[78,17,63,15],[78,18,63,16,"setOnPlaybackStatusUpdate"],[78,43,63,41],[78,44,63,43,"status"],[78,50,63,49],[78,54,63,54],[79,14,64,12],[79,18,64,16,"status"],[79,24,64,22],[79,25,64,23,"isLoaded"],[79,33,64,31],[79,37,64,35,"status"],[79,43,64,41],[79,44,64,42,"didJustFinish"],[79,57,64,55],[79,59,64,57],[80,16,65,14,"sound"],[80,21,65,19],[80,22,65,20,"unloadAsync"],[80,33,65,31],[80,34,65,32],[80,35,65,33],[81,14,66,12],[82,12,67,10],[82,13,67,11],[82,14,67,12],[83,10,68,8],[83,11,68,9],[83,12,68,10],[83,19,68,17,"soundError"],[83,29,68,27],[83,31,68,29],[84,12,69,10],[85,12,70,10,"console"],[85,19,70,17],[85,20,70,18,"log"],[85,23,70,21],[85,24,70,22],[85,74,70,72],[85,76,70,74,"soundError"],[85,86,70,84],[85,87,70,85],[86,10,71,8],[87,8,72,6],[88,6,73,4],[88,7,73,5],[88,8,73,6],[88,15,73,13,"error"],[88,20,73,18],[88,22,73,20],[89,8,74,6,"console"],[89,15,74,13],[89,16,74,14,"log"],[89,19,74,17],[89,20,74,18],[89,41,74,39],[89,43,74,41,"error"],[89,48,74,46],[89,49,74,47],[90,6,75,4],[91,4,76,2],[91,5,76,3],[91,7,76,5],[91,9,76,7],[91,10,76,8],[92,4,78,2],[92,10,78,8,"checkAndPlaySound"],[92,27,78,25],[92,30,78,28],[92,34,78,28,"useCallback"],[92,40,78,39],[92,41,78,39,"useCallback"],[92,52,78,39],[92,54,78,41,"newUnreadCount"],[92,68,78,63],[92,72,78,68],[93,6,79,4],[94,6,80,4],[94,10,80,8,"newUnreadCount"],[94,24,80,22],[94,27,80,25,"lastUnreadCount"],[94,42,80,40],[94,43,80,41,"current"],[94,50,80,48],[94,52,80,50],[95,8,81,6,"console"],[95,15,81,13],[95,16,81,14,"log"],[95,19,81,17],[95,20,81,18],[95,49,81,47,"lastUnreadCount"],[95,64,81,62],[95,65,81,63,"current"],[95,72,81,70],[95,79,81,77,"newUnreadCount"],[95,93,81,91],[95,95,81,93],[95,96,81,94],[96,8,82,6,"playNotificationSound"],[96,29,82,27],[96,30,82,28],[96,31,82,29],[97,6,83,4],[98,6,84,4,"lastUnreadCount"],[98,21,84,19],[98,22,84,20,"current"],[98,29,84,27],[98,32,84,30,"newUnreadCount"],[98,46,84,44],[99,4,85,2],[99,5,85,3],[99,7,85,5],[99,8,85,6,"playNotificationSound"],[99,29,85,27],[99,30,85,28],[99,31,85,29],[100,4,87,2],[100,11,87,9],[101,6,87,11,"playNotificationSound"],[101,27,87,32],[102,6,87,34,"checkAndPlaySound"],[103,4,87,52],[103,5,87,53],[104,2,88,0],[105,2,88,1,"_s"],[105,4,88,1],[105,5,5,16,"useNotificationSound"],[105,25,5,36],[106,0,5,36],[106,3]],"functionMap":{"names":["<global>","useNotificationSound","useEffect$argument_0","setupAudio","<anonymous>","playNotificationSound","sound.setOnPlaybackStatusUpdate$argument_0","checkAndPlaySound"],"mappings":"AAA;OCI;YCI;uBCE;KDa;WEI;KFK;GDC;4CIE;0CC2B;WDI;GJS;wCME;GNO;CDG"},"hasCjsExports":false},"type":"js/module"}]}