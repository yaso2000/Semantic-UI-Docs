{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":29,"index":254},"end":{"line":13,"column":84,"index":309}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectSpread2","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":44,"index":416},"end":{"line":16,"column":91,"index":463}}],"key":"F+ExrfS9dcoZxXJOBwTmx09hji8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).default;e.__esModule=!0,e.default=void 0;var s=t(r(d[1]));class l{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var n=[],_=10,h=null;e.default=class{static addListener(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),n.push(t),{remove:()=>{n=n.filter(s=>t!==s)}}}static setSampleRate(t){h=t}static setMinSampleCount(t){_=t}constructor(t){this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}deactivateAndFlush(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var l=g.performance.now()-t,h=(0,s.default)((0,s.default)({},this._info),{},{total_time_spent:l});n.forEach(t=>t(h)),this._resetData()}}}computeBlankness(t,s,l){if(!this._enabled||0===t.getItemCount(t.data)||s.last<s.first||null==this._samplesStartTime)return 0;var n=l.dOffset,_=l.offset,h=l.velocity,o=l.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(n));var u=Math.round(1e3*Math.abs(h)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,p=s.first,k=this._getFrameMetrics(p,t);p<=s.last&&(!k||!k.inLayout);)k=this._getFrameMetrics(p,t),p++;k&&p>0&&(c=Math.min(o,Math.max(0,k.offset-_)));for(var y=0,b=s.last,S=this._getFrameMetrics(b,t);b>=s.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(b,t),b--;if(S&&b<t.getItemCount(t.data)-1){var M=S.offset+S.length;y=Math.min(o,Math.max(0,_+o-M))}var v=Math.round(c+y),T=v/o;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=v,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),T}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}};m.exports=e.default});","lineCount":1,"map":[[1,28,11,0],[1,41,13,0],[1,45,13,4,"_interopRequireDefault"],[1,47,13,29,"require"],[1,49,13,36,"d"],[1,51,13,36],[1,55,13,85,"default"],[1,63,14,0,"exports"],[1,65,14,8,"__esModule"],[1,77,14,21],[1,79,15,0,"exports"],[1,81,15,8,"default"],[1,94,15,15,"undefined"],[1,96,16,0],[1,100,16,4,"_objectSpread2"],[1,102,16,21,"_interopRequireDefault"],[1,104,16,44,"require"],[1,106,16,51,"d"],[1,108,16,51],[1,113,17,0],[1,119,17,6,"Info"],[1,121,18,2,"constructor"],[1,135,19,4,"this"],[1,140,19,9,"any_blank_count"],[1,156,19,27],[1,158,20,4,"this"],[1,163,20,9,"any_blank_ms"],[1,176,20,24],[1,178,21,4,"this"],[1,183,21,9,"any_blank_speed_sum"],[1,203,21,31],[1,205,22,4,"this"],[1,210,22,9,"mostly_blank_count"],[1,229,22,30],[1,231,23,4,"this"],[1,236,23,9,"mostly_blank_ms"],[1,252,23,27],[1,254,24,4,"this"],[1,259,24,9,"pixels_blank"],[1,272,24,24],[1,274,25,4,"this"],[1,279,25,9,"pixels_sampled"],[1,294,25,26],[1,296,26,4,"this"],[1,301,26,9,"pixels_scrolled"],[1,317,26,27],[1,319,27,4,"this"],[1,324,27,9,"total_time_spent"],[1,341,27,28],[1,343,28,4,"this"],[1,348,28,9,"sample_count"],[1,361,28,24],[1,362,29,2],[1,364,31,0],[1,368,32,4,"_listeners"],[1,370,32,17],[1,373,33,4,"_minSampleCount"],[1,375,33,22],[1,378,34,4,"_sampleRate"],[1,380,34,30],[1,385,195,15,"exports"],[1,387,195,23,"default"],[1,395,44,0],[1,401,45,2],[1,419,45,9,"addListener"],[1,420,45,21,"callback"],[1,423,50,4],[1,430,46,24],[1,437,46,8,"_sampleRate"],[1,440,47,6,"console"],[1,448,47,14,"warn"],[1,453,47,19],[1,514,49,4,"_listeners"],[1,516,49,15,"push"],[1,521,49,20,"callback"],[1,524,50,11],[1,525,51,6,"remove"],[1,532,51,14,"remove"],[1,537,52,8,"_listeners"],[1,539,52,21,"_listeners"],[1,541,52,32,"filter"],[1,548,52,39,"listener"],[1,551,52,51,"callback"],[1,555,52,64,"listener"],[1,559,55,2],[1,560,56,2],[1,580,56,9,"setSampleRate"],[1,581,56,23,"sampleRate"],[1,584,57,4,"_sampleRate"],[1,586,57,18,"sampleRate"],[1,587,58,2],[1,588,59,2],[1,612,59,9,"setMinSampleCount"],[1,613,59,27,"minSampleCount"],[1,616,60,4,"_minSampleCount"],[1,618,60,22,"minSampleCount"],[1,619,61,2],[1,620,62,2,"constructor"],[1,632,62,14,"getFrameMetrics"],[1,635,63,4,"this"],[1,640,63,9,"_anyBlankStartTime"],[1,659,63,30],[1,664,64,4,"this"],[1,669,64,9,"_enabled"],[1,679,64,20],[1,681,65,4,"this"],[1,686,65,9,"_info"],[1,692,65,17],[1,696,65,21,"Info"],[1,698,66,4,"this"],[1,703,66,9,"_mostlyBlankStartTime"],[1,725,66,33],[1,730,67,4,"this"],[1,735,67,9,"_samplesStartTime"],[1,753,67,29],[1,758,68,4,"this"],[1,763,68,9,"_getFrameMetrics"],[1,780,68,28,"getFrameMetrics"],[1,782,69,4,"this"],[1,787,69,9,"_enabled"],[1,797,69,21,"_sampleRate"],[1,800,69,36],[1,803,69,41,"Math"],[1,808,69,46,"random"],[1,817,70,4,"this"],[1,822,70,9,"_resetData"],[1,834,71,2],[1,835,72,2,"activate"],[1,846,73,8,"this"],[1,851,73,13,"_enabled"],[1,861,73,51],[1,867,73,25,"this"],[1,872,73,30,"_samplesStartTime"],[1,892,75,6,"this"],[1,897,75,11,"_samplesStartTime"],[1,915,75,31,"global"],[1,917,75,38,"performance"],[1,929,75,50,"now"],[1,935,77,2],[1,936,78,2,"deactivateAndFlush"],[1,957,79,4],[1,960,79,9,"this"],[1,965,79,14,"_enabled"],[1,974,79,4],[1,975,82,4],[1,979,82,8,"start"],[1,981,82,16,"this"],[1,986,82,21,"_samplesStartTime"],[1,1004,83,4],[1,1007,83,17],[1,1013,83,8,"start"],[1,1015,87,4],[1,1018,87,8,"this"],[1,1023,87,13,"_info"],[1,1029,87,19,"sample_count"],[1,1042,87,34,"_minSampleCount"],[1,1044,89,6,"this"],[1,1049,89,11,"_resetData"],[1,1066,87,4],[1,1067,92,4],[1,1071,92,8,"total_time_spent"],[1,1073,92,27,"global"],[1,1075,92,34,"performance"],[1,1087,92,46,"now"],[1,1093,92,54,"start"],[1,1095,93,8,"info"],[1,1098,93,15],[1,1100,93,19,"_objectSpread2"],[1,1102,93,34,"default"],[1,1112,93,43],[1,1114,93,47,"_objectSpread2"],[1,1116,93,62,"default"],[1,1125,93,71],[1,1126,93,72],[1,1128,93,75,"this"],[1,1133,93,80,"_info"],[1,1140,93,88],[1,1141,93,89],[1,1143,93,92],[1,1144,94,6,"total_time_spent"],[1,1165,115,4,"_listeners"],[1,1167,115,15,"forEach"],[1,1175,115,23,"listener"],[1,1178,115,35,"listener"],[1,1180,115,44,"info"],[1,1184,116,4,"this"],[1,1189,116,9,"_resetData"],[1,1201,91,4],[1,1202,81,4],[1,1203,117,2],[1,1204,118,2,"computeBlankness"],[1,1221,118,19,"props"],[1,1223,118,26,"cellsAroundViewport"],[1,1225,118,47,"scrollMetrics"],[1,1228,119,4],[1,1232,119,9,"this"],[1,1237,119,14,"_enabled"],[1,1247,119,61],[1,1251,119,26,"props"],[1,1253,119,32,"getItemCount"],[1,1266,119,45,"props"],[1,1268,119,51,"data"],[1,1275,119,66,"cellsAroundViewport"],[1,1277,119,86,"last"],[1,1282,119,93,"cellsAroundViewport"],[1,1284,119,113,"first"],[1,1291,119,148],[1,1297,119,122,"this"],[1,1302,119,127,"_samplesStartTime"],[1,1320,120,6],[1,1327,120,13],[1,1329,122,4],[1,1333,122,8,"dOffset"],[1,1335,122,18,"scrollMetrics"],[1,1337,122,32,"dOffset"],[1,1345,123,6,"offset"],[1,1347,123,15,"scrollMetrics"],[1,1349,123,29,"offset"],[1,1356,124,6,"velocity"],[1,1358,124,17,"scrollMetrics"],[1,1360,124,31,"velocity"],[1,1369,125,6,"visibleLength"],[1,1371,125,22,"scrollMetrics"],[1,1373,125,36,"visibleLength"],[1,1387,129,4,"this"],[1,1392,129,9,"_info"],[1,1398,129,15,"sample_count"],[1,1413,130,4,"this"],[1,1418,130,9,"_info"],[1,1424,130,15,"pixels_sampled"],[1,1440,130,33,"Math"],[1,1445,130,38,"round"],[1,1451,130,44,"visibleLength"],[1,1454,131,4,"this"],[1,1459,131,9,"_info"],[1,1465,131,15,"pixels_scrolled"],[1,1482,131,34,"Math"],[1,1487,131,39,"round"],[1,1493,131,45,"Math"],[1,1498,131,50,"abs"],[1,1502,131,54,"dOffset"],[1,1506,132,4],[1,1510,132,8,"scrollSpeed"],[1,1512,132,22,"Math"],[1,1517,132,27,"round"],[1,1523,132,54],[1,1527,132,33,"Math"],[1,1532,132,38,"abs"],[1,1536,132,42,"velocity"],[1,1540,135,8,"now"],[1,1542,135,14,"global"],[1,1544,135,21,"performance"],[1,1556,135,33,"now"],[1,1562,136,35],[1,1568,136,8,"this"],[1,1573,136,13,"_anyBlankStartTime"],[1,1594,137,6,"this"],[1,1599,137,11,"_info"],[1,1605,137,17,"any_blank_ms"],[1,1619,137,33,"now"],[1,1621,137,39,"this"],[1,1626,137,44,"_anyBlankStartTime"],[1,1646,139,4,"this"],[1,1651,139,9,"_anyBlankStartTime"],[1,1670,139,30],[1,1675,140,38],[1,1681,140,8,"this"],[1,1686,140,13,"_mostlyBlankStartTime"],[1,1710,141,6,"this"],[1,1715,141,11,"_info"],[1,1721,141,17,"mostly_blank_ms"],[1,1738,141,36,"now"],[1,1740,141,42,"this"],[1,1745,141,47,"_mostlyBlankStartTime"],[1,1768,143,4,"this"],[1,1773,143,9,"_mostlyBlankStartTime"],[1,1795,143,33],[1,1800,147,4],[1,1804,144,4],[1,1808,144,8,"blankTop"],[1,1810,144,19],[1,1812,145,8,"first"],[1,1814,145,16,"cellsAroundViewport"],[1,1816,145,36,"first"],[1,1822,146,8,"firstFrame"],[1,1824,146,21,"this"],[1,1829,146,26,"_getFrameMetrics"],[1,1846,146,43,"first"],[1,1848,146,50,"props"],[1,1851,147,11,"first"],[1,1854,147,20,"cellsAroundViewport"],[1,1856,147,40,"last"],[1,1864,147,50,"firstFrame"],[1,1868,147,65,"firstFrame"],[1,1870,147,76,"inLayout"],[1,1881,148,6,"firstFrame"],[1,1883,148,19,"this"],[1,1888,148,24,"_getFrameMetrics"],[1,1905,148,41,"first"],[1,1907,148,48,"props"],[1,1910,149,6,"first"],[1,1914,153,8,"firstFrame"],[1,1917,153,22,"first"],[1,1919,153,30],[1,1923,154,6,"blankTop"],[1,1925,154,17,"Math"],[1,1930,154,22,"min"],[1,1934,154,26,"visibleLength"],[1,1936,154,41,"Math"],[1,1941,154,46,"max"],[1,1945,154,50],[1,1947,154,53,"firstFrame"],[1,1949,154,64,"offset"],[1,1956,154,73,"offset"],[1,1961,159,4],[1,1965,156,4],[1,1969,156,8,"blankBottom"],[1,1971,156,22],[1,1973,157,8,"last"],[1,1975,157,15,"cellsAroundViewport"],[1,1977,157,35,"last"],[1,1982,158,8,"lastFrame"],[1,1984,158,20,"this"],[1,1989,158,25,"_getFrameMetrics"],[1,2006,158,42,"last"],[1,2008,158,48,"props"],[1,2011,159,11,"last"],[1,2014,159,19,"cellsAroundViewport"],[1,2016,159,39,"first"],[1,2025,159,50,"lastFrame"],[1,2029,159,64,"lastFrame"],[1,2031,159,74,"inLayout"],[1,2042,160,6,"lastFrame"],[1,2044,160,18,"this"],[1,2049,160,23,"_getFrameMetrics"],[1,2066,160,40,"last"],[1,2068,160,46,"props"],[1,2071,161,6,"last"],[1,2075,165,4],[1,2078,165,8,"lastFrame"],[1,2081,165,21,"last"],[1,2083,165,28,"props"],[1,2085,165,34,"getItemCount"],[1,2098,165,47,"props"],[1,2100,165,53,"data"],[1,2106,165,61],[1,2108,165,64],[1,2109,166,6],[1,2113,166,10,"bottomEdge"],[1,2115,166,23,"lastFrame"],[1,2117,166,33,"offset"],[1,2124,166,42,"lastFrame"],[1,2126,166,52,"length"],[1,2133,167,6,"blankBottom"],[1,2135,167,20,"Math"],[1,2140,167,25,"min"],[1,2144,167,29,"visibleLength"],[1,2146,167,44,"Math"],[1,2151,167,49,"max"],[1,2155,167,53],[1,2157,167,56,"offset"],[1,2159,167,65,"visibleLength"],[1,2161,167,81,"bottomEdge"],[1,2164,168,4],[1,2165,169,4],[1,2169,169,8,"pixels_blank"],[1,2171,169,23,"Math"],[1,2176,169,28,"round"],[1,2182,169,34,"blankTop"],[1,2184,169,45,"blankBottom"],[1,2187,170,8,"blankness"],[1,2189,170,20,"pixels_blank"],[1,2191,170,35,"visibleLength"],[1,2193,183,4],[1,2200,171,8,"blankness"],[1,2202,171,20],[1,2205,172,6,"this"],[1,2210,172,11,"_anyBlankStartTime"],[1,2229,172,32,"now"],[1,2231,173,6,"this"],[1,2236,173,11,"_info"],[1,2242,173,17,"any_blank_speed_sum"],[1,2263,173,40,"scrollSpeed"],[1,2265,174,6,"this"],[1,2270,174,11,"_info"],[1,2276,174,17,"any_blank_count"],[1,2294,175,6,"this"],[1,2299,175,11,"_info"],[1,2305,175,17,"pixels_blank"],[1,2319,175,33,"pixels_blank"],[1,2321,176,10,"blankness"],[1,2323,176,22],[1,2328,177,8,"this"],[1,2333,177,13,"_mostlyBlankStartTime"],[1,2355,177,37,"now"],[1,2357,178,8,"this"],[1,2362,178,13,"_info"],[1,2368,178,19,"mostly_blank_count"],[1,2392,180,15,"scrollSpeed"],[1,2394,180,29],[1,2399,180,37,"Math"],[1,2404,180,42,"abs"],[1,2408,180,46,"dOffset"],[1,2411,180,57],[1,2415,181,6,"this"],[1,2420,181,11,"deactivateAndFlush"],[1,2441,183,11,"blankness"],[1,2442,184,2],[1,2443,185,2,"enabled"],[1,2453,186,4],[1,2460,186,11,"this"],[1,2465,186,16,"_enabled"],[1,2473,187,2],[1,2474,188,2,"_resetData"],[1,2487,189,4,"this"],[1,2492,189,9,"_anyBlankStartTime"],[1,2511,189,30],[1,2516,190,4,"this"],[1,2521,190,9,"_info"],[1,2527,190,17],[1,2531,190,21,"Info"],[1,2533,191,4,"this"],[1,2538,191,9,"_mostlyBlankStartTime"],[1,2560,191,33],[1,2565,192,4,"this"],[1,2570,192,9,"_samplesStartTime"],[1,2588,192,29],[1,2592,193,2],[1,2595,196,0,"module"],[1,2597,196,7,"exports"],[1,2605,196,17,"exports"],[1,2607,196,25,"default"],[1,2614,196,33],[1,2617]],"functionMap":{"names":["<global>","Info","Info#constructor","FillRateHelper","FillRateHelper.addListener","remove","_listeners.filter$argument_0","FillRateHelper.setSampleRate","FillRateHelper.setMinSampleCount","FillRateHelper#constructor","FillRateHelper#activate","FillRateHelper#deactivateAndFlush","_listeners.forEach$argument_0","FillRateHelper#computeBlankness","FillRateHelper#enabled","FillRateHelper#_resetData"],"mappings":"AAA;ACgB;ECC;GDW;CDC;AGc;ECC;cCM;uCCC,iCD;ODC;GDE;EIC;GJE;EKC;GLE;EMC;GNS;EOC;GPK;EQC;uBCqC,0BD;GRE;EUC;GVkE;EWC;GXE;EYC;GZK;CHC"},"hasCjsExports":true},"type":"js/module"}]}