{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Vibration","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"xqouzFNKDceuw8OaLCxfK72BAPE=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":32,"index":140}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNotificationSound = useNotificationSound;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsVibration = require(_dependencyMap[2], \"react-native-web/dist/exports/Vibration\");\n  var Vibration = _interopDefault(_reactNativeWebDistExportsVibration);\n  var _expoAv = require(_dependencyMap[3], \"expo-av\");\n  function useNotificationSound() {\n    const soundRef = (0, _react.useRef)(null);\n    const lastUnreadCount = (0, _react.useRef)(0);\n    (0, _react.useEffect)(() => {\n      // Set up audio mode\n      const setupAudio = async () => {\n        if (Platform.default.OS !== 'web') {\n          try {\n            await _expoAv.Audio.setAudioModeAsync({\n              allowsRecordingIOS: false,\n              playsInSilentModeIOS: true,\n              staysActiveInBackground: false,\n              shouldDuckAndroid: true\n            });\n          } catch (error) {\n            console.log('Audio setup error:', error);\n          }\n        }\n      };\n      setupAudio();\n      return () => {\n        // Cleanup sound on unmount\n        if (soundRef.current) {\n          soundRef.current.unloadAsync();\n        }\n      };\n    }, []);\n    const playNotificationSound = (0, _react.useCallback)(async () => {\n      try {\n        // Vibrate (works on mobile)\n        if (Platform.default.OS !== 'web') {\n          // Ù†Ù…Ø· Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±: ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²-ØªÙˆÙ‚Ù-Ø§Ù‡ØªØ²Ø§Ø²\n          Vibration.default.vibrate([0, 200, 100, 200]);\n          console.log('ðŸ”” Notification vibration triggered');\n        }\n\n        // Play system notification sound using Audio API\n        if (Platform.default.OS !== 'web') {\n          try {\n            // Unload previous sound if exists\n            if (soundRef.current) {\n              await soundRef.current.unloadAsync();\n            }\n\n            // Use expo-av's built-in notification approach\n            const {\n              sound\n            } = await _expoAv.Audio.Sound.createAsync({\n              uri: 'https://notificationsounds.com/storage/sounds/file-sounds-1150-pristine.mp3'\n            }, {\n              shouldPlay: true,\n              volume: 0.7\n            });\n            soundRef.current = sound;\n            console.log('ðŸ”Š Notification sound played');\n\n            // Unload after playing\n            sound.setOnPlaybackStatusUpdate(status => {\n              if (status.isLoaded && status.didJustFinish) {\n                sound.unloadAsync();\n              }\n            });\n          } catch (soundError) {\n            // Sound might fail, but vibration already worked\n            console.log('Sound playback skipped (vibration used instead):', soundError);\n          }\n        }\n      } catch (error) {\n        console.log('Notification error:', error);\n      }\n    }, []);\n    const checkAndPlaySound = (0, _react.useCallback)(newUnreadCount => {\n      // Play sound only if unread count increased\n      if (newUnreadCount > lastUnreadCount.current) {\n        console.log(`ðŸ“¬ New messages detected: ${lastUnreadCount.current} -> ${newUnreadCount}`);\n        playNotificationSound();\n      }\n      lastUnreadCount.current = newUnreadCount;\n    }, [playNotificationSound]);\n    return {\n      playNotificationSound,\n      checkAndPlaySound\n    };\n  }\n});","lineCount":103,"map":[[12,2,5,0,"exports"],[12,9,5,0],[12,10,5,0,"useNotificationSound"],[12,30,5,0],[12,33,5,0,"useNotificationSound"],[12,53,5,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,1,55],[14,6,1,55,"_reactNativeWebDistExportsPlatform"],[14,40,1,55],[14,43,1,55,"require"],[14,50,1,55],[14,51,1,55,"_dependencyMap"],[14,65,1,55],[15,2,1,55],[15,6,1,55,"Platform"],[15,14,1,55],[15,17,1,55,"_interopDefault"],[15,32,1,55],[15,33,1,55,"_reactNativeWebDistExportsPlatform"],[15,67,1,55],[16,2,1,55],[16,6,1,55,"_reactNativeWebDistExportsVibration"],[16,41,1,55],[16,44,1,55,"require"],[16,51,1,55],[16,52,1,55,"_dependencyMap"],[16,66,1,55],[17,2,1,55],[17,6,1,55,"Vibration"],[17,15,1,55],[17,18,1,55,"_interopDefault"],[17,33,1,55],[17,34,1,55,"_reactNativeWebDistExportsVibration"],[17,69,1,55],[18,2,3,0],[18,6,3,0,"_expoAv"],[18,13,3,0],[18,16,3,0,"require"],[18,23,3,0],[18,24,3,0,"_dependencyMap"],[18,38,3,0],[19,2,5,7],[19,11,5,16,"useNotificationSound"],[19,31,5,36,"useNotificationSound"],[19,32,5,36],[19,34,5,39],[20,4,6,2],[20,10,6,8,"soundRef"],[20,18,6,16],[20,21,6,19],[20,25,6,19,"useRef"],[20,31,6,25],[20,32,6,25,"useRef"],[20,38,6,25],[20,40,6,46],[20,44,6,50],[20,45,6,51],[21,4,7,2],[21,10,7,8,"lastUnreadCount"],[21,25,7,23],[21,28,7,26],[21,32,7,26,"useRef"],[21,38,7,32],[21,39,7,32,"useRef"],[21,45,7,32],[21,47,7,33],[21,48,7,34],[21,49,7,35],[22,4,9,2],[22,8,9,2,"useEffect"],[22,14,9,11],[22,15,9,11,"useEffect"],[22,24,9,11],[22,26,9,12],[22,32,9,18],[23,6,10,4],[24,6,11,4],[24,12,11,10,"setupAudio"],[24,22,11,20],[24,25,11,23],[24,31,11,23,"setupAudio"],[24,32,11,23],[24,37,11,35],[25,8,12,6],[25,12,12,10,"Platform"],[25,20,12,18],[25,21,12,18,"default"],[25,28,12,18],[25,29,12,19,"OS"],[25,31,12,21],[25,36,12,26],[25,41,12,31],[25,43,12,33],[26,10,13,8],[26,14,13,12],[27,12,14,10],[27,18,14,16,"Audio"],[27,25,14,21],[27,26,14,21,"Audio"],[27,31,14,21],[27,32,14,22,"setAudioModeAsync"],[27,49,14,39],[27,50,14,40],[28,14,15,12,"allowsRecordingIOS"],[28,32,15,30],[28,34,15,32],[28,39,15,37],[29,14,16,12,"playsInSilentModeIOS"],[29,34,16,32],[29,36,16,34],[29,40,16,38],[30,14,17,12,"staysActiveInBackground"],[30,37,17,35],[30,39,17,37],[30,44,17,42],[31,14,18,12,"shouldDuckAndroid"],[31,31,18,29],[31,33,18,31],[32,12,19,10],[32,13,19,11],[32,14,19,12],[33,10,20,8],[33,11,20,9],[33,12,20,10],[33,19,20,17,"error"],[33,24,20,22],[33,26,20,24],[34,12,21,10,"console"],[34,19,21,17],[34,20,21,18,"log"],[34,23,21,21],[34,24,21,22],[34,44,21,42],[34,46,21,44,"error"],[34,51,21,49],[34,52,21,50],[35,10,22,8],[36,8,23,6],[37,6,24,4],[37,7,24,5],[38,6,26,4,"setupAudio"],[38,16,26,14],[38,17,26,15],[38,18,26,16],[39,6,28,4],[39,13,28,11],[39,19,28,17],[40,8,29,6],[41,8,30,6],[41,12,30,10,"soundRef"],[41,20,30,18],[41,21,30,19,"current"],[41,28,30,26],[41,30,30,28],[42,10,31,8,"soundRef"],[42,18,31,16],[42,19,31,17,"current"],[42,26,31,24],[42,27,31,25,"unloadAsync"],[42,38,31,36],[42,39,31,37],[42,40,31,38],[43,8,32,6],[44,6,33,4],[44,7,33,5],[45,4,34,2],[45,5,34,3],[45,7,34,5],[45,9,34,7],[45,10,34,8],[46,4,36,2],[46,10,36,8,"playNotificationSound"],[46,31,36,29],[46,34,36,32],[46,38,36,32,"useCallback"],[46,44,36,43],[46,45,36,43,"useCallback"],[46,56,36,43],[46,58,36,44],[46,70,36,56],[47,6,37,4],[47,10,37,8],[48,8,38,6],[49,8,39,6],[49,12,39,10,"Platform"],[49,20,39,18],[49,21,39,18,"default"],[49,28,39,18],[49,29,39,19,"OS"],[49,31,39,21],[49,36,39,26],[49,41,39,31],[49,43,39,33],[50,10,40,8],[51,10,41,8,"Vibration"],[51,19,41,17],[51,20,41,17,"default"],[51,27,41,17],[51,28,41,18,"vibrate"],[51,35,41,25],[51,36,41,26],[51,37,41,27],[51,38,41,28],[51,40,41,30],[51,43,41,33],[51,45,41,35],[51,48,41,38],[51,50,41,40],[51,53,41,43],[51,54,41,44],[51,55,41,45],[52,10,42,8,"console"],[52,17,42,15],[52,18,42,16,"log"],[52,21,42,19],[52,22,42,20],[52,59,42,57],[52,60,42,58],[53,8,43,6],[55,8,45,6],[56,8,46,6],[56,12,46,10,"Platform"],[56,20,46,18],[56,21,46,18,"default"],[56,28,46,18],[56,29,46,19,"OS"],[56,31,46,21],[56,36,46,26],[56,41,46,31],[56,43,46,33],[57,10,47,8],[57,14,47,12],[58,12,48,10],[59,12,49,10],[59,16,49,14,"soundRef"],[59,24,49,22],[59,25,49,23,"current"],[59,32,49,30],[59,34,49,32],[60,14,50,12],[60,20,50,18,"soundRef"],[60,28,50,26],[60,29,50,27,"current"],[60,36,50,34],[60,37,50,35,"unloadAsync"],[60,48,50,46],[60,49,50,47],[60,50,50,48],[61,12,51,10],[63,12,53,10],[64,12,54,10],[64,18,54,16],[65,14,54,18,"sound"],[66,12,54,24],[66,13,54,25],[66,16,54,28],[66,22,54,34,"Audio"],[66,29,54,39],[66,30,54,39,"Audio"],[66,35,54,39],[66,36,54,40,"Sound"],[66,41,54,45],[66,42,54,46,"createAsync"],[66,53,54,57],[66,54,55,12],[67,14,55,14,"uri"],[67,17,55,17],[67,19,55,19],[68,12,55,97],[68,13,55,98],[68,15,56,12],[69,14,56,14,"shouldPlay"],[69,24,56,24],[69,26,56,26],[69,30,56,30],[70,14,56,32,"volume"],[70,20,56,38],[70,22,56,40],[71,12,56,44],[71,13,57,10],[71,14,57,11],[72,12,59,10,"soundRef"],[72,20,59,18],[72,21,59,19,"current"],[72,28,59,26],[72,31,59,29,"sound"],[72,36,59,34],[73,12,60,10,"console"],[73,19,60,17],[73,20,60,18,"log"],[73,23,60,21],[73,24,60,22],[73,54,60,52],[73,55,60,53],[75,12,62,10],[76,12,63,10,"sound"],[76,17,63,15],[76,18,63,16,"setOnPlaybackStatusUpdate"],[76,43,63,41],[76,44,63,43,"status"],[76,50,63,49],[76,54,63,54],[77,14,64,12],[77,18,64,16,"status"],[77,24,64,22],[77,25,64,23,"isLoaded"],[77,33,64,31],[77,37,64,35,"status"],[77,43,64,41],[77,44,64,42,"didJustFinish"],[77,57,64,55],[77,59,64,57],[78,16,65,14,"sound"],[78,21,65,19],[78,22,65,20,"unloadAsync"],[78,33,65,31],[78,34,65,32],[78,35,65,33],[79,14,66,12],[80,12,67,10],[80,13,67,11],[80,14,67,12],[81,10,68,8],[81,11,68,9],[81,12,68,10],[81,19,68,17,"soundError"],[81,29,68,27],[81,31,68,29],[82,12,69,10],[83,12,70,10,"console"],[83,19,70,17],[83,20,70,18,"log"],[83,23,70,21],[83,24,70,22],[83,74,70,72],[83,76,70,74,"soundError"],[83,86,70,84],[83,87,70,85],[84,10,71,8],[85,8,72,6],[86,6,73,4],[86,7,73,5],[86,8,73,6],[86,15,73,13,"error"],[86,20,73,18],[86,22,73,20],[87,8,74,6,"console"],[87,15,74,13],[87,16,74,14,"log"],[87,19,74,17],[87,20,74,18],[87,41,74,39],[87,43,74,41,"error"],[87,48,74,46],[87,49,74,47],[88,6,75,4],[89,4,76,2],[89,5,76,3],[89,7,76,5],[89,9,76,7],[89,10,76,8],[90,4,78,2],[90,10,78,8,"checkAndPlaySound"],[90,27,78,25],[90,30,78,28],[90,34,78,28,"useCallback"],[90,40,78,39],[90,41,78,39,"useCallback"],[90,52,78,39],[90,54,78,41,"newUnreadCount"],[90,68,78,63],[90,72,78,68],[91,6,79,4],[92,6,80,4],[92,10,80,8,"newUnreadCount"],[92,24,80,22],[92,27,80,25,"lastUnreadCount"],[92,42,80,40],[92,43,80,41,"current"],[92,50,80,48],[92,52,80,50],[93,8,81,6,"console"],[93,15,81,13],[93,16,81,14,"log"],[93,19,81,17],[93,20,81,18],[93,49,81,47,"lastUnreadCount"],[93,64,81,62],[93,65,81,63,"current"],[93,72,81,70],[93,79,81,77,"newUnreadCount"],[93,93,81,91],[93,95,81,93],[93,96,81,94],[94,8,82,6,"playNotificationSound"],[94,29,82,27],[94,30,82,28],[94,31,82,29],[95,6,83,4],[96,6,84,4,"lastUnreadCount"],[96,21,84,19],[96,22,84,20,"current"],[96,29,84,27],[96,32,84,30,"newUnreadCount"],[96,46,84,44],[97,4,85,2],[97,5,85,3],[97,7,85,5],[97,8,85,6,"playNotificationSound"],[97,29,85,27],[97,30,85,28],[97,31,85,29],[98,4,87,2],[98,11,87,9],[99,6,87,11,"playNotificationSound"],[99,27,87,32],[100,6,87,34,"checkAndPlaySound"],[101,4,87,52],[101,5,87,53],[102,2,88,0],[103,0,88,1],[103,3]],"functionMap":{"names":["<global>","useNotificationSound","useEffect$argument_0","setupAudio","<anonymous>","playNotificationSound","sound.setOnPlaybackStatusUpdate$argument_0","checkAndPlaySound"],"mappings":"AAA;OCI;YCI;uBCE;KDa;WEI;KFK;GDC;4CIE;0CC2B;WDI;GJS;wCME;GNO;CDG"},"hasCjsExports":false},"type":"js/module"}]}